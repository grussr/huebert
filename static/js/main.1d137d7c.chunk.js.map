{"version":3,"sources":["components/picker/helpers/color.js","components/picker/components/sketch/Sketch.js","components/picker/components/common/Alpha.js","components/picker/helpers/alpha.js","components/picker/helpers/checkboard.js","components/picker/components/common/EditableInput.js","components/picker/components/common/Hue.js","components/picker/helpers/hue.js","components/picker/components/common/Raised.js","components/picker/components/common/Saturation.js","components/picker/helpers/saturation.js","components/picker/components/common/ColorWrap.js","components/picker/components/common/Swatch.js","components/picker/helpers/interaction.js","components/picker/components/sketch/SketchFields.js","components/picker/components/sketch/SketchPresetColors.js","reducers/initReducer.js","reducers/index.js","reducers/lightsReducer.js","actions/types.js","reducers/roomsReducer.js","reducers/scenesReducer.js","reducers/schedulesReducer.js","reducers/rulesReducer.js","reducers/sensorsReducer.js","reducers/activeReducer.js","api/Hue.js","actions/lightActions.js","actions/roomActions.js","actions/sceneActions.js","actions/scheduleActions.js","actions/ruleActions.js","actions/sensorActions.js","actions/initActions.js","components/Menu.js","components/Info.js","utils/index.js","components/RoomItem.js","components/ScenesList.js","components/ColorPicker.js","components/CenterPanel.js","components/ToolPanel.js","components/RoomsList.js","components/RulesList.js","components/FullPanel.js","components/Setup.js","components/home/LightRow.js","components/home/LightsTable.js","components/home/LightItem.js","components/home/LightsList.js","components/home/GroupsView.js","components/App.js","hooks/useRefresh.js","index.js","components/picker/components/common/index.js","components/picker/components/common/Checkboard.js"],"names":["Object","defineProperty","exports","value","red","getContrastingColor","isValidHex","toState","simpleCheckForValidColor","undefined","_each2","_interopRequireDefault","require","_tinycolor2","obj","__esModule","default","data","checked","passed","letter","isNaN","test","oldHue","color","hex","hsl","toHsl","hsv","toHsv","rgb","toRgb","toHex","s","h","a","source","lh","String","charAt","length","isValid","col","r","g","b","l","v","Sketch","_extends","assign","target","i","arguments","key","prototype","hasOwnProperty","call","_react2","_propTypes2","_reactcss2","_merge2","_common","_SketchFields2","_SketchPresetColors2","_ref","width","onChange","onSwatchHover","disableAlpha","presetColors","renderers","_ref$styles","styles","passedStyles","_ref$className","className","saturation","paddingBottom","position","overflow","Saturation","radius","shadow","controls","display","sliders","padding","flex","height","marginTop","marginLeft","borderRadius","activeColor","absolute","background","boxShadow","hue","Hue","alpha","Alpha","createElement","style","picker","Checkboard","colors","onClick","propTypes","bool","oneOfType","string","number","object","defaultProps","ColorWrap","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","newObj","_interopRequireWildcard","_Checkboard2","_possibleConstructorReturn","self","ReferenceError","_ref2","_temp","_this","instance","TypeError","_classCallCheck","this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","handleChange","e","change","calculateChange","direction","container","handleMouseDown","window","addEventListener","handleMouseUp","unbindEventListeners","removeEventListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_this2","checkboard","gradient","margin","pointer","left","slider","transform","top","vertical","overwrite","ref","onMouseDown","onTouchMove","onTouchStart","PureComponent","Component","initialA","containerWidth","clientWidth","containerHeight","clientHeight","x","pageX","touches","y","pageY","getBoundingClientRect","pageXOffset","pageYOffset","Math","round","_a","checkboardCache","render","c1","c2","size","serverCanvas","document","canvas","ctx","getContext","fillStyle","fillRect","translate","toDataURL","get","EditableInput","UP_KEY_CODE","VALID_KEY_CODES","isValidKeyCode","keyCode","indexOf","getNumberValue","Number","replace","handleBlur","state","blurValue","setState","setUpdatedValue","handleKeyDown","offset","getArrowOffset","updatedValue","handleDrag","dragLabel","newValue","movementX","dragMax","getValueObjectWithLabel","preventDefault","toUpperCase","nextProps","input","activeElement","_defineProperty","label","arrowOffset","onChangeValue","isPercentage","getIsPercentage","wrap","cursor","onKeyDown","onBlur","placeholder","spellCheck","hideLabel","_props$direction","_h","Raised","zDepth","children","content","bg","oneOf","_throttle2","throttle","fn","cancel","white","black","circle","_container$getBoundin","bright","_debounce2","_color2","Picker","ColorPicker","event","onChangeComplete","debounce","handleSwatchHover","optionalEvents","Swatch","_interaction","_ref$onClick","onHover","_ref$title","title","focus","_ref$focusStyle","focusStyle","transparent","swatch","outline","onMouseOver","tabIndex","handleFocus","Span","_React$Component","Focus","onFocus","SketchFields","fields","paddingTop","single","paddingLeft","double","border","fontSize","textAlign","textTransform","SketchPresetColors","borderTop","flexWrap","swatchWrap","handleClick","map","colorObjOrString","c","arrayOf","shape","isRequired","rootReducer","combineReducers","lights","action","type","payload","rooms","room","id","scenes","schedules","rules","sensors","active","light","init","expanded","error","ip","username","theme","view","store","createStore","applyMiddleware","thunk","deviceAddress","localStorage","getItem","axios","baseURL","fetchLights","dispatch","updateLights","keys","setLight","put","alertLight","alert","toggleLight","on","setActiveLight","fetchRooms","roomsResponse","lightsResponse","isArray","updateRooms","lightsData","roomsData","filter","includes","setRoom","alertRoom","toggleRoom","any_on","setActiveRoom","updateScenes","updateSchedules","updateRules","updateSensors","initializeApp","settings","response","config","groups","setTheme","setItem","connect","location","isActive","path","pathname","to","name","bridgeid","modelid","dhcp","toString","mac","ipaddress","netmask","gateway","proxyaddress","proxyport","zigbeechannel","swversion","portalservices","portalconnection","convertHSBToColor","sat","bri","tinycolor","toHexString","ct","colorTemperature2rgb","green","blue","lighten","convertHSVToHSB","compatibleText","textContrast","isDark","RoomItem","toggle","onSelect","onDim","Set","sort","textColor","useRef","onChangeBrightness","current","setTimeout","backgroundImage","stopPropagation","opacity","userSelect","ctrlKey","backgroundColor","min","max","fetchScenes","availableScenes","scene","group","overflowY","bufferedColor","extractColor","rgb2colorTemperature","convertHSVToCT","newRoom","CenterPanel","ToolPanel","useEffect","fetchRules","FullPanel","createUser","post","devicetype","success","description","resetApp","clear","useState","setDeviceAddress","setExpanded","discoverDevices","internalipaddress","expand","index","onSubmit","href","rel","LightRow","disabled","reachable","LightItem","renderItems","handleSelect","setView","toggleExpanded","withRouter","interval","intervalRef","doAction","refresh","useCallback","setInterval","clearInterval","useRefresh","exact","component","GroupsView","RoomsList","RulesList","Setup","ReactDOM","querySelector","_Alpha","_Checkboard","_EditableInput","_Hue","_Raised","_Saturation","_ColorWrap","_Swatch","grey","grid"],"mappings":"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","file":"static/js/main.1d137d7c.chunk.js","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.red = exports.getContrastingColor = exports.isValidHex = exports.toState = exports.simpleCheckForValidColor = undefined;\r\n\r\nvar _each = require('lodash/each');\r\n\r\nvar _each2 = _interopRequireDefault(_each);\r\n\r\nvar _tinycolor = require('tinycolor2');\r\n\r\nvar _tinycolor2 = _interopRequireDefault(_tinycolor);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar simpleCheckForValidColor = exports.simpleCheckForValidColor = function simpleCheckForValidColor(data) {\r\n  var keysToCheck = ['r', 'g', 'b', 'a', 'h', 's', 'l', 'v'];\r\n  var checked = 0;\r\n  var passed = 0;\r\n  (0, _each2.default)(keysToCheck, function (letter) {\r\n    if (data[letter]) {\r\n      checked += 1;\r\n      if (!isNaN(data[letter])) {\r\n        passed += 1;\r\n      }\r\n      if (letter === 's' || letter === 'l') {\r\n        var percentPatt = /^\\d+%$/;\r\n        if (percentPatt.test(data[letter])) {\r\n          passed += 1;\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return checked === passed ? data : false;\r\n};\r\n\r\nvar toState = exports.toState = function toState(data, oldHue) {\r\n  var color = data.hex ? (0, _tinycolor2.default)(data.hex) : (0, _tinycolor2.default)(data);\r\n  var hsl = color.toHsl();\r\n  var hsv = color.toHsv();\r\n  var rgb = color.toRgb();\r\n  var hex = color.toHex();\r\n  if (hsl.s === 0) {\r\n    hsl.h = oldHue || 0;\r\n    hsv.h = oldHue || 0;\r\n  }\r\n  var transparent = hex === '000000' && rgb.a === 0;\r\n\r\n  return {\r\n    hsl: hsl,\r\n    hex: transparent ? 'transparent' : '#' + hex,\r\n    rgb: rgb,\r\n    hsv: hsv,\r\n    oldHue: data.h || oldHue || hsl.h,\r\n    source: data.source\r\n  };\r\n};\r\n\r\nvar isValidHex = exports.isValidHex = function isValidHex(hex) {\r\n  // disable hex4 and hex8\r\n  var lh = String(hex).charAt(0) === '#' ? 1 : 0;\r\n  return hex.length !== 4 + lh && hex.length < 7 + lh && (0, _tinycolor2.default)(hex).isValid();\r\n};\r\n\r\nvar getContrastingColor = exports.getContrastingColor = function getContrastingColor(data) {\r\n  if (!data) {\r\n    return '#fff';\r\n  }\r\n  var col = toState(data);\r\n  if (col.hex === 'transparent') {\r\n    return 'rgba(0,0,0,0.4)';\r\n  }\r\n  var yiq = (col.rgb.r * 299 + col.rgb.g * 587 + col.rgb.b * 114) / 1000;\r\n  return yiq >= 128 ? '#000' : '#fff';\r\n};\r\n\r\nvar red = exports.red = {\r\n  hsl: { a: 1, h: 0, l: 0.5, s: 1 },\r\n  hex: '#ff0000',\r\n  rgb: { r: 255, g: 0, b: 0, a: 1 },\r\n  hsv: { h: 0, s: 1, v: 1, a: 1 }\r\n};\r\n\r\nexports.default = exports;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Sketch = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _merge = require('lodash/merge');\r\n\r\nvar _merge2 = _interopRequireDefault(_merge);\r\n\r\nvar _common = require('../common');\r\n\r\nvar _SketchFields = require('./SketchFields');\r\n\r\nvar _SketchFields2 = _interopRequireDefault(_SketchFields);\r\n\r\nvar _SketchPresetColors = require('./SketchPresetColors');\r\n\r\nvar _SketchPresetColors2 = _interopRequireDefault(_SketchPresetColors);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar Sketch = exports.Sketch = function Sketch(_ref) {\r\n  var width = _ref.width,\r\n      rgb = _ref.rgb,\r\n      hex = _ref.hex,\r\n      hsv = _ref.hsv,\r\n      hsl = _ref.hsl,\r\n      onChange = _ref.onChange,\r\n      onSwatchHover = _ref.onSwatchHover,\r\n      disableAlpha = _ref.disableAlpha,\r\n      presetColors = _ref.presetColors,\r\n      renderers = _ref.renderers,\r\n      _ref$styles = _ref.styles,\r\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\r\n      _ref$className = _ref.className,\r\n      className = _ref$className === undefined ? '' : _ref$className;\r\n\r\n  var styles = (0, _reactcss2.default)((0, _merge2.default)({\r\n    'default': _extends({\r\n      // picker: {\r\n      //   width: width,\r\n      //   padding: '10px 10px 0',\r\n      //   boxSizing: 'initial',\r\n      //   background: '#fff',\r\n      //   borderRadius: '4px',\r\n      //   boxShadow: '0 0 0 1px rgba(0,0,0,.15)'\r\n      // },\r\n      saturation: {\r\n        width: '100%',\r\n        paddingBottom: '75%',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n      },\r\n      Saturation: {\r\n        radius: '3px',\r\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      },\r\n      controls: {\r\n        display: 'flex',\r\n      },\r\n      sliders: {\r\n        padding: '4px 0',\r\n        flex: '1'\r\n      },\r\n      color: {\r\n        width: '24px',\r\n        height: '24px',\r\n        position: 'relative',\r\n        marginTop: '4px',\r\n        marginLeft: '4px',\r\n        borderRadius: '3px'\r\n      },\r\n      activeColor: {\r\n        absolute: '0px 0px 0px 0px',\r\n        borderRadius: '2px',\r\n        background: 'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + rgb.a + ')',\r\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      },\r\n      hue: {\r\n        position: 'relative',\r\n        height: '10px',\r\n        overflow: 'hidden',\r\n      },\r\n      Hue: {\r\n        radius: '2px',\r\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      },\r\n\r\n      alpha: {\r\n        position: 'relative',\r\n        height: '10px',\r\n        marginTop: '4px',\r\n        overflow: 'hidden'\r\n      },\r\n      Alpha: {\r\n        radius: '2px',\r\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      }\r\n    }, passedStyles),\r\n    'disableAlpha': {\r\n      color: {\r\n        height: '10px'\r\n      },\r\n      hue: {\r\n        height: '10px'\r\n      },\r\n      alpha: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }, passedStyles), { disableAlpha: disableAlpha });\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.picker, className: 'sketch-picker ' + className },\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.saturation },\r\n      _react2.default.createElement(_common.Saturation, {\r\n        style: styles.Saturation,\r\n        hsl: hsl,\r\n        hsv: hsv,\r\n        onChange: onChange\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.controls, className: 'flexbox-fix' },\r\n      _react2.default.createElement(\r\n        'div',\r\n        { style: styles.sliders },\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.hue },\r\n          _react2.default.createElement(_common.Hue, {\r\n            style: styles.Hue,\r\n            hsl: hsl,\r\n            onChange: onChange\r\n          })\r\n        ),\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.alpha },\r\n          _react2.default.createElement(_common.Alpha, {\r\n            style: styles.Alpha,\r\n            rgb: rgb,\r\n            hsl: hsl,\r\n            renderers: renderers,\r\n            onChange: onChange\r\n          })\r\n        )\r\n      ),\r\n      _react2.default.createElement(\r\n        'div',\r\n        { style: styles.color },\r\n        _react2.default.createElement(_common.Checkboard, null),\r\n        _react2.default.createElement('div', { style: styles.activeColor })\r\n      )\r\n    ),\r\n    _react2.default.createElement(_SketchFields2.default, {\r\n      rgb: rgb,\r\n      hsl: hsl,\r\n      hex: hex,\r\n      onChange: onChange,\r\n      disableAlpha: disableAlpha\r\n    }),\r\n    _react2.default.createElement(_SketchPresetColors2.default, {\r\n      colors: presetColors,\r\n      onClick: onChange,\r\n      onSwatchHover: onSwatchHover\r\n    })\r\n  );\r\n};\r\n\r\nSketch.propTypes = {\r\n  disableAlpha: _propTypes2.default.bool,\r\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\r\n  styles: _propTypes2.default.object\r\n};\r\n\r\nSketch.defaultProps = {\r\n  disableAlpha: false,\r\n  width: 200,\r\n  styles: {},\r\n  presetColors: ['#D0021B', '#F5A623', '#F8E71C', '#8B572A', '#7ED321', '#417505', '#BD10E0', '#9013FE', '#4A90E2', '#50E3C2', '#B8E986', '#000000', '#4A4A4A', '#9B9B9B', '#FFFFFF']\r\n};\r\n\r\nexports.default = (0, _common.ColorWrap)(Sketch);","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Alpha = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _alpha = require('../../helpers/alpha');\r\n\r\nvar alpha = _interopRequireWildcard(_alpha);\r\n\r\nvar _Checkboard = require('./Checkboard');\r\n\r\nvar _Checkboard2 = _interopRequireDefault(_Checkboard);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Alpha = exports.Alpha = function (_ref) {\r\n  _inherits(Alpha, _ref);\r\n\r\n  function Alpha() {\r\n    var _ref2;\r\n\r\n    var _temp, _this, _ret;\r\n\r\n    _classCallCheck(this, Alpha);\r\n\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = Alpha.__proto__ || Object.getPrototypeOf(Alpha)).call.apply(_ref2, [this].concat(args))), _this), _this.handleChange = function (e) {\r\n      var change = alpha.calculateChange(e, _this.props.hsl, _this.props.direction, _this.props.a, _this.container);\r\n      change && typeof _this.props.onChange === 'function' && _this.props.onChange(change, e);\r\n    }, _this.handleMouseDown = function (e) {\r\n      _this.handleChange(e);\r\n      window.addEventListener('mousemove', _this.handleChange);\r\n      window.addEventListener('mouseup', _this.handleMouseUp);\r\n    }, _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    }, _this.unbindEventListeners = function () {\r\n      window.removeEventListener('mousemove', _this.handleChange);\r\n      window.removeEventListener('mouseup', _this.handleMouseUp);\r\n    }, _temp), _possibleConstructorReturn(_this, _ret);\r\n  }\r\n\r\n  _createClass(Alpha, [{\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var rgb = this.props.rgb;\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          alpha: {\r\n            absolute: '0px 0px 0px 0px',\r\n            borderRadius: this.props.radius\r\n          },\r\n          checkboard: {\r\n            absolute: '0px 0px 0px 0px',\r\n            overflow: 'hidden',\r\n            borderRadius: this.props.radius\r\n          },\r\n          gradient: {\r\n            absolute: '0px 0px 0px 0px',\r\n            background: 'linear-gradient(to right, rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 0) 0%,\\n           rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 1) 100%)',\r\n            boxShadow: this.props.shadow,\r\n            borderRadius: this.props.radius\r\n          },\r\n          container: {\r\n            position: 'relative',\r\n            height: '100%',\r\n            margin: '0 3px'\r\n          },\r\n          pointer: {\r\n            position: 'absolute',\r\n            left: rgb.a * 100 + '%'\r\n          },\r\n          slider: {\r\n            width: '4px',\r\n            borderRadius: '1px',\r\n            height: '8px',\r\n            boxShadow: '0 0 2px rgba(0, 0, 0, .6)',\r\n            background: '#fff',\r\n            marginTop: '1px',\r\n            transform: 'translateX(-2px)'\r\n          }\r\n        },\r\n        'vertical': {\r\n          gradient: {\r\n            background: 'linear-gradient(to bottom, rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 0) 0%,\\n           rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 1) 100%)'\r\n          },\r\n          pointer: {\r\n            left: 0,\r\n            top: rgb.a * 100 + '%'\r\n          }\r\n        },\r\n        'overwrite': _extends({}, this.props.style)\r\n      }, {\r\n        vertical: this.props.direction === 'vertical',\r\n        overwrite: true\r\n      });\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: styles.alpha },\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.checkboard },\r\n          _react2.default.createElement(_Checkboard2.default, { renderers: this.props.renderers })\r\n        ),\r\n        _react2.default.createElement('div', { style: styles.gradient }),\r\n        _react2.default.createElement(\r\n          'div',\r\n          {\r\n            style: styles.container,\r\n            ref: function ref(container) {\r\n              return _this2.container = container;\r\n            },\r\n            onMouseDown: this.handleMouseDown,\r\n            onTouchMove: this.handleChange,\r\n            onTouchStart: this.handleChange\r\n          },\r\n          _react2.default.createElement(\r\n            'div',\r\n            { style: styles.pointer },\r\n            this.props.pointer ? _react2.default.createElement(this.props.pointer, this.props) : _react2.default.createElement('div', { style: styles.slider })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Alpha;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = Alpha;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar calculateChange = exports.calculateChange = function calculateChange(e, hsl, direction, initialA, container) {\r\n  var containerWidth = container.clientWidth;\r\n  var containerHeight = container.clientHeight;\r\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\r\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\r\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\r\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\r\n\r\n  if (direction === 'vertical') {\r\n    var a = void 0;\r\n    if (top < 0) {\r\n      a = 0;\r\n    } else if (top > containerHeight) {\r\n      a = 1;\r\n    } else {\r\n      a = Math.round(top * 100 / containerHeight) / 100;\r\n    }\r\n\r\n    if (hsl.a !== a) {\r\n      return {\r\n        h: hsl.h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  } else {\r\n    var _a = void 0;\r\n    if (left < 0) {\r\n      _a = 0;\r\n    } else if (left > containerWidth) {\r\n      _a = 1;\r\n    } else {\r\n      _a = Math.round(left * 100 / containerWidth) / 100;\r\n    }\r\n\r\n    if (initialA !== _a) {\r\n      return {\r\n        h: hsl.h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: _a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar checkboardCache = {};\r\n\r\nvar render = exports.render = function render(c1, c2, size, serverCanvas) {\r\n  if (typeof document === 'undefined' && !serverCanvas) {\r\n    return null;\r\n  }\r\n  var canvas = serverCanvas ? new serverCanvas() : document.createElement('canvas');\r\n  canvas.width = size * 2;\r\n  canvas.height = size * 2;\r\n  var ctx = canvas.getContext('2d');\r\n  if (!ctx) {\r\n    return null;\r\n  } // If no context can be found, return early.\r\n  ctx.fillStyle = c1;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  ctx.fillStyle = c2;\r\n  ctx.fillRect(0, 0, size, size);\r\n  ctx.translate(size, size);\r\n  ctx.fillRect(0, 0, size, size);\r\n  return canvas.toDataURL();\r\n};\r\n\r\nvar get = exports.get = function get(c1, c2, size, serverCanvas) {\r\n  var key = c1 + '-' + c2 + '-' + size + (serverCanvas ? '-server' : '');\r\n\r\n  if (checkboardCache[key]) {\r\n    return checkboardCache[key];\r\n  }\r\n\r\n  var checkboard = render(c1, c2, size, serverCanvas);\r\n  checkboardCache[key] = checkboard;\r\n  return checkboard;\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.EditableInput = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar DEFAULT_ARROW_OFFSET = 1;\r\n\r\nvar UP_KEY_CODE = 38;\r\nvar DOWN_KEY_CODE = 40;\r\nvar VALID_KEY_CODES = [UP_KEY_CODE, DOWN_KEY_CODE];\r\nvar isValidKeyCode = function isValidKeyCode(keyCode) {\r\n  return VALID_KEY_CODES.indexOf(keyCode) > -1;\r\n};\r\n\r\nvar getFormattedPercentage = function getFormattedPercentage(number) {\r\n  return number + '%';\r\n};\r\nvar getNumberValue = function getNumberValue(value) {\r\n  return Number(String(value).replace(/%/g, ''));\r\n};\r\nvar getIsPercentage = function getIsPercentage(value) {\r\n  return String(value).indexOf('%') > -1;\r\n};\r\n\r\nvar EditableInput = exports.EditableInput = function (_ref) {\r\n  _inherits(EditableInput, _ref);\r\n\r\n  function EditableInput(props) {\r\n    _classCallCheck(this, EditableInput);\r\n\r\n    var _this = _possibleConstructorReturn(this, (EditableInput.__proto__ || Object.getPrototypeOf(EditableInput)).call(this));\r\n\r\n    _this.handleBlur = function () {\r\n      if (_this.state.blurValue) {\r\n        _this.setState({ value: _this.state.blurValue, blurValue: null });\r\n      }\r\n    };\r\n\r\n    _this.handleChange = function (e) {\r\n      _this.setUpdatedValue(e.target.value, e);\r\n    };\r\n\r\n    _this.handleKeyDown = function (e) {\r\n      // In case `e.target.value` is a percentage remove the `%` character\r\n      // and update accordingly with a percentage\r\n      // https://github.com/casesandberg/react-color/issues/383\r\n      var value = getNumberValue(e.target.value);\r\n      if (!isNaN(value) && isValidKeyCode(e.keyCode)) {\r\n        var offset = _this.getArrowOffset();\r\n        var updatedValue = e.keyCode === UP_KEY_CODE ? value + offset : value - offset;\r\n\r\n        _this.setUpdatedValue(updatedValue, e);\r\n      }\r\n    };\r\n\r\n    _this.handleDrag = function (e) {\r\n      if (_this.props.dragLabel) {\r\n        var newValue = Math.round(_this.props.value + e.movementX);\r\n        if (newValue >= 0 && newValue <= _this.props.dragMax) {\r\n          _this.props.onChange && _this.props.onChange(_this.getValueObjectWithLabel(newValue), e);\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.handleMouseDown = function (e) {\r\n      if (_this.props.dragLabel) {\r\n        e.preventDefault();\r\n        _this.handleDrag(e);\r\n        window.addEventListener('mousemove', _this.handleDrag);\r\n        window.addEventListener('mouseup', _this.handleMouseUp);\r\n      }\r\n    };\r\n\r\n    _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    };\r\n\r\n    _this.unbindEventListeners = function () {\r\n      window.removeEventListener('mousemove', _this.handleDrag);\r\n      window.removeEventListener('mouseup', _this.handleMouseUp);\r\n    };\r\n\r\n    _this.state = {\r\n      value: String(props.value).toUpperCase(),\r\n      blurValue: String(props.value).toUpperCase()\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  _createClass(EditableInput, [{\r\n    key: 'componentWillReceiveProps',\r\n    value: function componentWillReceiveProps(nextProps) {\r\n      var input = this.input;\r\n      if (nextProps.value !== this.state.value) {\r\n        if (input === document.activeElement) {\r\n          this.setState({ blurValue: String(nextProps.value).toUpperCase() });\r\n        } else {\r\n          this.setState({ value: String(nextProps.value).toUpperCase(), blurValue: !this.state.blurValue && String(nextProps.value).toUpperCase() });\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'getValueObjectWithLabel',\r\n    value: function getValueObjectWithLabel(value) {\r\n      return _defineProperty({}, this.props.label, value);\r\n    }\r\n  }, {\r\n    key: 'getArrowOffset',\r\n    value: function getArrowOffset() {\r\n      return this.props.arrowOffset || DEFAULT_ARROW_OFFSET;\r\n    }\r\n  }, {\r\n    key: 'setUpdatedValue',\r\n    value: function setUpdatedValue(value, e) {\r\n      var onChangeValue = this.props.label !== null ? this.getValueObjectWithLabel(value) : value;\r\n      this.props.onChange && this.props.onChange(onChangeValue, e);\r\n\r\n      var isPercentage = getIsPercentage(e.target.value);\r\n      this.setState({\r\n        value: isPercentage ? getFormattedPercentage(value) : value\r\n      });\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          wrap: {\r\n            position: 'relative'\r\n          }\r\n        },\r\n        'user-override': {\r\n          wrap: this.props.style && this.props.style.wrap ? this.props.style.wrap : {},\r\n          input: this.props.style && this.props.style.input ? this.props.style.input : {},\r\n          label: this.props.style && this.props.style.label ? this.props.style.label : {}\r\n        },\r\n        'dragLabel-true': {\r\n          label: {\r\n            cursor: 'ew-resize'\r\n          }\r\n        }\r\n      }, {\r\n        'user-override': true\r\n      }, this.props);\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: styles.wrap },\r\n        _react2.default.createElement('input', {\r\n          style: styles.input,\r\n          ref: function ref(input) {\r\n            return _this2.input = input;\r\n          },\r\n          value: this.state.value,\r\n          onKeyDown: this.handleKeyDown,\r\n          onChange: this.handleChange,\r\n          onBlur: this.handleBlur,\r\n          placeholder: this.props.placeholder,\r\n          spellCheck: 'false'\r\n        }),\r\n        this.props.label && !this.props.hideLabel ? _react2.default.createElement(\r\n          'span',\r\n          { style: styles.label, onMouseDown: this.handleMouseDown },\r\n          this.props.label\r\n        ) : null\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return EditableInput;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = EditableInput;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Hue = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _hue = require('../../helpers/hue');\r\n\r\nvar hue = _interopRequireWildcard(_hue);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Hue = exports.Hue = function (_ref) {\r\n  _inherits(Hue, _ref);\r\n\r\n  function Hue() {\r\n    var _ref2;\r\n\r\n    var _temp, _this, _ret;\r\n\r\n    _classCallCheck(this, Hue);\r\n\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = Hue.__proto__ || Object.getPrototypeOf(Hue)).call.apply(_ref2, [this].concat(args))), _this), _this.handleChange = function (e) {\r\n      var change = hue.calculateChange(e, _this.props.direction, _this.props.hsl, _this.container);\r\n      change && typeof _this.props.onChange === 'function' && _this.props.onChange(change, e);\r\n    }, _this.handleMouseDown = function (e) {\r\n      _this.handleChange(e);\r\n      window.addEventListener('mousemove', _this.handleChange);\r\n      window.addEventListener('mouseup', _this.handleMouseUp);\r\n    }, _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    }, _temp), _possibleConstructorReturn(_this, _ret);\r\n  }\r\n\r\n  _createClass(Hue, [{\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'unbindEventListeners',\r\n    value: function unbindEventListeners() {\r\n      window.removeEventListener('mousemove', this.handleChange);\r\n      window.removeEventListener('mouseup', this.handleMouseUp);\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var _props$direction = this.props.direction,\r\n          direction = _props$direction === undefined ? 'horizontal' : _props$direction;\r\n\r\n\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          hue: {\r\n            absolute: '0px 0px 0px 0px',\r\n            borderRadius: this.props.radius,\r\n            boxShadow: this.props.shadow\r\n          },\r\n          container: {\r\n            padding: '0 2px',\r\n            position: 'relative',\r\n            height: '100%',\r\n            borderRadius: this.props.radius\r\n          },\r\n          pointer: {\r\n            position: 'absolute',\r\n            left: this.props.hsl.h * 100 / 360 + '%'\r\n          },\r\n          slider: {\r\n            marginTop: '1px',\r\n            width: '4px',\r\n            borderRadius: '1px',\r\n            height: '8px',\r\n            boxShadow: '0 0 2px rgba(0, 0, 0, .6)',\r\n            background: '#fff',\r\n            transform: 'translateX(-2px)'\r\n          }\r\n        },\r\n        'vertical': {\r\n          pointer: {\r\n            left: '0px',\r\n            top: -(this.props.hsl.h * 100 / 360) + 100 + '%'\r\n          }\r\n        }\r\n      }, { vertical: direction === 'vertical' });\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: styles.hue },\r\n        _react2.default.createElement(\r\n          'div',\r\n          {\r\n            className: 'hue-' + direction,\r\n            style: styles.container,\r\n            ref: function ref(container) {\r\n              return _this2.container = container;\r\n            },\r\n            onMouseDown: this.handleMouseDown,\r\n            onTouchMove: this.handleChange,\r\n            onTouchStart: this.handleChange\r\n          },\r\n          _react2.default.createElement(\r\n            'style',\r\n            null,\r\n            '\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          '\r\n          ),\r\n          _react2.default.createElement(\r\n            'div',\r\n            { style: styles.pointer },\r\n            this.props.pointer ? _react2.default.createElement(this.props.pointer, this.props) : _react2.default.createElement('div', { style: styles.slider })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Hue;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = Hue;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar calculateChange = exports.calculateChange = function calculateChange(e, direction, hsl, container) {\r\n  var containerWidth = container.clientWidth;\r\n  var containerHeight = container.clientHeight;\r\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\r\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\r\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\r\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\r\n\r\n  if (direction === 'vertical') {\r\n    var h = void 0;\r\n    if (top < 0) {\r\n      h = 359;\r\n    } else if (top > containerHeight) {\r\n      h = 0;\r\n    } else {\r\n      var percent = -(top * 100 / containerHeight) + 100;\r\n      h = 360 * percent / 100;\r\n    }\r\n\r\n    if (hsl.h !== h) {\r\n      return {\r\n        h: h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: hsl.a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  } else {\r\n    var _h = void 0;\r\n    if (left < 0) {\r\n      _h = 0;\r\n    } else if (left > containerWidth) {\r\n      _h = 359;\r\n    } else {\r\n      var _percent = left * 100 / containerWidth;\r\n      _h = 360 * _percent / 100;\r\n    }\r\n\r\n    if (hsl.h !== _h) {\r\n      return {\r\n        h: _h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: hsl.a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Raised = undefined;\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _merge = require('lodash/merge');\r\n\r\nvar _merge2 = _interopRequireDefault(_merge);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar Raised = exports.Raised = function Raised(_ref) {\r\n  var zDepth = _ref.zDepth,\r\n      radius = _ref.radius,\r\n      background = _ref.background,\r\n      children = _ref.children,\r\n      _ref$styles = _ref.styles,\r\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles;\r\n\r\n  var styles = (0, _reactcss2.default)((0, _merge2.default)({\r\n    'default': {\r\n      wrap: {\r\n        position: 'relative',\r\n        display: 'inline-block'\r\n      },\r\n      content: {\r\n        position: 'relative'\r\n      },\r\n      bg: {\r\n        absolute: '0px 0px 0px 0px',\r\n        boxShadow: '0 ' + zDepth + 'px ' + zDepth * 4 + 'px rgba(0,0,0,.24)',\r\n        borderRadius: radius,\r\n        background: background\r\n      }\r\n    },\r\n    'zDepth-0': {\r\n      bg: {\r\n        boxShadow: 'none'\r\n      }\r\n    },\r\n\r\n    'zDepth-1': {\r\n      bg: {\r\n        boxShadow: '0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)'\r\n      }\r\n    },\r\n    'zDepth-2': {\r\n      bg: {\r\n        boxShadow: '0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)'\r\n      }\r\n    },\r\n    'zDepth-3': {\r\n      bg: {\r\n        boxShadow: '0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)'\r\n      }\r\n    },\r\n    'zDepth-4': {\r\n      bg: {\r\n        boxShadow: '0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)'\r\n      }\r\n    },\r\n    'zDepth-5': {\r\n      bg: {\r\n        boxShadow: '0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)'\r\n      }\r\n    },\r\n    'square': {\r\n      bg: {\r\n        borderRadius: '0'\r\n      }\r\n    },\r\n    'circle': {\r\n      bg: {\r\n        borderRadius: '50%'\r\n      }\r\n    }\r\n  }, passedStyles), { 'zDepth-1': zDepth === 1 });\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.wrap },\r\n    _react2.default.createElement('div', { style: styles.bg }),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.content },\r\n      children\r\n    )\r\n  );\r\n};\r\n\r\nRaised.propTypes = {\r\n  background: _propTypes2.default.string,\r\n  zDepth: _propTypes2.default.oneOf([0, 1, 2, 3, 4, 5]),\r\n  radius: _propTypes2.default.number,\r\n  styles: _propTypes2.default.object\r\n};\r\n\r\nRaised.defaultProps = {\r\n  background: '#fff',\r\n  zDepth: 1,\r\n  radius: 2,\r\n  styles: {}\r\n};\r\n\r\nexports.default = Raised;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Saturation = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _throttle = require('lodash/throttle');\r\n\r\nvar _throttle2 = _interopRequireDefault(_throttle);\r\n\r\nvar _saturation = require('../../helpers/saturation');\r\n\r\nvar saturation = _interopRequireWildcard(_saturation);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Saturation = exports.Saturation = function (_ref) {\r\n  _inherits(Saturation, _ref);\r\n\r\n  function Saturation(props) {\r\n    _classCallCheck(this, Saturation);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Saturation.__proto__ || Object.getPrototypeOf(Saturation)).call(this, props));\r\n\r\n    _this.handleChange = function (e) {\r\n      typeof _this.props.onChange === 'function' && _this.throttle(_this.props.onChange, saturation.calculateChange(e, _this.props.hsl, _this.container), e);\r\n    };\r\n\r\n    _this.handleMouseDown = function (e) {\r\n      _this.handleChange(e);\r\n      window.addEventListener('mousemove', _this.handleChange);\r\n      window.addEventListener('mouseup', _this.handleMouseUp);\r\n    };\r\n\r\n    _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    };\r\n\r\n    _this.throttle = (0, _throttle2.default)(function (fn, data, e) {\r\n      fn(data, e);\r\n    }, 50);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Saturation, [{\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.throttle.cancel();\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'unbindEventListeners',\r\n    value: function unbindEventListeners() {\r\n      window.removeEventListener('mousemove', this.handleChange);\r\n      window.removeEventListener('mouseup', this.handleMouseUp);\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var _ref2 = this.props.style || {},\r\n          color = _ref2.color,\r\n          white = _ref2.white,\r\n          black = _ref2.black,\r\n          pointer = _ref2.pointer,\r\n          circle = _ref2.circle;\r\n\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          color: {\r\n            absolute: '0px 0px 0px 0px',\r\n            background: 'hsl(' + this.props.hsl.h + ',100%, 50%)',\r\n            borderRadius: this.props.radius\r\n          },\r\n          white: {\r\n            absolute: '0px 0px 0px 0px',\r\n            borderRadius: this.props.radius\r\n          },\r\n          black: {\r\n            absolute: '0px 0px 0px 0px',\r\n            boxShadow: this.props.shadow,\r\n            borderRadius: this.props.radius\r\n          },\r\n          pointer: {\r\n            position: 'absolute',\r\n            top: -(this.props.hsv.v * 100) + 100 + '%',\r\n            left: this.props.hsv.s * 100 + '%',\r\n            cursor: 'default'\r\n          },\r\n          circle: {\r\n            width: '4px',\r\n            height: '4px',\r\n            boxShadow: '0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)',\r\n            borderRadius: '50%',\r\n            cursor: 'hand',\r\n            transform: 'translate(-2px, -2px)'\r\n          }\r\n        },\r\n        'custom': {\r\n          color: color,\r\n          white: white,\r\n          black: black,\r\n          pointer: pointer,\r\n          circle: circle\r\n        }\r\n      }, { 'custom': !!this.props.style });\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        {\r\n          style: styles.color,\r\n          ref: function ref(container) {\r\n            return _this2.container = container;\r\n          },\r\n          onMouseDown: this.handleMouseDown,\r\n          onTouchMove: this.handleChange,\r\n          onTouchStart: this.handleChange\r\n        },\r\n        _react2.default.createElement(\r\n          'style',\r\n          null,\r\n          '\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        '\r\n        ),\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.white, className: 'saturation-white' },\r\n          _react2.default.createElement('div', { style: styles.black, className: 'saturation-black' }),\r\n          _react2.default.createElement(\r\n            'div',\r\n            { style: styles.pointer },\r\n            this.props.pointer ? _react2.default.createElement(this.props.pointer, this.props) : _react2.default.createElement('div', { style: styles.circle })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Saturation;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = Saturation;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar calculateChange = exports.calculateChange = function calculateChange(e, hsl, container) {\r\n  var _container$getBoundin = container.getBoundingClientRect(),\r\n      containerWidth = _container$getBoundin.width,\r\n      containerHeight = _container$getBoundin.height;\r\n\r\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\r\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\r\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\r\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\r\n\r\n  if (left < 0) {\r\n    left = 0;\r\n  } else if (left > containerWidth) {\r\n    left = containerWidth;\r\n  } else if (top < 0) {\r\n    top = 0;\r\n  } else if (top > containerHeight) {\r\n    top = containerHeight;\r\n  }\r\n\r\n  var saturation = left * 100 / containerWidth;\r\n  var bright = -(top * 100 / containerHeight) + 100;\r\n\r\n  return {\r\n    h: hsl.h,\r\n    s: saturation,\r\n    v: bright,\r\n    a: hsl.a,\r\n    source: 'rgb'\r\n  };\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.ColorWrap = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _debounce = require('lodash/debounce');\r\n\r\nvar _debounce2 = _interopRequireDefault(_debounce);\r\n\r\nvar _color = require('../../helpers/color');\r\n\r\nvar _color2 = _interopRequireDefault(_color);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ColorWrap = exports.ColorWrap = function ColorWrap(Picker) {\r\n  var ColorPicker = function (_ref) {\r\n    _inherits(ColorPicker, _ref);\r\n\r\n    function ColorPicker(props) {\r\n      _classCallCheck(this, ColorPicker);\r\n\r\n      var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this));\r\n\r\n      _this.handleChange = function (data, event) {\r\n        var isValidColor = _color2.default.simpleCheckForValidColor(data);\r\n        if (isValidColor) {\r\n          var colors = _color2.default.toState(data, data.h || _this.state.oldHue);\r\n          _this.setState(colors);\r\n          _this.props.onChangeComplete && _this.debounce(_this.props.onChangeComplete, colors, event);\r\n          _this.props.onChange && _this.props.onChange(colors, event);\r\n        }\r\n      };\r\n\r\n      _this.handleSwatchHover = function (data, event) {\r\n        var isValidColor = _color2.default.simpleCheckForValidColor(data);\r\n        if (isValidColor) {\r\n          var colors = _color2.default.toState(data, data.h || _this.state.oldHue);\r\n          _this.props.onSwatchHover && _this.props.onSwatchHover(colors, event);\r\n        }\r\n      };\r\n\r\n      _this.state = _extends({}, _color2.default.toState(props.color, 0));\r\n\r\n      _this.debounce = (0, _debounce2.default)(function (fn, data, event) {\r\n        fn(data, event);\r\n      }, 100);\r\n      return _this;\r\n    }\r\n\r\n    _createClass(ColorPicker, [{\r\n      key: 'componentWillReceiveProps',\r\n      value: function componentWillReceiveProps(nextProps) {\r\n        this.setState(_extends({}, _color2.default.toState(nextProps.color, this.state.oldHue)));\r\n      }\r\n    }, {\r\n      key: 'render',\r\n      value: function render() {\r\n        var optionalEvents = {};\r\n        if (this.props.onSwatchHover) {\r\n          optionalEvents.onSwatchHover = this.handleSwatchHover;\r\n        }\r\n\r\n        return _react2.default.createElement(Picker, _extends({}, this.props, this.state, {\r\n          onChange: this.handleChange\r\n        }, optionalEvents));\r\n      }\r\n    }]);\r\n\r\n    return ColorPicker;\r\n  }(_react.PureComponent || _react.Component);\r\n\r\n  ColorPicker.propTypes = _extends({}, Picker.propTypes);\r\n\r\n  ColorPicker.defaultProps = _extends({}, Picker.defaultProps, {\r\n    color: {\r\n      h: 250,\r\n      s: 0.50,\r\n      l: 0.20,\r\n      a: 1\r\n    }\r\n  });\r\n\r\n  return ColorPicker;\r\n};\r\n\r\nexports.default = ColorWrap;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Swatch = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _interaction = require('../../helpers/interaction');\r\n\r\nvar _Checkboard = require('./Checkboard');\r\n\r\nvar _Checkboard2 = _interopRequireDefault(_Checkboard);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar ENTER = 13;\r\n\r\nvar Swatch = exports.Swatch = function Swatch(_ref) {\r\n  var color = _ref.color,\r\n      style = _ref.style,\r\n      _ref$onClick = _ref.onClick,\r\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\r\n      onHover = _ref.onHover,\r\n      _ref$title = _ref.title,\r\n      title = _ref$title === undefined ? color : _ref$title,\r\n      children = _ref.children,\r\n      focus = _ref.focus,\r\n      _ref$focusStyle = _ref.focusStyle,\r\n      focusStyle = _ref$focusStyle === undefined ? {} : _ref$focusStyle;\r\n\r\n  var transparent = color === 'transparent';\r\n  var styles = (0, _reactcss2.default)({\r\n    default: {\r\n      swatch: _extends({\r\n        background: color,\r\n        height: '100%',\r\n        width: '100%',\r\n        cursor: 'pointer',\r\n        position: 'relative',\r\n        outline: 'none'\r\n      }, style, focus ? focusStyle : {})\r\n    }\r\n  });\r\n\r\n  var handleClick = function handleClick(e) {\r\n    return onClick(color, e);\r\n  };\r\n  var handleKeyDown = function handleKeyDown(e) {\r\n    return e.keyCode === ENTER && onClick(color, e);\r\n  };\r\n  var handleHover = function handleHover(e) {\r\n    return onHover(color, e);\r\n  };\r\n\r\n  var optionalEvents = {};\r\n  if (onHover) {\r\n    optionalEvents.onMouseOver = handleHover;\r\n  }\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    _extends({\r\n      style: styles.swatch,\r\n      onClick: handleClick,\r\n      title: title,\r\n      tabIndex: 0,\r\n      onKeyDown: handleKeyDown\r\n    }, optionalEvents),\r\n    children,\r\n    transparent && _react2.default.createElement(_Checkboard2.default, {\r\n      borderRadius: styles.swatch.borderRadius,\r\n      boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.1)'\r\n    })\r\n  );\r\n};\r\n\r\nexports.default = (0, _interaction.handleFocus)(Swatch);","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.handleFocus = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable no-invalid-this */\r\n\r\n\r\nvar handleFocus = exports.handleFocus = function handleFocus(Component) {\r\n  var Span = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'span';\r\n  return function (_React$Component) {\r\n    _inherits(Focus, _React$Component);\r\n\r\n    function Focus() {\r\n      var _ref;\r\n\r\n      var _temp, _this, _ret;\r\n\r\n      _classCallCheck(this, Focus);\r\n\r\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n        args[_key] = arguments[_key];\r\n      }\r\n\r\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Focus.__proto__ || Object.getPrototypeOf(Focus)).call.apply(_ref, [this].concat(args))), _this), _this.state = { focus: false }, _this.handleFocus = function () {\r\n        return _this.setState({ focus: true });\r\n      }, _this.handleBlur = function () {\r\n        return _this.setState({ focus: false });\r\n      }, _temp), _possibleConstructorReturn(_this, _ret);\r\n    }\r\n\r\n    _createClass(Focus, [{\r\n      key: 'render',\r\n      value: function render() {\r\n        return _react2.default.createElement(\r\n          Span,\r\n          { onFocus: this.handleFocus, onBlur: this.handleBlur },\r\n          _react2.default.createElement(Component, _extends({}, this.props, this.state))\r\n        );\r\n      }\r\n    }]);\r\n\r\n    return Focus;\r\n  }(_react2.default.Component);\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SketchFields = undefined;\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _color = require('../../helpers/color');\r\n\r\nvar _color2 = _interopRequireDefault(_color);\r\n\r\nvar _common = require('../common');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n/* eslint-disable no-param-reassign */\r\n\r\nvar SketchFields = exports.SketchFields = function SketchFields(_ref) {\r\n  var onChange = _ref.onChange,\r\n      rgb = _ref.rgb,\r\n      hsl = _ref.hsl,\r\n      hex = _ref.hex,\r\n      disableAlpha = _ref.disableAlpha;\r\n\r\n  var styles = (0, _reactcss2.default)({\r\n    'default': {\r\n      fields: {\r\n        display: 'flex',\r\n        paddingTop: '4px'\r\n      },\r\n      single: {\r\n        flex: '1',\r\n        paddingLeft: '6px'\r\n      },\r\n      alpha: {\r\n        flex: '1',\r\n        paddingLeft: '6px'\r\n      },\r\n      double: {\r\n        flex: '2'\r\n      },\r\n      input: {\r\n        width: '80%',\r\n        padding: '4px 10% 3px',\r\n        border: 'none',\r\n        boxShadow: 'inset 0 0 0 1px #ccc',\r\n        fontSize: '11px'\r\n      },\r\n      label: {\r\n        display: 'block',\r\n        textAlign: 'center',\r\n        fontSize: '11px',\r\n        paddingTop: '3px',\r\n        paddingBottom: '4px',\r\n        textTransform: 'capitalize'\r\n      }\r\n    },\r\n    'disableAlpha': {\r\n      alpha: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }, { disableAlpha: disableAlpha });\r\n\r\n  var handleChange = function handleChange(data, e) {\r\n    if (data.hex) {\r\n      _color2.default.isValidHex(data.hex) && onChange({\r\n        hex: data.hex,\r\n        source: 'hex'\r\n      }, e);\r\n    } else if (data.r || data.g || data.b) {\r\n      onChange({\r\n        r: data.r || rgb.r,\r\n        g: data.g || rgb.g,\r\n        b: data.b || rgb.b,\r\n        a: rgb.a,\r\n        source: 'rgb'\r\n      }, e);\r\n    } else if (data.a) {\r\n      if (data.a < 0) {\r\n        data.a = 0;\r\n      } else if (data.a > 100) {\r\n        data.a = 100;\r\n      }\r\n\r\n      data.a /= 100;\r\n      onChange({\r\n        h: hsl.h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: data.a,\r\n        source: 'rgb'\r\n      }, e);\r\n    }\r\n  };\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.fields, className: 'flexbox-fix' },\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.double },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'hex',\r\n        value: hex.replace('#', ''),\r\n        onChange: handleChange\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.single },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'r',\r\n        value: rgb.r,\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '255'\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.single },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'g',\r\n        value: rgb.g,\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '255'\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.single },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'b',\r\n        value: rgb.b,\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '255'\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.alpha },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'a',\r\n        value: Math.round(rgb.a * 100),\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '100'\r\n      })\r\n    )\r\n  );\r\n};\r\n\r\nexports.default = SketchFields;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SketchPresetColors = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _common = require('../common');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar SketchPresetColors = exports.SketchPresetColors = function SketchPresetColors(_ref) {\r\n  var colors = _ref.colors,\r\n      _ref$onClick = _ref.onClick,\r\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\r\n      onSwatchHover = _ref.onSwatchHover;\r\n\r\n  var styles = (0, _reactcss2.default)({\r\n    'default': {\r\n      colors: {\r\n        margin: '0 -10px',\r\n        padding: '10px 0 0 10px',\r\n        borderTop: '1px solid #eee',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        position: 'relative'\r\n      },\r\n      swatchWrap: {\r\n        width: '16px',\r\n        height: '16px',\r\n        margin: '0 10px 10px 0'\r\n      },\r\n      swatch: {\r\n        borderRadius: '3px',\r\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15)'\r\n      }\r\n    },\r\n    'no-presets': {\r\n      colors: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }, {\r\n    'no-presets': !colors || !colors.length\r\n  });\r\n\r\n  var handleClick = function handleClick(hex, e) {\r\n    onClick({\r\n      hex: hex,\r\n      source: 'hex'\r\n    }, e);\r\n  };\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.colors, className: 'flexbox-fix' },\r\n    colors.map(function (colorObjOrString) {\r\n      var c = typeof colorObjOrString === 'string' ? { color: colorObjOrString } : colorObjOrString;\r\n      var key = '' + c.color + (c.title || '');\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { key: key, style: styles.swatchWrap },\r\n        _react2.default.createElement(_common.Swatch, _extends({}, c, {\r\n          style: styles.swatch,\r\n          onClick: handleClick,\r\n          onHover: onSwatchHover,\r\n          focusStyle: {\r\n            boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ' + c.color\r\n          }\r\n        }))\r\n      );\r\n    })\r\n  );\r\n};\r\n\r\nSketchPresetColors.propTypes = {\r\n  colors: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\r\n    color: _propTypes2.default.string,\r\n    title: _propTypes2.default.string\r\n  })])).isRequired\r\n};\r\n\r\nexports.default = SketchPresetColors;","import {\r\n  INITIALIZE_APP,\r\n  INITIALIZE_ERROR,\r\n  CREATE_USER,\r\n  SET_THEME,\r\n  SET_VIEW,\r\n  TOGGLE_EXPANDED\r\n} from \"../actions/types\";\r\n\r\nexport default (state = { expanded: true }, action) => {\r\n  switch (action.type) {\r\n    case INITIALIZE_APP:\r\n      return { ...state, ...action.payload, error: null };\r\n    case CREATE_USER:\r\n      return {\r\n        ...state,\r\n        ip: action.payload.ip,\r\n        username: action.payload.username,\r\n        error: null\r\n      };\r\n    case INITIALIZE_ERROR:\r\n      return { ...state, error: action.payload };\r\n    case SET_THEME:\r\n      return { ...state, theme: action.payload };\r\n    case SET_VIEW:\r\n      return { ...state, view: action.payload };\r\n    case TOGGLE_EXPANDED:\r\n      return { ...state, expanded: !state.expanded };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport roomsReducer from './roomsReducer';\r\nimport lightsReducer from './lightsReducer';\r\nimport scenesReducer from './scenesReducer';\r\nimport schedulesReducer from './schedulesReducer';\r\nimport rulesReducer from './rulesReducer';\r\nimport sensorsReducer from './sensorsReducer';\r\nimport activeReducer from './activeReducer';\r\nimport initReducer from './initReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  lights: lightsReducer,\r\n  rooms: roomsReducer,\r\n  scenes: scenesReducer,\r\n  schedules: schedulesReducer,\r\n  rules: rulesReducer,\r\n  sensors: sensorsReducer,\r\n  active: activeReducer,\r\n  init: initReducer\r\n});\r\n\r\nconst store = createStore(rootReducer, {}, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import { FETCH_LIGHTS } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_LIGHTS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const FETCH_ROOMS = \"fetch_rooms\";\r\nexport const SET_ROOM = \"set_room\";\r\nexport const SET_ACTIVE_ROOM = \"set_active_room\";\r\n\r\nexport const FETCH_LIGHTS = \"fetch_lights\";\r\nexport const SET_LIGHT = \"set_light\";\r\nexport const SET_ACTIVE_LIGHT = \"set_active_light\";\r\n\r\nexport const FETCH_SCENES = \"fetch_scenes\";\r\n\r\nexport const FETCH_SCHEDULES = \"fetch_schedules\";\r\n\r\nexport const FETCH_RULES = \"fetch_rules\";\r\n\r\nexport const FETCH_SENSORS = \"fetch_sensors\";\r\n\r\nexport const INITIALIZE_APP = \"initialize_app\";\r\nexport const INITIALIZE_ERROR = \"initialize_error\";\r\nexport const CREATE_USER = \"create_user\";\r\nexport const SET_THEME = \"set_theme\";\r\nexport const SET_VIEW = \"set_view\";\r\nexport const TOGGLE_EXPANDED = \"toggle_expanded\";\r\n","import { FETCH_ROOMS, SET_ROOM } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_ROOMS:\r\n      return action.payload;\r\n    case SET_ROOM:\r\n      return state.map(room => {\r\n        if (room.id === action.payload.id) {\r\n          return action.payload;\r\n        }\r\n        return room;\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_SCENES } from \"../actions/types\";\r\n\r\n\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_SCENES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_SCHEDULES } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_SCHEDULES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_RULES } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_RULES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_SENSORS } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_SENSORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SET_ACTIVE_LIGHT, SET_ACTIVE_ROOM } from \"../actions/types\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_LIGHT:\r\n      if (state.light === action.payload) {\r\n        return {};\r\n      }\r\n      return { light: action.payload };\r\n    case SET_ACTIVE_ROOM:\r\n      if (state.room === action.payload) {\r\n        return {};\r\n      }\r\n      return { room: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst deviceAddress = localStorage.getItem(\"ip\");\r\nconst username = localStorage.getItem(\"username\");\r\n\r\nexport default axios.create({\r\n  baseURL: `https://${deviceAddress}/api/${username}`\r\n});\r\n","import Hue from \"../api/Hue\";\r\nimport * as Mock from \"../__mock__\";\r\nimport {\r\n  FETCH_LIGHTS,\r\n  SET_ACTIVE_LIGHT\r\n} from \"./types\";\r\n\r\nexport const fetchLights = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/lights\");\r\n  dispatch(updateLights(data));\r\n};\r\n\r\nexport const updateLights = data => dispatch => {\r\n  const lights = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_LIGHTS,\r\n    payload: lights\r\n  });\r\n}\r\n\r\nexport const setLight = light => async dispatch => {\r\n  await Hue.put(`/lights/${light.id}/state`, light.state);\r\n  // If malformed request, return early\r\n  // if(response.data.filter(it => it.error)) {\r\n  //   return;\r\n  // }\r\n  dispatch(fetchLights());\r\n};\r\n\r\nexport const alertLight = light => async () => {\r\n  await Hue.put(`/lights/${light.id}/state`, { alert: \"select\" });\r\n  await Hue.put(`/lights/${light.id}/state`, { alert: \"none\" });\r\n};\r\n\r\nexport const toggleLight = light => async dispatch => {\r\n  await Hue.put(`/lights/${light.id}/state`, { on: !light.state.on });\r\n  dispatch(fetchLights());\r\n};\r\n\r\nexport const setActiveLight = light => dispatch => {\r\n  dispatch({\r\n    type: SET_ACTIVE_LIGHT,\r\n    payload: light\r\n  });\r\n};","import Hue from \"../api/Hue\";\r\nimport * as Mock from \"../__mock__\";\r\nimport { FETCH_ROOMS, FETCH_LIGHTS, SET_ROOM, SET_ACTIVE_ROOM } from \"./types\";\r\n\r\nexport const fetchRooms = () => async dispatch => {\r\n  const roomsResponse = await Hue.get(\"/groups\");\r\n  const lightsResponse = await Hue.get(\"/lights\");\r\n\r\n  if (Array.isArray(roomsResponse.data) || Array.isArray(lightsResponse.data)) {\r\n    // dispatch({\r\n    //   type: INITIALIZE_APP,\r\n    //   payload: { error: roomsData.data[0].error.description }\r\n    // });\r\n    return;\r\n  }\r\n\r\n  dispatch(updateRooms(lightsResponse.data, roomsResponse.data));\r\n};\r\n\r\nexport const updateRooms = (lightsData, roomsData) => dispatch => {\r\n  // Apply IDs to lights\r\n  const lights = Object.keys(lightsData).map(key => ({\r\n    ...lightsData[key],\r\n    id: key\r\n  }));\r\n\r\n  // Apply light colors to room\r\n  const rooms = Object.keys(roomsData).map(key => ({\r\n    ...roomsData[key],\r\n    id: key,\r\n    colors: lights\r\n      .filter(light => roomsData[key].lights.includes(light.id))\r\n      .map(light => light.state)\r\n  }));\r\n\r\n  // // Apply light colors to room\r\n  // const rooms = Object.values(roomsData.data).map(room => {\r\n  //   const colors = lights\r\n  //     .filter(light => room.lights.includes(light.id))\r\n  //     .map(light => light.state);\r\n  //   return { ...room, colors };\r\n  // });\r\n\r\n  dispatch({\r\n    type: FETCH_ROOMS,\r\n    payload: rooms\r\n  });\r\n\r\n  dispatch({\r\n    type: FETCH_LIGHTS,\r\n    payload: lights\r\n  });\r\n};\r\n\r\nexport const setRoom = room => async dispatch => {\r\n  await Hue.put(`/groups/${room.id}/action`, room.action);\r\n  dispatch(fetchRooms());\r\n};\r\n\r\nexport const alertRoom = room => async () => {\r\n  await Hue.put(`/groups/${room.id}/action`, { alert: \"select\" });\r\n  await Hue.put(`/groups/${room.id}/action`, { alert: \"none\" });\r\n};\r\n\r\nexport const toggleRoom = room => async dispatch => {\r\n  await Hue.put(`/groups/${room.id}/action`, {\r\n    on: !room.state.any_on\r\n  });\r\n  // TODO: FIX\r\n  dispatch({\r\n    type: SET_ROOM,\r\n    payload: { ...room, state: { ...room.state, any_on: !room.state.any_on } }\r\n  });\r\n};\r\n\r\nexport const setActiveRoom = room => dispatch => {\r\n  dispatch({\r\n    type: SET_ACTIVE_ROOM,\r\n    payload: room\r\n  });\r\n};\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_SCENES } from \"./types\";\r\n\r\nexport const fetchScenes = () => async dispatch => {\r\n  const response = await Hue.get(\"/scenes\");\r\n\r\n  dispatch(updateScenes(response.data));\r\n\r\n  // dispatch(storeSceneInfo(response.data));\r\n  // localStorage.setItem(\"scenes\", JSON.stringify(response.data));\r\n};\r\n\r\nexport const updateScenes = data => dispatch => {\r\n  const scenes = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_SCENES,\r\n    payload: scenes\r\n  });\r\n};\r\n\r\n// export const storeSceneInfo = scenes => async dispatch => {\r\n//   const promises = Object.keys(scenes).map(id => {\r\n//     console.log(\"promised\");\r\n//     return Hue.get(`/scenes/${id}`);\r\n//   });\r\n//   const sceneInfo = await Promise.all(promises);\r\n\r\n//   console.log(sceneInfo);\r\n//   scenes.forEach()\r\n// }\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_SCHEDULES } from \"./types\";\r\n\r\nexport const fetchSchedules = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/schedules\");\r\n  dispatch(updateSchedules(data));\r\n};\r\n\r\nexport const updateSchedules = data => dispatch => {\r\n  const schedules = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_SCHEDULES,\r\n    payload: schedules\r\n  });\r\n};\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_RULES } from \"./types\";\r\n\r\nexport const fetchRules = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/rules\");\r\n  dispatch(updateRules(data));\r\n};\r\n\r\nexport const updateRules = data => dispatch => {\r\n  const rules = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_RULES,\r\n    payload: rules\r\n  });\r\n};\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_SENSORS } from \"./types\";\r\n\r\nexport const fetchSensors = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/sensors\");\r\n  dispatch(updateSensors(data));\r\n};\r\n\r\nexport const updateSensors = data => dispatch => {\r\n  const sensors = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_SENSORS,\r\n    payload: sensors\r\n  });\r\n};\r\n","import axios from \"axios\";\r\nimport {\r\n  updateLights,\r\n  updateRooms,\r\n  updateScenes,\r\n  updateRules,\r\n  updateSchedules,\r\n  updateSensors\r\n} from \"../actions\";\r\nimport {\r\n  INITIALIZE_APP,\r\n  INITIALIZE_ERROR,\r\n  CREATE_USER,\r\n  SET_THEME,\r\n  SET_VIEW,\r\n  TOGGLE_EXPANDED\r\n} from \"./types\";\r\n\r\nexport const initializeApp = () => async dispatch => {\r\n  const ip = localStorage.getItem(\"ip\");\r\n  const username = localStorage.getItem(\"username\");\r\n  const theme = localStorage.getItem(\"theme\");\r\n  const view = localStorage.getItem(\"view\");\r\n\r\n  const settings = { ip, username, theme, view };\r\n  // dispatch({\r\n  //   type: INITIALIZE_APP,\r\n  //   payload: { ip, username }\r\n  // });\r\n\r\n  if (ip && username) {\r\n    const response = await axios.get(`https://${ip}/api/${username}`);\r\n\r\n    if (response.data.config) {\r\n      dispatch(updateLights(response.data.lights));\r\n      dispatch(updateRooms(response.data.lights, response.data.groups));\r\n      dispatch(updateScenes(response.data.scenes));\r\n      dispatch(updateRules(response.data.rules));\r\n      dispatch(updateSchedules(response.data.schedules));\r\n      dispatch(updateSensors(response.data.sensors));\r\n\r\n      settings.config = response.data.config;\r\n    }\r\n\r\n    dispatch({\r\n      type: INITIALIZE_APP,\r\n      payload: settings\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetApp = () => async dispatch => {\r\n  localStorage.clear();\r\n  dispatch({\r\n    type: INITIALIZE_APP\r\n  });\r\n};\r\n\r\nexport const createUser = ip => async dispatch => {\r\n  const response = await axios.post(`https://${ip}/api/`, {\r\n    devicetype: \"Huebert\"\r\n  });\r\n\r\n  if (response.data[0].success) {\r\n    localStorage.setItem(\"ip\", ip);\r\n    localStorage.setItem(\"username\", response.data[0].success.username);\r\n    dispatch({\r\n      type: CREATE_USER,\r\n      payload: { ip, username: response.data[0].success.username }\r\n    });\r\n    dispatch(initializeApp());\r\n  } else {\r\n    dispatch({\r\n      type: INITIALIZE_ERROR,\r\n      payload: response.data[0].error.description\r\n    });\r\n  }\r\n};\r\n\r\nexport const setTheme = theme => dispatch => {\r\n  localStorage.setItem(\"theme\", theme);\r\n  dispatch({\r\n    type: SET_THEME,\r\n    payload: theme\r\n  });\r\n};\r\n\r\nexport const setView = view => dispatch => {\r\n  localStorage.setItem(\"view\", view);\r\n  dispatch({\r\n    type: SET_VIEW,\r\n    payload: view\r\n  });\r\n};\r\n\r\nexport const toggleExpanded = () => dispatch => {\r\n  dispatch({ type: TOGGLE_EXPANDED });\r\n};\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Menu = ({ lights, rooms, schedules, rules, sensors, location, theme }) => {\r\n  const isActive = path => {\r\n    return path === location.pathname ? \"active\" : \"\";\r\n  };\r\n\r\n  return (\r\n    <div className={`ui fluid ${theme} vertical menu`}>\r\n      <Link className={`item ${isActive(\"/home\")}`} to=\"/home\">\r\n        Home\r\n        <div className=\"ui label blue\">{lights.length}</div>\r\n      </Link>\r\n      {/* <Link className={`item ${isActive(\"/groups\")}`} to=\"/groups\">\r\n        Groups\r\n        <div className=\"ui label blue\">{rooms.length}</div>\r\n      </Link> */}\r\n      <Link className={`disabled item ${isActive(\"/schedules\")}`} to=\"/schedules\">\r\n        Schedules\r\n        <div className=\"ui label blue\">{schedules.length}</div>\r\n      </Link>\r\n      <Link className={`disabled item ${isActive(\"/rules\")}`} to=\"/rules\">\r\n        Rules\r\n        <div className=\"ui label blue\">{rules.length}</div>\r\n      </Link>\r\n      <Link className={`disabled item ${isActive(\"/sensors\")}`} to=\"/sensors\">\r\n        Sensors\r\n        <div className=\"ui label blue\">{sensors.length}</div>\r\n      </Link>\r\n      <Link className={`item ${isActive(\"/settings\")}`} to=\"/settings\">\r\n        Settings\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    rooms: state.rooms,\r\n    lights: state.lights,\r\n    schedules: state.schedules,\r\n    rules: state.rules,\r\n    sensors: state.sensors,\r\n    theme: state.init.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Menu);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nconst Info = ({ config, theme }) => {\r\n  if (config && config.name) {\r\n    return (\r\n      <div className={`ui ${theme} segment`}>\r\n        <div className={`ui top attached ${theme === \"inverted\" ? \"black\" : null} label`}>DEVICE INFO</div>\r\n        <table className={`ui very basic compact fixed single line small ${theme} table`}>\r\n          <tbody>\r\n            <tr>\r\n              <td>Name</td>\r\n              <td>{config.name}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Bridge ID</td>\r\n              <td>{config.bridgeid}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Model ID</td>\r\n              <td>{config.modelid}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>DHCP</td>\r\n              <td>{config.dhcp.toString()}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>MAC</td>\r\n              <td>{config.mac}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>IP</td>\r\n              <td>{config.ipaddress}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Netmask</td>\r\n              <td>{config.netmask}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Gateway</td>\r\n              <td>{config.gateway}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Proxy Address</td>\r\n              <td>{config.proxyaddress}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Proxy Port</td>\r\n              <td>{config.proxyport}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Zigbee Channel</td>\r\n              <td>{config.zigbeechannel}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Software Version</td>\r\n              <td>{config.swversion}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Portal Services</td>\r\n              <td>{config.portalservices.toString()}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>Portal Connection</td>\r\n              <td>{config.portalconnection}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  } else return null;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { config: state.init.config, theme: state.init.theme };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Info);\r\n","import { colorTemperature2rgb, rgb2colorTemperature } from \"color-temperature\";\r\nimport tinycolor from 'tinycolor2';\r\nimport { textContrast } from 'text-contrast';\r\n\r\nexport const convertHSBToColor = state => {\r\n  // Lamp supports HSL\r\n  if (state.hue) {\r\n    const h = Math.round(state.hue / 182.041667);\r\n    const s = Math.round(state.sat / 2.54);\r\n    const v = Math.round(state.bri / 2.54);\r\n\r\n    const color = tinycolor({ h, s, v});\r\n    return color.toHexString();\r\n  }\r\n\r\n  // Lamp supports CT\r\n  if (state.ct) {\r\n    const rgb = colorTemperature2rgb(1e6/state.ct);\r\n    const color = tinycolor({r: rgb.red, g: rgb.green, b: rgb.blue });\r\n    // color.darken(100 - Math.round(state.bri / 2.54));\r\n    return color.lighten(15).toHexString();\r\n  }\r\n\r\n  return \"#FFFFFF\"\r\n};\r\n\r\n\r\nexport const convertHSVToHSB = color => {\r\n  const hue = Math.round(color.hsv.h * 182.041667);\r\n  const sat = Math.round(color.hsv.s * 254);\r\n  const bri = Math.round(color.hsv.v * 253) + 1;\r\n\r\n  return { hue, sat, bri };\r\n}\r\n\r\nexport const convertHSVToCT = color => {\r\n  const { r, g, b } = color.rgb;\r\n  return { \r\n    ct: Math.round(803.7 - (rgb2colorTemperature({ red: r, green: g, blue: b }) / 10)),\r\n    bri: Math.round(color.hsv.v * 253) + 1\r\n  };\r\n}\r\n\r\nexport const compatibleText = color => {\r\n  if (!color) {\r\n    return \"black\";\r\n  }\r\n  return textContrast.isDark(color) ? \"white\" : \"black\"\r\n}\r\n\r\nexport const isAdjustable = state => {\r\n  if (state.hue || state.ct) return true;\r\n  return false;\r\n}","import React, { useRef } from \"react\";\r\nimport { convertHSBToColor, compatibleText } from \"../utils\";\r\n\r\nconst RoomItem = ({ room, toggle, alert, active, onSelect, onDim }) => {\r\n  const colors = [\r\n    ...new Set(\r\n      room.colors\r\n        .filter(light => light.hue)\r\n        .map(light => convertHSBToColor(light))\r\n        .sort()\r\n    )\r\n  ];\r\n  const textColor = compatibleText(colors[0] || \"#FFFFFF\");\r\n  // const iconColor = compatibleText(colors[colors.length - 1] || \"#FFFFFF\");\r\n\r\n  // Throttle calls to onChangeBrightness()\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    onDim({ ...room, action: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelect = event => {\r\n    onSelect(room);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const handleAlert = event => {\r\n    if (event.ctrlKey) {\r\n      alert(room);\r\n      event.stopPropagation();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className=\"ui card\"\r\n      style={{\r\n        backgroundImage: `linear-gradient(to right, ${\r\n          colors.length > 1 ? colors : [colors[0], colors[0]]\r\n        })`,\r\n        width: \"100%\"\r\n      }}\r\n      onClick={handleSelect}\r\n    >\r\n      <div className=\"content\">\r\n        <div\r\n          style={{ color: textColor, opacity: 0.7, userSelect: \"none\" }}\r\n          onClick={handleAlert}\r\n        >\r\n          {room.name}\r\n          <span className=\"ui right floated icon\">\r\n            <i\r\n              className={`${active ? \"check\" : null} icon`}\r\n              style={{ color: textColor, opacity: 0.7 }}\r\n            />\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"extra content\" style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            className=\"slide\"\r\n            type=\"range\"\r\n            min={0}\r\n            max={254}\r\n            value={room.action.bri}\r\n            onChange={event => onChangeBrightness(Number(event.target.value))}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"extra content\" style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <span className=\"ui fitted right floated toggle checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={room.state.any_on}\r\n            onChange={() => toggle(room)}\r\n            // disabled={!light.state.reachable}\r\n          />\r\n          <label></label>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoomItem;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchScenes, fetchRooms, setRoom } from \"../actions\";\r\n\r\nconst ScenesList = ({ scenes, active, setRoom, theme }) => {\r\n  const availableScenes = scenes.filter(scene => active.room ? scene.group === active.room.id : false)\r\n  \r\n  const applyScene = id => {\r\n    // console.log(id);\r\n    // console.log(active);\r\n    if (active.room) {\r\n      setRoom({ id: active.room.id, action: { scene: id }})\r\n    }\r\n  }\r\n\r\n  const renderScenes = () => {\r\n    return availableScenes.map(scene => {\r\n        return (\r\n          <div \r\n            className=\"item\" \r\n            key={scene.id}\r\n            onClick={() => applyScene(scene.id)}\r\n          >\r\n            <div className=\"content\">\r\n              {scene.name}\r\n            </div>\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  return (\r\n      <div className={`ui ${theme} segment`} style={{ overflowY: \"hidden\", height: \"48vh\" }}>\r\n        {/* <div className=\"ui top attached blue label\"> */}\r\n        <div className={`ui top attached ${theme === \"inverted\" ? \"black\" : null} label`}>\r\n          SCENES\r\n          {/* <div className=\"ui horizontal right label blue\">{availableScenes.length}</div> */}\r\n        </div>\r\n        <div\r\n          className={`ui middle aligned ${theme} selection list`}\r\n          style={{ overflowY: \"auto\", height: \"102%\" }}\r\n        >\r\n          {renderScenes()}\r\n        </div>\r\n      </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { scenes: state.scenes, active: state.active, theme: state.init.theme };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchScenes, fetchRooms, setRoom })(ScenesList);\r\n","import React, { useRef } from \"react\";\r\nimport SketchPicker from \"./picker/components/sketch/Sketch\";\r\nimport { connect } from \"react-redux\";\r\nimport { setLight, setRoom } from \"../actions\";\r\nimport { convertHSBToColor, convertHSVToHSB, convertHSVToCT, isAdjustable } from \"../utils\";\r\n\r\nconst LIGHT_ELEMENT = 100;\r\nconst GROUP_ELEMENT = 500;\r\n\r\nconst ColorPicker = ({ active, setLight, setRoom, theme }) => {\r\n  // Throttle calls to handleChange()\r\n  let bufferedColor = useRef(null);\r\n\r\n  if (!isAdjustable(active.action || active.state)) {\r\n    return null;\r\n  }\r\n\r\n  const type = active ? (active.action ? GROUP_ELEMENT : LIGHT_ELEMENT) : null;\r\n\r\n  const extractColor = () => {\r\n    switch (type) {\r\n      case LIGHT_ELEMENT:\r\n        return convertHSBToColor(active.state);\r\n      case GROUP_ELEMENT:\r\n        return convertHSBToColor(active.action);\r\n      default:\r\n        return \"#2185D0\";\r\n    }\r\n  };\r\n\r\n  const handleChange = (color, event) => {\r\n    if (bufferedColor.current !== null) {\r\n      return;\r\n    }\r\n    bufferedColor.current = color;\r\n\r\n    switch (type) {\r\n      case LIGHT_ELEMENT:\r\n        if (active.state.hue) {\r\n          const { hue, sat, bri } = convertHSVToHSB(color);\r\n          setLight({ id: active.id, state: { hue, sat, bri } });\r\n        } else {\r\n          const { ct, bri } = convertHSVToCT(color);\r\n          setLight({ id: active.id, state: { ct, bri } });\r\n        }\r\n        break;\r\n      case GROUP_ELEMENT:\r\n        const { hue, sat, bri } = convertHSVToHSB(color);\r\n        const newRoom = { id: active.id, action: { hue, sat, bri } };\r\n        setRoom(newRoom);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      bufferedColor.current = null;\r\n    }, type);\r\n  };\r\n\r\n  return (\r\n    <div className={`ui ${theme} segment`}>\r\n      {/* <div className={`ui top attached ${active ? \"blue\" : \"\"} label`}>{active ? active.name : \"Color\"}</div> */}\r\n      <div className={`ui top attached ${theme === \"inverted\" ? \"black\" : null} label`}>{active ? active.name.toUpperCase() : \"Color\"}</div>\r\n      <SketchPicker\r\n        width={null}\r\n        color={extractColor()}\r\n        onChange={handleChange}\r\n        disableAlpha\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    active: state.active.light ? state.active.light : state.active.room,\r\n    theme: state.init.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setLight, setRoom })(ColorPicker);\r\n","import React from \"react\";\r\n\r\nconst CenterPanel = ({ onClick, children }) => {\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"eight wide column\"\r\n        style={{ overflowY: \"auto\", height: \"100%\" }}\r\n        onClick={onClick}\r\n      >\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CenterPanel;\r\n","import React from \"react\";\r\n\r\nconst ToolPanel = ({ onClick, children }) => {\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"four wide column\"\r\n        style={{ overflowY: \"auto\", height: \"100%\" }}\r\n        onClick={onClick}\r\n      >\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ToolPanel;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  fetchRooms,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setRoom,\r\n  setActiveRoom\r\n} from \"../actions\";\r\nimport RoomItem from \"./RoomItem\";\r\nimport ScenesList from \"./ScenesList\";\r\nimport ColorPicker from \"./ColorPicker\";\r\nimport CenterPanel from \"./CenterPanel\";\r\nimport ToolPanel from './ToolPanel';\r\n\r\nconst RoomsList = ({\r\n  rooms,\r\n  active,\r\n  fetchRooms,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setRoom,\r\n  setActiveRoom\r\n}) => {\r\n  useEffect(() => {\r\n    fetchRooms();\r\n  }, []);\r\n\r\n  const renderItems = () => {\r\n    return rooms.map(room => {\r\n      return (\r\n        <RoomItem\r\n          key={room.id}\r\n          room={room}\r\n          alert={alertRoom}\r\n          toggle={toggleRoom}\r\n          active={active.room ? room.id === active.room.id : false}\r\n          onSelect={setActiveRoom}\r\n          onDim={setRoom}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderControls = () => {\r\n    return (\r\n      <ToolPanel>\r\n        {active.light || active.room ? <ColorPicker /> : null}\r\n        {active.room ? <ScenesList /> : null}\r\n      </ToolPanel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CenterPanel onClick={() => setActiveRoom(null)} >\r\n        <div className=\"ui three stackable link cards\">\r\n          {rooms ? renderItems() : null}\r\n        </div>\r\n      </CenterPanel>\r\n      {renderControls()}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    rooms: state.rooms,\r\n    active: state.active\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchRooms,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setRoom,\r\n  setActiveRoom\r\n})(RoomsList);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchRules } from \"../actions\";\r\n\r\nconst RulesList = ({ rules }) => {\r\n  return <div>RulesList</div>;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { rules: state.rules };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchRules })(RulesList);\r\n","import React from \"react\";\r\n\r\nconst FullPanel = ({ onClick, children }) => {\r\n  return (\r\n    <>\r\n      <div\r\n        className=\"twelve wide column\"\r\n        style={{ overflowY: \"auto\", height: \"100%\" }}\r\n        onClick={onClick}\r\n      >\r\n        {children}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default FullPanel;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport { initializeApp, resetApp, createUser } from \"../actions\";\r\nimport FullPanel from \"./FullPanel\";\r\n\r\nconst Setup = ({ init, createUser }) => {\r\n  const [deviceAddress, setDeviceAddress] = useState(\"\");\r\n  const [expanded, setExpanded] = useState(null);\r\n\r\n  useEffect(() => {\r\n    discoverDevices();\r\n  }, []);\r\n\r\n  const discoverDevices = async () => {\r\n    if (init.ip) {\r\n      setDeviceAddress(init.ip);\r\n    } else {\r\n      const response = await axios.get(\"https://discovery.meethue.com\");\r\n      if (response.data[0]) {\r\n        setDeviceAddress(response.data[0].internalipaddress || \"\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    createUser(deviceAddress);\r\n  };\r\n\r\n  const expand = index => {\r\n    if (index === expanded) {\r\n      setExpanded(null);\r\n    } else {\r\n      setExpanded(index);\r\n    }\r\n  };\r\n\r\n  const renderMessage = () => {\r\n    if (init.error) {\r\n      return (\r\n        <div\r\n          className={`ui tiny ${\r\n            init.theme === \"inverted\" ? \"inverted red\" : \"error\"\r\n          } message`}\r\n        >\r\n          {/* <i className=\"close icon\" onClick={initializeApp}></i> */}\r\n          <div className=\"header\">Error: {init.error}</div>\r\n          {/* <p>{init.error}</p> */}\r\n        </div>\r\n      );\r\n    }\r\n    if (init.ip && init.username && init.config) {\r\n      return (\r\n        <div\r\n          className={`ui tiny ${\r\n            init.theme === \"inverted\" ? \"inverted green\" : \"success\"\r\n          } message`}\r\n        >\r\n          <div className=\"header\">Device connected</div>\r\n          {/* <p>Device connected</p> */}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className={`ui tiny ${\r\n          init.theme === \"inverted\" ? \"inverted\" : null\r\n        } message`}\r\n      >\r\n        <div className=\"header\">Device not connected</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderHelp = () => {\r\n    return (\r\n      <div className={`ui ${init.theme} segment`}>\r\n        <div\r\n          className={`ui top attached ${\r\n            init.theme === \"inverted\" ? \"black\" : null\r\n          } label`}\r\n        >\r\n          HELP\r\n        </div>\r\n        <div className={`ui fluid ${init.theme} accordion`}>\r\n          {/* <div className=\"ui top attached label\">Help</div> */}\r\n          <div\r\n            className={`${expanded === 0 ? \"active\" : null} title`}\r\n            onClick={() => expand(0)}\r\n          >\r\n            <i className=\"dropdown icon\"></i>\r\n            Finding your Device IP\r\n          </div>\r\n          <div className={`${expanded === 0 ? \"active\" : null} content`}>\r\n            <div>\r\n              If your device is not automatically discovered, you must manually\r\n              enter the device IP address above.\r\n            </div>\r\n            <div>\r\n              Your IP address can be found by using one of the following\r\n              methods:\r\n            </div>\r\n            <div className=\"ui divider\" />\r\n            <div>\r\n              Use the{\" \"}\r\n              <a\r\n                href=\"https://discovery.meethue.com\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Hue Discovery Tool\r\n              </a>\r\n              <div className={`ui ${init.theme} ordered list`}>\r\n                <div className=\"item\">\r\n                  In a browser, visit the Discovery Tool, making sure you are on\r\n                  the same network as your device\r\n                </div>\r\n                <div className=\"item\">\r\n                  If a device is found, the IP address will appear next to{\" \"}\r\n                  <code>\"internalipaddress\":</code>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ui divider\" />\r\n            <div>\r\n              Log into your wireless router and look Philips Hue up in the DHCP\r\n              table\r\n            </div>\r\n            <div className=\"ui divider\" />\r\n            <div>\r\n              Use the official{\" \"}\r\n              <a\r\n                href=\"https://www2.meethue.com/en-us/app/bridge#download-hue-app\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Hue App\r\n              </a>\r\n              <div className={`ui ${init.theme} ordered list`}>\r\n                <div className=\"item\">\r\n                  Download the official Philips Hue app\r\n                </div>\r\n                <div className=\"item\">\r\n                  Connect your phone to the network the hue bridge is on\r\n                </div>\r\n                <div className=\"item\">Start the hue app</div>\r\n                <div className=\"item\">Push link connect to the bridge</div>\r\n                <div className=\"item\">\r\n                  Go to <b> Settings > My Bridge > Network </b> and switch off\r\n                  the DHCP toggle\r\n                </div>\r\n                <div className=\"item\">\r\n                  Note the IP address, then switch DHCP back on\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"ui divider\" />\r\n            <div>\r\n              Use a UPnP discovery app to find Philips Hue in your network\r\n            </div>\r\n          </div>\r\n          <div\r\n            className={`${expanded === 1 ? \"active\" : null} title`}\r\n            onClick={() => expand(1)}\r\n          >\r\n            <i className=\"dropdown icon\"></i>\r\n            Connecting to your Philips Hue Bridge\r\n          </div>\r\n          <div className={`${expanded === 1 ? \"active\" : null} content`}>\r\n            Your device should be automatically detected if it is on the same\r\n            network as your computer. If you are on the same network and still\r\n            do not see a Device IP, try obtaining it using one of the methods\r\n            above.\r\n            <div className=\"ui divider\" />\r\n            <div className={`ui ${init.theme} ordered list`}>\r\n              <div className=\"item\">\r\n                Enter your Device IP into the field above\r\n              </div>\r\n              <div className=\"item\">\r\n                Press the <b> Pair </b> button on your Hue Bridge device\r\n              </div>\r\n              <div className=\"item\">\r\n                Press the <b> Connect </b> button\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <FullPanel>\r\n      {renderMessage()}\r\n      <div className={`ui ${init.theme} placeholder segment`}>\r\n        <div\r\n          className={`ui top attached ${\r\n            init.theme === \"inverted\" ? \"black\" : null\r\n          } label`}\r\n        >\r\n          DEVICE SETUP\r\n        </div>\r\n        <div className=\"ui icon header\">\r\n          <i className={deviceAddress ? \"wifi icon\" : \"exclamation icon\"} />\r\n          Connect to Philips Hue\r\n        </div>\r\n        <form className=\"form\" onSubmit={handleSubmit}>\r\n          <div className=\"field\">\r\n            <div className=\"ui inline labeled action input\">\r\n              <div className=\"ui label\">http://</div>\r\n              <input\r\n                type=\"text\"\r\n                placeholder={deviceAddress || \"Device IP Address\"}\r\n                value={deviceAddress}\r\n                onChange={event => setDeviceAddress(event.target.value)}\r\n              />\r\n              <button type=\"submit\" value=\"Submit\" className=\"ui button blue\">\r\n                Connect\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      {renderHelp()}\r\n      </FullPanel>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { init: state.init };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createUser, resetApp })(Setup);\r\n","import React, { useRef } from \"react\";\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\n\r\nconst LightRow = ({\r\n  light,\r\n  active,\r\n  setLight,\r\n  setActiveLight,\r\n  alertLight,\r\n  toggleLight,\r\n  theme\r\n}) => {\r\n  const color = convertHSBToColor(light.state);\r\n  const textColor = compatibleText(color);\r\n\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    setLight({ ...light, state: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 100);\r\n  };\r\n\r\n  const handleClick = event => {\r\n    event.ctrlKey ? alertLight(light) : setActiveLight(light);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const renderCheckbox = () => (\r\n    <td className=\"collapsing\">\r\n      <div className=\"ui middle aligned fitted checkbox\">\r\n        <input type=\"checkbox\" />\r\n        <label></label>\r\n      </div>\r\n    </td>\r\n  );\r\n\r\n  return (\r\n    <tr\r\n      style={active ? { backgroundColor: \"#AAAAAA24\" } : null}\r\n      // className={active ? \"left marked secondary\" : null}\r\n      onClick={handleClick}\r\n    >\r\n      {false ? renderCheckbox() : null}\r\n      <td>\r\n        <span\r\n          className=\"ui label\"\r\n          style={{\r\n            color: textColor,\r\n            backgroundColor: `${convertHSBToColor(light.state)}`\r\n          }}\r\n        >\r\n          {light.name}\r\n        </span>\r\n      </td>\r\n      <td>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            className=\"middle aligned slide\"\r\n            type=\"range\"\r\n            min={1}\r\n            max={254}\r\n            value={light.state.bri}\r\n            onChange={event => onChangeBrightness(Number(event.target.value))}\r\n          />\r\n        </div>\r\n      </td>\r\n      <td>\r\n        <span className=\"ui fitted middle aligned toggle checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={light.state.on}\r\n            onChange={() => toggleLight(light)}\r\n            disabled={!light.state.reachable}\r\n          />\r\n          <label></label>\r\n        </span>\r\n      </td>\r\n    </tr>\r\n  );\r\n};\r\n\r\nexport default LightRow;\r\n","import React, { useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\nimport LightRow from \"./LightRow\";\r\nimport {\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setRoom,\r\n  setActiveRoom\r\n} from \"../../actions\";\r\n\r\nconst LightsTable = ({\r\n  room,\r\n  lights,\r\n  active,\r\n  setRoom,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setActiveRoom,\r\n  setLight,\r\n  alertLight,\r\n  toggleLight,\r\n  setActiveLight,\r\n  theme\r\n}) => {\r\n  const colors = [\r\n    ...new Set(\r\n      room.colors\r\n        .filter(light => light.hue)\r\n        .map(light => convertHSBToColor(light))\r\n        .sort()\r\n    )\r\n  ];\r\n  const textColor = compatibleText(colors[0] || \"#FFFFFF\");\r\n  // const iconColor = compatibleText(colors[colors.length - 1] || \"#FFFFFF\");\r\n\r\n  // Throttle calls to onChangeBrightness()\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    setRoom({ ...room, action: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 400);\r\n  };\r\n\r\n  const handleClick = event => {\r\n    event.ctrlKey ? alertRoom(room) : setActiveRoom(room);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const renderRows = () => {\r\n    return lights.map(light => {\r\n      return (\r\n        <LightRow\r\n          light={light}\r\n          active={active.light && active.light.id === light.id}\r\n          setLight={setLight}\r\n          setActiveLight={setActiveLight}\r\n          alertLight={alertLight}\r\n          toggleLight={toggleLight}\r\n          theme={theme}\r\n          key={light.id}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <table className={`ui selectable large single line ${theme} table`}>\r\n      <thead onClick={handleClick}>\r\n        <tr\r\n          style={\r\n            active.room && active.room.id === room.id\r\n              ? { backgroundColor: \"#AAAAAA24\" }\r\n              : null\r\n          }\r\n        >\r\n          <th>\r\n            {/* <div className=\"ui middle aligned checkbox\">\r\n              <input type=\"checkbox\" />\r\n              <label></label>\r\n            </div> */}\r\n            <span\r\n              className=\"ui fluid label\"\r\n              style={{\r\n                color: textColor,\r\n                // width: 224,\r\n                backgroundImage: `linear-gradient(to right, ${\r\n                  colors.length > 1 ? colors : [colors[0], colors[0]]\r\n                })`\r\n              }}\r\n            >\r\n              {room.name}\r\n            </span>\r\n          </th>\r\n          <th>\r\n            <div className=\"slidecontainer\">\r\n              <input\r\n                className=\"middle aligned slide\"\r\n                type=\"range\"\r\n                min={0}\r\n                max={254}\r\n                value={room.action.bri}\r\n                onChange={event =>\r\n                  onChangeBrightness(Number(event.target.value))\r\n                }\r\n              />\r\n            </div>\r\n          </th>\r\n          <th className=\"collapsing\">\r\n            <span className=\"ui middle aligned toggle checkbox\">\r\n              <input\r\n                type=\"checkbox\"\r\n                checked={room.state.any_on}\r\n                onChange={() => toggleRoom(room)}\r\n                // disabled={!light.state.reachable}\r\n              />\r\n              <label></label>\r\n            </span>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {renderRows()}\r\n        {/* {active.room && active.room.id === room.id ? renderRows() : null} */}\r\n      </tbody>\r\n    </table>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    active: state.active,\r\n    theme: state.init.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setRoom,\r\n  setActiveRoom\r\n})(LightsTable);\r\n","import React, { useRef } from \"react\";\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\n\r\nconst LightItem = ({ light, toggle, alert, active, onSelect, onDim }) => {\r\n  const color = convertHSBToColor(light.state);\r\n  const textColor = compatibleText(color);\r\n\r\n  // Throttle calls to onChangeBrightness()\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    onDim({ ...light, state: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 100);\r\n  };\r\n\r\n  const handleSelect = event => {\r\n    onSelect(light);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const handleAlert = event => {\r\n    if (event.ctrlKey) {\r\n      alert(light);\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"ui card\"\r\n      style={{ backgroundColor: color }}\r\n      onClick={handleSelect}\r\n    >\r\n      <div className=\"content\" style={{ backgroundColor: color }}>\r\n        {/* <i className=\"lightbulb outline icon\"></i> */}\r\n        {/* {light.name} */}\r\n        <div\r\n          style={{ color: textColor, opacity: 0.7, userSelect: \"none\" }}\r\n          // onDoubleClick={() => alert(light)}\r\n          onClick={handleAlert}\r\n        >\r\n          {light.name}\r\n          <span className=\"ui right floated icon\">\r\n            <i\r\n              className={`${active ? \"check\" : null} icon`}\r\n              style={{ color: textColor, opacity: 0.7 }}\r\n            ></i>\r\n          </span>\r\n        </div>\r\n        {/* <span\r\n          className=\"ui right floated avatar image\"\r\n          style={{\r\n            flex: 1,\r\n            minWidth: 20,\r\n            minHeight: 20,\r\n            backgroundColor: color\r\n          }}\r\n          onClick={() => alert(light)}\r\n        /> */}\r\n      </div>\r\n      <div className=\"extra content\" style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            className=\"slide\"\r\n            type=\"range\"\r\n            min={1}\r\n            max={254}\r\n            value={light.state.bri}\r\n            onChange={event => onChangeBrightness(Number(event.target.value))}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"extra content\" style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <span className=\"ui fitted right floated toggle checkbox\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={light.state.on}\r\n            onChange={() => toggle(light)}\r\n            disabled={!light.state.reachable}\r\n          />\r\n          <label></label>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LightItem;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  fetchLights,\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  setRoom,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setActiveRoom\r\n} from \"../../actions\";\r\nimport LightItem from \"./LightItem\";\r\nimport RoomItem from \"../RoomItem\";\r\n\r\nconst LightsList = ({\r\n  lights,\r\n  rooms,\r\n  active,\r\n  fetchLights,\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  setRoom,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setActiveRoom,\r\n  theme\r\n}) => {\r\n  useEffect(() => {\r\n    fetchLights();\r\n  }, []);\r\n\r\n  const handleSelect = (event, room) => {\r\n    setActiveRoom(room);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const handleAlert = (event, room) => {\r\n    if (event.ctrlKey) {\r\n      alertRoom(room);\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  const renderGroups = () => {\r\n    return rooms\r\n      .map(room => {\r\n        return (\r\n          <div\r\n            className={`ui ${theme} segment`}\r\n            key={room.id}\r\n            onClick={event => handleSelect(event, room)}\r\n          >\r\n            <RoomItem\r\n              room={room}\r\n              alert={alertRoom}\r\n              toggle={toggleRoom}\r\n              active={active.room ? room.id === active.room.id : false}\r\n              onSelect={setActiveRoom}\r\n              onDim={setRoom}\r\n            />\r\n            {/* <div\r\n              className={`ui top attached ${\r\n                active.room && active.room.id == room.id ? \"blue\" : \"\"\r\n              } label`}\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={event => handleAlert(event, room)}\r\n            >\r\n              {room.name}\r\n              <span className=\"ui right floated icon\">\r\n                <i\r\n                  className={`${\r\n                    active.room && active.room.id == room.id ? \"check\" : \"\"\r\n                  } icon`}\r\n                  style={{ float: \"right\", margin: 0 }}\r\n                ></i>\r\n              </span>\r\n            </div> */}\r\n            <div className=\"ui three doubling stackable link cards\">\r\n              {renderItems(\r\n                lights.filter(light => room.lights.includes(light.id))\r\n              )}\r\n            </div>\r\n            {/* <div className=\"ui stackable link cards\"><div className=\"fluid card\">sadfsad</div></div> */}\r\n          </div>\r\n        );\r\n      });\r\n  };\r\n\r\n  const renderItems = lights => {\r\n    return lights.map(light => {\r\n      return (\r\n        <LightItem\r\n          key={light.id}\r\n          light={light}\r\n          toggle={toggleLight}\r\n          alert={alertLight}\r\n          active={active.light ? light.id === active.light.id : false}\r\n          onSelect={setActiveLight}\r\n          onDim={setLight}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui segments\">\r\n      {/* <div className=\"ui top attached label\">Groups</div> */}\r\n      {lights ? renderGroups() : null}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    active: state.active,\r\n    theme: state.init.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchLights,\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  setRoom,\r\n  alertRoom,\r\n  toggleRoom,\r\n  setActiveRoom\r\n})(LightsList);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport {\r\n  fetchRooms,\r\n  setActiveRoom,\r\n  setView,\r\n  setTheme,\r\n  toggleExpanded\r\n} from \"../../actions\";\r\nimport LightsTable from \"./LightsTable\";\r\nimport LightsList from \"./LightsList\";\r\nimport ScenesList from \"../ScenesList\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport CenterPanel from \"../CenterPanel\";\r\nimport ToolPanel from \"../ToolPanel\";\r\n\r\nconst CARD = \"card\";\r\nconst LIST = \"list\";\r\n\r\nconst GroupsView = ({\r\n  lights,\r\n  rooms,\r\n  active,\r\n  init,\r\n  fetchRooms,\r\n  setActiveRoom,\r\n  setView,\r\n  toggleExpanded\r\n}) => {\r\n  useEffect(() => {\r\n    fetchRooms();\r\n  }, []);\r\n\r\n  const renderTables = () => {\r\n    return rooms\r\n      .filter(room => room.name !== \"All\")\r\n      .map(room => {\r\n        return (\r\n          <LightsTable\r\n            room={room}\r\n            lights={\r\n              init.expanded\r\n                ? lights.filter(light => room.lights.includes(light.id))\r\n                : []\r\n            }\r\n            key={room.id}\r\n          />\r\n        );\r\n      });\r\n  };\r\n\r\n  const renderCards = () => {\r\n    return (\r\n      <LightsList\r\n        rooms={rooms.filter(room => room.name !== \"All\")}\r\n        lights={init.expanded ? lights : []}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderToolbar = () => {\r\n    return (\r\n      <div\r\n        className={`ui ${init.theme} mini icon menu`}\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <div\r\n          className={`${init.view !== CARD ? \"active\" : null} link item`}\r\n          title=\"List View\"\r\n          onClick={() => setView(LIST)}\r\n        >\r\n          <i className=\"list icon\"></i>\r\n        </div>\r\n        <div\r\n          className={`${init.view === CARD ? \"active\" : null} link item`}\r\n          title=\"Card View\"\r\n          onClick={() => setView(CARD)}\r\n        >\r\n          <i className=\"th icon\"></i>\r\n        </div>\r\n        <div\r\n            className={`link item`}\r\n            title={`${init.expanded ? \"Collapse\" : \"Expand\"} All`}\r\n            onClick={toggleExpanded}\r\n          >\r\n            <i\r\n              className={`angle double ${init.expanded ? \"up\" : \"down\"} icon`}\r\n            ></i>\r\n          </div>\r\n        {/* <div className=\"item\" style={{ width: 48 }} />\r\n        <div className=\"menu\">\r\n          \r\n          <div className={`disabled link item`} title=\"Filter Groups\">\r\n            <i className=\"filter icon\"></i>\r\n          </div>\r\n          <div className={`disabled link item`} title=\"Edit Groups\">\r\n            <i className=\"edit icon\"></i>\r\n          </div>\r\n          <div className={`disabled link item`} title=\"Add Group\">\r\n            <i className=\"plus icon\"></i>\r\n          </div>\r\n        </div>\r\n        <div className=\"right menu\">\r\n          <div className={`disabled link item`} title=\"Delete\">\r\n            <i className=\"trash icon\"></i>\r\n          </div>\r\n        </div> */}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderControls = () => {\r\n    return (\r\n      <ToolPanel>\r\n        {active.light || active.room ? <ColorPicker /> : null}\r\n        {active.room ? <ScenesList /> : null}\r\n      </ToolPanel>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CenterPanel onClick={() => setActiveRoom(null)}>\r\n        {renderToolbar()}\r\n        {init.view === CARD ? renderCards() : renderTables()}\r\n      </CenterPanel>\r\n      {renderControls()}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    lights: state.lights,\r\n    rooms: state.rooms,\r\n    active: state.active,\r\n    init: state.init\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchRooms,\r\n  setActiveRoom,\r\n  setView,\r\n  setTheme,\r\n  toggleExpanded\r\n})(GroupsView);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport { fetchRooms, initializeApp, setTheme } from \"../actions\";\r\nimport Menu from \"./Menu\";\r\nimport Info from \"./Info\";\r\nimport RoomsList from \"./RoomsList\";\r\nimport RulesList from \"./RulesList\";\r\nimport Setup from \"./Setup\";\r\nimport useRefresh from \"../hooks/useRefresh\";\r\nimport GroupsView from \"./home/GroupsView\";\r\nimport ToolPanel from \"./ToolPanel\";\r\n\r\nconst INVERTED = \"inverted\";\r\n\r\nconst App = props => {\r\n  // FIXME: Shoule use the fetchAll() function, once I make it\r\n  const { refresh, cancel } = useRefresh(props.fetchRooms, 5000);\r\n\r\n  useEffect(() => {\r\n    props.initializeApp();\r\n    refresh();\r\n    return cancel;\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 16,\r\n        backgroundColor: props.init.theme === INVERTED ? \"#080808\" : \"white\"\r\n      }}\r\n    >\r\n      <div\r\n        className=\"ui grid\"\r\n        style={{ overflowY: \"hidden\", height: \"99.5vh\" }}\r\n      >\r\n        <ToolPanel>\r\n          <Menu location={props.location} />\r\n          <Info />\r\n          <div className={`ui ${props.init.theme} mini icon menu`}>\r\n            <a\r\n              className={`${\r\n                props.init.theme === INVERTED ? \"active\" : null\r\n              } item`}\r\n              title=\"Toggle Dark Mode\"\r\n              onClick={() =>\r\n                props.setTheme(\r\n                  props.init.theme === INVERTED ? null : INVERTED\r\n                )\r\n              }\r\n            >\r\n              <i className=\"adjust icon\"></i>\r\n            </a>\r\n          </div>\r\n        </ToolPanel>\r\n        <Switch>\r\n          <Route path=\"/home\" exact component={GroupsView} />\r\n          <Route path=\"/rooms\" exact component={RoomsList} />\r\n          <Route path=\"/schedules\" exact />\r\n          <Route path=\"/rules\" exact component={RulesList} />\r\n          <Route path=\"/sensors\" exact />\r\n          <Route path=\"/settings\" exact component={Setup} />\r\n          <Redirect to={props.init.ip ? \"/lights\" : \"/settings\"} />;\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { init: state.init };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {\r\n    fetchRooms,\r\n    initializeApp,\r\n    setTheme\r\n  })(App)\r\n);\r\n","import { useEffect, useRef, useCallback } from \"react\";\r\n\r\nexport default (action, interval) => {\r\n  const intervalRef = useRef(null);\r\n\r\n  useEffect(() => {   \r\n    window.addEventListener(\"focus\", doAction);\r\n    window.addEventListener(\"blur\", cancel);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"focus\", doAction);\r\n      window.removeEventListener(\"blur\", cancel);\r\n    };\r\n  }, []);\r\n\r\n  const doAction = () => {\r\n    action();\r\n    refresh();\r\n  }\r\n\r\n  const refresh = useCallback(() => {\r\n    if (intervalRef.current !== null) {\r\n      return;\r\n    }\r\n\r\n    intervalRef.current = setInterval(() => {\r\n      // console.log(\"refreshing\");\r\n      action();\r\n    }, interval);\r\n  }, [action, interval]);\r\n\r\n  const cancel = useCallback(() => {\r\n    if (intervalRef.current === null) {\r\n      return;\r\n    }\r\n\r\n    // console.log(\"cancelling refresh\");\r\n    clearInterval(intervalRef.current);\r\n    intervalRef.current = null;\r\n  }, [intervalRef]);\r\n\r\n  return { refresh, cancel };\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { Provider } from \"react-redux\";\r\n// import {createBrowserHistory } from 'history';\r\n\r\nimport store from \"./reducers\";\r\nimport App from \"./components/App\";\r\n\r\n// const history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _Alpha = require('./Alpha');\r\n\r\nObject.defineProperty(exports, 'Alpha', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Alpha).default;\r\n  }\r\n});\r\n\r\nvar _Checkboard = require('./Checkboard');\r\n\r\nObject.defineProperty(exports, 'Checkboard', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Checkboard).default;\r\n  }\r\n});\r\n\r\nvar _EditableInput = require('./EditableInput');\r\n\r\nObject.defineProperty(exports, 'EditableInput', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_EditableInput).default;\r\n  }\r\n});\r\n\r\nvar _Hue = require('./Hue');\r\n\r\nObject.defineProperty(exports, 'Hue', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Hue).default;\r\n  }\r\n});\r\n\r\nvar _Raised = require('./Raised');\r\n\r\nObject.defineProperty(exports, 'Raised', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Raised).default;\r\n  }\r\n});\r\n\r\nvar _Saturation = require('./Saturation');\r\n\r\nObject.defineProperty(exports, 'Saturation', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Saturation).default;\r\n  }\r\n});\r\n\r\nvar _ColorWrap = require('./ColorWrap');\r\n\r\nObject.defineProperty(exports, 'ColorWrap', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_ColorWrap).default;\r\n  }\r\n});\r\n\r\nvar _Swatch = require('./Swatch');\r\n\r\nObject.defineProperty(exports, 'Swatch', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Swatch).default;\r\n  }\r\n});\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Checkboard = undefined;\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _checkboard = require('../../helpers/checkboard');\r\n\r\nvar checkboard = _interopRequireWildcard(_checkboard);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar Checkboard = exports.Checkboard = function Checkboard(_ref) {\r\n  var white = _ref.white,\r\n      grey = _ref.grey,\r\n      size = _ref.size,\r\n      renderers = _ref.renderers,\r\n      borderRadius = _ref.borderRadius,\r\n      boxShadow = _ref.boxShadow;\r\n\r\n  var styles = (0, _reactcss2.default)({\r\n    'default': {\r\n      grid: {\r\n        borderRadius: borderRadius,\r\n        boxShadow: boxShadow,\r\n        absolute: '0px 0px 0px 0px',\r\n        background: 'url(' + checkboard.get(white, grey, size, renderers.canvas) + ') center left'\r\n      }\r\n    }\r\n  });\r\n\r\n  return _react2.default.createElement('div', { style: styles.grid });\r\n};\r\n\r\nCheckboard.defaultProps = {\r\n  size: 8,\r\n  white: 'transparent',\r\n  grey: 'rgba(0,0,0,.08)',\r\n  renderers: {}\r\n};\r\n\r\nexports.default = Checkboard;"],"sourceRoot":""}
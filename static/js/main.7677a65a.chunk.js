(this["webpackJsonphuebert-web"]=this["webpackJsonphuebert-web"]||[]).push([[0],{138:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=n(384);Object.defineProperty(t,"Alpha",{enumerable:!0,get:function(){return d(a).default}});var r=n(139);Object.defineProperty(t,"Checkboard",{enumerable:!0,get:function(){return d(r).default}});var o=n(387);Object.defineProperty(t,"EditableInput",{enumerable:!0,get:function(){return d(o).default}});var l=n(388);Object.defineProperty(t,"Hue",{enumerable:!0,get:function(){return d(l).default}});var i=n(390);Object.defineProperty(t,"Raised",{enumerable:!0,get:function(){return d(i).default}});var c=n(391);Object.defineProperty(t,"Saturation",{enumerable:!0,get:function(){return d(c).default}});var u=n(395);Object.defineProperty(t,"ColorWrap",{enumerable:!0,get:function(){return d(u).default}});var s=n(396);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Swatch",{enumerable:!0,get:function(){return d(s).default}})},139:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Checkboard=void 0;var a=l(n(0)),r=l(n(33)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(386));function l(e){return e&&e.__esModule?e:{default:e}}var i=t.Checkboard=function(e){var t=e.white,n=e.grey,l=e.size,i=e.renderers,c=e.borderRadius,u=e.boxShadow,s=(0,r.default)({default:{grid:{borderRadius:c,boxShadow:u,absolute:"0px 0px 0px 0px",background:"url("+o.get(t,n,l,i.canvas)+") center left"}}});return a.default.createElement("div",{style:s.grid})};i.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}},t.default=i},210:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.red=t.getContrastingColor=t.isValidHex=t.toState=t.simpleCheckForValidColor=void 0;var a=o(n(211)),r=o(n(113));function o(e){return e&&e.__esModule?e:{default:e}}t.simpleCheckForValidColor=function(e){var t=0,n=0;return(0,a.default)(["r","g","b","a","h","s","l","v"],(function(a){if(e[a]&&(t+=1,isNaN(e[a])||(n+=1),"s"===a||"l"===a)){/^\d+%$/.test(e[a])&&(n+=1)}})),t===n&&e};var l=t.toState=function(e,t){var n=e.hex?(0,r.default)(e.hex):(0,r.default)(e),a=n.toHsl(),o=n.toHsv(),l=n.toRgb(),i=n.toHex();return 0===a.s&&(a.h=t||0,o.h=t||0),{hsl:a,hex:"000000"===i&&0===l.a?"transparent":"#"+i,rgb:l,hsv:o,oldHue:e.h||t||a.h,source:e.source}};t.isValidHex=function(e){var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&(0,r.default)(e).isValid()},t.getContrastingColor=function(e){if(!e)return"#fff";var t=l(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},t.red={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}};t.default=t},245:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Sketch=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=d(n(0)),o=d(n(7)),l=d(n(33)),i=d(n(204)),c=n(138),u=d(n(398)),s=d(n(399));function d(e){return e&&e.__esModule?e:{default:e}}var p=t.Sketch=function(e){e.width;var t=e.rgb,n=e.hex,o=e.hsv,d=e.hsl,p=e.onChange,f=e.onSwatchHover,h=e.disableAlpha,g=e.presetColors,m=e.renderers,v=e.styles,b=void 0===v?{}:v,y=e.className,E=void 0===y?"":y,w=(0,l.default)((0,i.default)({default:a({saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+t.r+","+t.g+","+t.b+","+t.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},b),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},b),{disableAlpha:h});return r.default.createElement("div",{style:w.picker,className:"sketch-picker "+E},r.default.createElement("div",{style:w.saturation},r.default.createElement(c.Saturation,{style:w.Saturation,hsl:d,hsv:o,onChange:p})),r.default.createElement("div",{style:w.controls,className:"flexbox-fix"},r.default.createElement("div",{style:w.sliders},r.default.createElement("div",{style:w.hue},r.default.createElement(c.Hue,{style:w.Hue,hsl:d,onChange:p})),r.default.createElement("div",{style:w.alpha},r.default.createElement(c.Alpha,{style:w.Alpha,rgb:t,hsl:d,renderers:m,onChange:p}))),r.default.createElement("div",{style:w.color},r.default.createElement(c.Checkboard,null),r.default.createElement("div",{style:w.activeColor}))),r.default.createElement(u.default,{rgb:t,hsl:d,hex:n,onChange:p,disableAlpha:h}),r.default.createElement(s.default,{colors:g,onClick:p,onSwatchHover:f}))};p.propTypes={disableAlpha:o.default.bool,width:o.default.oneOfType([o.default.string,o.default.number]),styles:o.default.object},p.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},t.default=(0,c.ColorWrap)(p)},276:function(e,t,n){e.exports=n(480)},384:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Alpha=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),l=s(o),i=s(n(33)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(385)),u=s(n(139));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var p=t.Alpha=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=a=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){var t=c.calculateChange(e,a.props.hsl,a.props.direction,a.props.a,a.container);t&&"function"===typeof a.props.onChange&&a.props.onChange(t,e)},a.handleMouseDown=function(e){a.handleChange(e),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},a.unbindEventListeners=function(){window.removeEventListener("mousemove",a.handleChange),window.removeEventListener("mouseup",a.handleMouseUp)},d(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,n=(0,i.default)({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:a({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return l.default.createElement("div",{style:n.alpha},l.default.createElement("div",{style:n.checkboard},l.default.createElement(u.default,{renderers:this.props.renderers})),l.default.createElement("div",{style:n.gradient}),l.default.createElement("div",{style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},l.default.createElement("div",{style:n.pointer},this.props.pointer?l.default.createElement(this.props.pointer,this.props):l.default.createElement("div",{style:n.slider}))))}}]),t}(o.PureComponent||o.Component);t.default=p},385:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,a,r){var o=r.clientWidth,l=r.clientHeight,i="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,c="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,u=i-(r.getBoundingClientRect().left+window.pageXOffset),s=c-(r.getBoundingClientRect().top+window.pageYOffset);if("vertical"===n){var d=void 0;if(d=s<0?0:s>l?1:Math.round(100*s/l)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(a!==(p=u<0?0:u>o?1:Math.round(100*u/o)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}},386:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={},a=t.render=function(e,t,n,a){if("undefined"===typeof document&&!a)return null;var r=a?new a:document.createElement("canvas");r.width=2*n,r.height=2*n;var o=r.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,r.width,r.height),o.fillStyle=t,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),r.toDataURL()):null};t.get=function(e,t,r,o){var l=e+"-"+t+"-"+r+(o?"-server":"");if(n[l])return n[l];var i=a(e,t,r,o);return n[l]=i,i}},387:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.EditableInput=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=i(r),l=i(n(33));function i(e){return e&&e.__esModule?e:{default:e}}var c=38,u=[c,40],s=function(e){return u.indexOf(e)>-1},d=function(e){return Number(String(e).replace(/%/g,""))},p=t.EditableInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(e){n.setUpdatedValue(e.target.value,e)},n.handleKeyDown=function(e){var t=d(e.target.value);if(!isNaN(t)&&s(e.keyCode)){var a=n.getArrowOffset(),r=e.keyCode===c?t+a:t-a;n.setUpdatedValue(r,e)}},n.handleDrag=function(e){if(n.props.dragLabel){var t=Math.round(n.props.value+e.movementX);t>=0&&t<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(t),e)}},n.handleMouseDown=function(e){n.props.dragLabel&&(e.preventDefault(),n.handleDrag(e),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.input;e.value!==this.state.value&&(t===document.activeElement?this.setState({blurValue:String(e.value).toUpperCase()}):this.setState({value:String(e.value).toUpperCase(),blurValue:!this.state.blurValue&&String(e.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var n=null!==this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(n,t);var a,r=function(e){return String(e).indexOf("%")>-1}(t.target.value);this.setState({value:r?(a=e,a+"%"):e})}},{key:"render",value:function(){var e=this,t=(0,l.default)({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return o.default.createElement("div",{style:t.wrap},o.default.createElement("input",{style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?o.default.createElement("span",{style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(r.PureComponent||r.Component);t.default=p},388:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Hue=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=c(r),l=c(n(33)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(389));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var s=t.Hue=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return n=a=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.handleChange=function(e){var t=i.calculateChange(e,a.props.direction,a.props.hsl,a.container);t&&"function"===typeof a.props.onChange&&a.props.onChange(t,e)},a.handleMouseDown=function(e){a.handleChange(e),window.addEventListener("mousemove",a.handleChange),window.addEventListener("mouseup",a.handleMouseUp)},a.handleMouseUp=function(){a.unbindEventListeners()},u(a,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,n=void 0===t?"horizontal":t,a=(0,l.default)({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===n});return o.default.createElement("div",{style:a.hue},o.default.createElement("div",{className:"hue-"+n,style:a.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),o.default.createElement("div",{style:a.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:a.slider}))))}}]),t}(r.PureComponent||r.Component);t.default=s},389:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n,a){var r=a.clientWidth,o=a.clientHeight,l="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,i="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=l-(a.getBoundingClientRect().left+window.pageXOffset),u=i-(a.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var s=void 0;if(u<0)s=359;else if(u>o)s=0;else{s=360*(-100*u/o+100)/100}if(n.h!==s)return{h:s,s:n.s,l:n.l,a:n.a,source:"rgb"}}else{var d=void 0;if(c<0)d=0;else if(c>r)d=359;else{d=360*(100*c/r)/100}if(n.h!==d)return{h:d,s:n.s,l:n.l,a:n.a,source:"rgb"}}return null}},390:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Raised=void 0;var a=i(n(0)),r=i(n(7)),o=i(n(33)),l=i(n(204));function i(e){return e&&e.__esModule?e:{default:e}}var c=t.Raised=function(e){var t=e.zDepth,n=e.radius,r=e.background,i=e.children,c=e.styles,u=void 0===c?{}:c,s=(0,o.default)((0,l.default)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:n,background:r}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},u),{"zDepth-1":1===t});return a.default.createElement("div",{style:s.wrap},a.default.createElement("div",{style:s.bg}),a.default.createElement("div",{style:s.content},i))};c.propTypes={background:r.default.string,zDepth:r.default.oneOf([0,1,2,3,4,5]),radius:r.default.number,styles:r.default.object},c.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}},t.default=c},391:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Saturation=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(0),o=u(r),l=u(n(33)),i=u(n(392)),c=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(394));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.Saturation=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChange=function(e){"function"===typeof n.props.onChange&&n.throttle(n.props.onChange,c.calculateChange(e,n.props.hsl,n.container),e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=(0,i.default)((function(e,t,n){e(t,n)}),50),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},n=t.color,a=t.white,r=t.black,i=t.pointer,c=t.circle,u=(0,l.default)({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"grab"},circle:{width:"5px",height:"5px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"grab",transform:"translate(-2px, -2px)"}},custom:{color:n,white:a,black:r,pointer:i,circle:c}},{custom:!!this.props.style});return o.default.createElement("div",{style:u.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},o.default.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),o.default.createElement("div",{style:u.white,className:"saturation-white"},o.default.createElement("div",{style:u.black,className:"saturation-black"}),o.default.createElement("div",{style:u.pointer},this.props.pointer?o.default.createElement(this.props.pointer,this.props):o.default.createElement("div",{style:u.circle}))))}}]),t}(r.PureComponent||r.Component);t.default=s},394:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.calculateChange=function(e,t,n){var a=n.getBoundingClientRect(),r=a.width,o=a.height,l="number"===typeof e.pageX?e.pageX:e.touches[0].pageX,i="number"===typeof e.pageY?e.pageY:e.touches[0].pageY,c=l-(n.getBoundingClientRect().left+window.pageXOffset),u=i-(n.getBoundingClientRect().top+window.pageYOffset);c<0?c=0:c>r?c=r:u<0?u=0:u>o&&(u=o);var s=100*c/r,d=-100*u/o+100;return{h:t.h,s:s,v:d,a:t.a,source:"rgb"}}},395:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorWrap=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(0),l=u(o),i=u(n(209)),c=u(n(210));function u(e){return e&&e.__esModule?e:{default:e}}var s=t.ColorWrap=function(e){var t=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.handleChange=function(e,n){if(c.default.simpleCheckForValidColor(e)){var a=c.default.toState(e,e.h||t.state.oldHue);t.setState(a),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,a,n),t.props.onChange&&t.props.onChange(a,n)}},t.handleSwatchHover=function(e,n){if(c.default.simpleCheckForValidColor(e)){var a=c.default.toState(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(a,n)}},t.state=a({},c.default.toState(e.color,0)),t.debounce=(0,i.default)((function(e,t,n){e(t,n)}),100),t}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentWillReceiveProps",value:function(e){this.setState(a({},c.default.toState(e.color,this.state.oldHue)))}},{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),l.default.createElement(e,a({},this.props,this.state,{onChange:this.handleChange},t))}}]),n}(o.PureComponent||o.Component);return t.propTypes=a({},e.propTypes),t.defaultProps=a({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t};t.default=s},396:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Swatch=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(0)),o=c(n(33)),l=n(397),i=c(n(139));function c(e){return e&&e.__esModule?e:{default:e}}var u=t.Swatch=function(e){var t=e.color,n=e.style,l=e.onClick,c=void 0===l?function(){}:l,u=e.onHover,s=e.title,d=void 0===s?t:s,p=e.children,f=e.focus,h=e.focusStyle,g=void 0===h?{}:h,m="transparent"===t,v=(0,o.default)({default:{swatch:a({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,f?g:{})}}),b={};return u&&(b.onMouseOver=function(e){return u(t,e)}),r.default.createElement("div",a({style:v.swatch,onClick:function(e){return c(t,e)},title:d,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&c(t,e)}},b),p,m&&r.default.createElement(i.default,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};t.default=(0,l.handleFocus)(u)},397:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.handleFocus=void 0;var a,r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=n(0),i=(a=l)&&a.__esModule?a:{default:a};function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function s(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.handleFocus=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(n){function a(){var e,t,n;c(this,a);for(var r=arguments.length,o=Array(r),l=0;l<r;l++)o[l]=arguments[l];return t=n=u(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(o))),n.state={focus:!1},n.handleFocus=function(){return n.setState({focus:!0})},n.handleBlur=function(){return n.setState({focus:!1})},u(n,t)}return s(a,n),o(a,[{key:"render",value:function(){return i.default.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},i.default.createElement(e,r({},this.props,this.state)))}}]),a}(i.default.Component)}},398:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SketchFields=void 0;var a=i(n(0)),r=i(n(33)),o=i(n(210)),l=n(138);function i(e){return e&&e.__esModule?e:{default:e}}var c=t.SketchFields=function(e){var t=e.onChange,n=e.rgb,i=e.hsl,c=e.hex,u=e.disableAlpha,s=(0,r.default)({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:u}),d=function(e,a){e.hex?o.default.isValidHex(e.hex)&&t({hex:e.hex,source:"hex"},a):e.r||e.g||e.b?t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,a:n.a,source:"rgb"},a):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:i.h,s:i.s,l:i.l,a:e.a,source:"rgb"},a))};return a.default.createElement("div",{style:s.fields,className:"flexbox-fix"},a.default.createElement("div",{style:s.double},a.default.createElement(l.EditableInput,{style:{input:s.input,label:s.label},label:"hex",value:c.replace("#",""),onChange:d})),a.default.createElement("div",{style:s.single},a.default.createElement(l.EditableInput,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:d,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:s.single},a.default.createElement(l.EditableInput,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:d,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:s.single},a.default.createElement(l.EditableInput,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:d,dragLabel:"true",dragMax:"255"})),a.default.createElement("div",{style:s.alpha},a.default.createElement(l.EditableInput,{style:{input:s.input,label:s.label},label:"a",value:Math.round(100*n.a),onChange:d,dragLabel:"true",dragMax:"100"})))};t.default=c},399:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.SketchPresetColors=void 0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},r=c(n(0)),o=c(n(7)),l=c(n(33)),i=n(138);function c(e){return e&&e.__esModule?e:{default:e}}var u=t.SketchPresetColors=function(e){var t=e.colors,n=e.onClick,o=void 0===n?function(){}:n,c=e.onSwatchHover,u=(0,l.default)({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #80808040",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),s=function(e,t){o({hex:e,source:"hex"},t)};return r.default.createElement("div",{style:u.colors,className:"flexbox-fix"},t.map((function(e){var t="string"===typeof e?{color:e}:e,n=""+t.color+(t.title||"");return r.default.createElement("div",{key:n,style:u.swatchWrap},r.default.createElement(i.Swatch,a({},t,{style:u.swatch,onClick:s,onHover:c,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};u.propTypes={colors:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({color:o.default.string,title:o.default.string})])).isRequired},t.default=u},480:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(39),l=n.n(o),i=n(43),c=n(18),u=n(74),s=n(242),d=n(34),p=n(16),f=Object(u.c)({lights:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_lights":return t.payload;default:return e}},groups:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_groups":return t.payload;case"set_group":return e.map((function(e){return e.id===t.payload.id?t.payload:e}));default:return e}},scenes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_scenes":return t.payload;default:return e}},schedules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_schedules":return t.payload;default:return e}},rules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_rules":return t.payload;default:return e}},sensors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"fetch_sensors":return t.payload;default:return e}},active:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"set_active_light":return e.light===t.payload?{}:{light:t.payload};case"set_active_group":return e.group===t.payload?{}:{group:t.payload};default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{theme:"inverted",expandAll:!1,expanded:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"initialize_app":return Object(p.a)({},e,{},t.payload,{error:null});case"create_user":return Object(p.a)({},e,{ip:t.payload.ip,username:t.payload.username,error:null});case"initialize_error":return Object(p.a)({},e,{error:t.payload});case"set_theme":return Object(p.a)({},e,{theme:t.payload});case"set_view":return Object(p.a)({},e,{view:t.payload});case"toggle_expanded":return e.expandAll?Object(p.a)({},e,{expandAll:!e.expandAll,expanded:[]}):Object(p.a)({},e,{expandAll:!e.expandAll,expanded:t.payload});case"set_expanded":return e.expanded.includes(t.payload)?Object(p.a)({},e,{expanded:e.expanded.filter((function(e){return e!==t.payload}))}):Object(p.a)({},e,{expanded:[].concat(Object(d.a)(e.expanded),[t.payload])});default:return e}}}),h=Object(u.d)(f,{},Object(u.a)(s.a)),g=n(52),m=n(8),v=n.n(m),b=n(58),y=n.n(b),E=localStorage.getItem("ip"),w=localStorage.getItem("username"),x=y.a.create({baseURL:"https://".concat(E,"/api/").concat(w)}),C=function(){return function(e){var t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(x.get("/lights"));case 2:t=a.sent,n=t.data,e(k(n));case 5:case"end":return a.stop()}}))}},k=function(e){return function(t){t({type:"fetch_lights",payload:Object.keys(e).map((function(t){return Object(p.a)({},e[t],{id:t})}))})}},O=function(e){return function(t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(x.put("/lights/".concat(e.id,"/state"),e.state));case 2:t(C());case 3:case"end":return n.stop()}}))}},_=function(e){return function(){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.awrap(x.put("/lights/".concat(e.id,"/state"),{alert:"select"}));case 2:return t.next=4,v.a.awrap(x.put("/lights/".concat(e.id,"/state"),{alert:"none"}));case 4:case"end":return t.stop()}}))}},j=function(e){return function(t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(x.put("/lights/".concat(e.id,"/state"),{on:!e.state.on}));case 2:t(C());case 3:case"end":return n.stop()}}))}},N=function(e,t){return function(n){n({type:"set_active_light",payload:Object(p.a)({},e,{group:t})})}},S=function(){return function(e){var t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(x.get("/groups"));case 2:return t=a.sent,a.next=5,v.a.awrap(x.get("/lights"));case 5:if(n=a.sent,!Array.isArray(t.data)&&!Array.isArray(n.data)){a.next=8;break}return a.abrupt("return");case 8:e(P(n.data,t.data));case 9:case"end":return a.stop()}}))}},P=function(e,t){return function(n){var a=Object.keys(e).map((function(t){return Object(p.a)({},e[t],{id:t})}));n({type:"fetch_groups",payload:Object.keys(t).map((function(e){return Object(p.a)({},t[e],{id:e,colors:a.filter((function(n){return t[e].lights.includes(n.id)})).map((function(e){return e.state}))})}))}),n({type:"fetch_lights",payload:a})}},L=function(e){return function(t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(x.put("/groups/".concat(e.id,"/action"),e.action));case 2:t(S());case 3:case"end":return n.stop()}}))}},M=function(e){return function(){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.awrap(x.put("/groups/".concat(e.id,"/action"),{alert:"select"}));case 2:return t.next=4,v.a.awrap(x.put("/groups/".concat(e.id,"/action"),{alert:"none"}));case 4:case"end":return t.stop()}}))}},A=function(e){return function(t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(x.put("/groups/".concat(e.id,"/action"),{on:!e.state.any_on}));case 2:t({type:"set_group",payload:Object(p.a)({},e,{state:Object(p.a)({},e.state,{any_on:!e.state.any_on})})});case 3:case"end":return n.stop()}}))}},F=function(e){return function(t){t({type:"set_active_group",payload:e})}},D=function(e){return function(t){t({type:"fetch_scenes",payload:Object.keys(e).map((function(t){return Object(p.a)({},e[t],{id:t})}))})}},R=function(e){return function(t){t({type:"fetch_schedules",payload:Object.keys(e).map((function(t){return Object(p.a)({},e[t],{id:t})}))})}},G=function(e){return function(t){t({type:"fetch_rules",payload:Object.keys(e).map((function(t){return Object(p.a)({},e[t],{id:t})}))})}},T=function(e){return function(t){t({type:"fetch_sensors",payload:Object.keys(e).map((function(t){return Object(p.a)({},e[t],{id:t})}))})}},I=function(){return function(e){var t,n,a,r,o,l;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(t=localStorage.getItem("ip"),n=localStorage.getItem("username"),a=localStorage.getItem("theme"),r=localStorage.getItem("view"),o={ip:t,username:n,theme:a,view:r},!t||!n){i.next=11;break}return i.next=8,v.a.awrap(y.a.get("https://".concat(t,"/api/").concat(n)));case 8:(l=i.sent).data.config&&(o.config=l.data.config,e(k(l.data.lights)),e(P(l.data.lights,l.data.groups)),e(D(l.data.scenes)),e(G(l.data.rules)),e(R(l.data.schedules)),e(T(l.data.sensors))),e({type:"initialize_app",payload:o});case 11:case"end":return i.stop()}}))}},H=function(e){return function(t){localStorage.setItem("theme",e),t({type:"set_theme",payload:e})}},U=Object(c.b)((function(e){return{rooms:e.rooms,lights:e.lights,schedules:e.schedules,rules:e.rules,sensors:e.sensors,theme:e.settings.theme}}),{})((function(e){var t=e.lights,n=(e.rooms,e.schedules),a=e.rules,o=e.sensors,l=e.location,c=e.theme,u=function(e){return e===l.pathname?"active":""};return r.a.createElement("div",{className:"ui fluid ".concat(c," vertical menu")},r.a.createElement(i.b,{className:"item ".concat(u("/home")),to:"/"},"Home",r.a.createElement("div",{className:"ui label blue"},t.length)),r.a.createElement(i.b,{className:"disabled item ".concat(u("/schedules")),to:"/schedules"},"Schedules",r.a.createElement("div",{className:"ui label blue"},n.length)),r.a.createElement(i.b,{className:"disabled item ".concat(u("/rules")),to:"/rules"},"Rules",r.a.createElement("div",{className:"ui label blue"},a.length)),r.a.createElement(i.b,{className:"disabled item ".concat(u("/sensors")),to:"/sensors"},"Sensors",r.a.createElement("div",{className:"ui label blue"},o.length)),r.a.createElement(i.b,{className:"item ".concat(u("/settings")),to:"/settings"},"Settings"))})),z=Object(c.b)((function(e){return{config:e.settings.config,theme:e.settings.theme}}),{})((function(e){var t=e.config,n=e.theme;return t&&t.name?r.a.createElement("div",{className:"ui ".concat(n," segment")},r.a.createElement("div",{className:"ui top attached ".concat("inverted"===n?"black":null," label")},"DEVICE INFO"),r.a.createElement("table",{className:"ui very basic compact fixed single line small ".concat(n," table")},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Name"),r.a.createElement("td",null,t.name)),r.a.createElement("tr",null,r.a.createElement("td",null,"Bridge ID"),r.a.createElement("td",null,t.bridgeid)),r.a.createElement("tr",null,r.a.createElement("td",null,"Model ID"),r.a.createElement("td",null,t.modelid)),r.a.createElement("tr",null,r.a.createElement("td",null,"DHCP"),r.a.createElement("td",null,t.dhcp.toString())),r.a.createElement("tr",null,r.a.createElement("td",null,"MAC"),r.a.createElement("td",null,t.mac)),r.a.createElement("tr",null,r.a.createElement("td",null,"IP"),r.a.createElement("td",null,t.ipaddress)),r.a.createElement("tr",null,r.a.createElement("td",null,"Netmask"),r.a.createElement("td",null,t.netmask)),r.a.createElement("tr",null,r.a.createElement("td",null,"Gateway"),r.a.createElement("td",null,t.gateway)),r.a.createElement("tr",null,r.a.createElement("td",null,"Proxy Address"),r.a.createElement("td",null,t.proxyaddress)),r.a.createElement("tr",null,r.a.createElement("td",null,"Proxy Port"),r.a.createElement("td",null,t.proxyport)),r.a.createElement("tr",null,r.a.createElement("td",null,"Zigbee Channel"),r.a.createElement("td",null,t.zigbeechannel)),r.a.createElement("tr",null,r.a.createElement("td",null,"Software Version"),r.a.createElement("td",null,t.swversion)),r.a.createElement("tr",null,r.a.createElement("td",null,"Portal Services"),r.a.createElement("td",null,t.portalservices.toString())),r.a.createElement("tr",null,r.a.createElement("td",null,"Portal Connection"),r.a.createElement("td",null,t.portalconnection))))):null})),V=n(157),B=n(113),Y=n.n(B),W=n(244),X=function(e){if(e.hue){var t=Math.round(e.hue/182.041667),n=Math.round(e.sat/2.54),a=Math.round(e.bri/2.54);return Y()({h:t,s:n,v:a}).toHexString()}if(e.ct){var r=Object(V.colorTemperature2rgb)(1e6/e.ct);return Y()({r:r.red,g:r.green,b:r.blue}).lighten(15).toHexString()}return"#FFFFFF"},K=function(e){return{hue:Math.round(182.041667*e.hsv.h),sat:Math.round(254*e.hsv.s),bri:Math.round(253*e.hsv.v)+1}},q=function(e){return e&&W.textContrast.isDark(e)?"white":"black"},Z=function(e){var t=e.group,n=e.toggle,o=e.alert,l=e.active,i=e.onSelect,c=e.onDim,u=Object(d.a)(new Set(t.colors.filter((function(e){return e.hue})).map((function(e){return X(e)})).sort())),s=q(u[0]||"#FFFFFF"),f=Object(a.useRef)(null);return r.a.createElement("div",{className:"ui card",style:{backgroundImage:"linear-gradient(to right, ".concat(u.length>1?u:[u[0],u[0]],")"),width:"100%"},onClick:function(e){i(t),e.stopPropagation()}},r.a.createElement("div",{className:"content"},r.a.createElement("div",{style:{color:s,opacity:.7,userSelect:"none"},onClick:function(e){e.ctrlKey&&(o(t),e.stopPropagation())}},t.name,r.a.createElement("span",{className:"ui right floated icon"},r.a.createElement("i",{className:"".concat(l?"check":null," icon"),style:{color:s,opacity:.7}})))),r.a.createElement("div",{className:"extra content",style:{backgroundColor:"#FFFFFF48"}},r.a.createElement("div",{className:"slidecontainer"},r.a.createElement("input",{className:"slide",type:"range",min:0,max:254,value:t.action.bri,onChange:function(e){return n=Number(e.target.value),void(null===f.current&&(f.current=n,c(Object(p.a)({},t,{action:{bri:n}})),setTimeout((function(){f.current=null}),500)));var n}}))),r.a.createElement("div",{className:"extra content",style:{backgroundColor:"#FFFFFF48"}},r.a.createElement("span",{className:"ui fitted right floated toggle checkbox"},r.a.createElement("input",{type:"checkbox",checked:t.state.any_on,onChange:function(){return n(t)}}),r.a.createElement("label",null))))},J=Object(c.b)((function(e){return{scenes:e.scenes,active:e.active,theme:e.settings.theme}}),{fetchScenes:function(){return function(e){var t;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(x.get("/scenes"));case 2:t=n.sent,e(D(t.data));case 4:case"end":return n.stop()}}))}},fetchGroups:S,setGroup:L})((function(e){var t=e.scenes,n=e.active,a=e.setGroup,o=e.theme,l=t.filter((function(e){return!!n.group&&e.group===n.group.id}));return r.a.createElement("div",{className:"ui ".concat(o," segment"),style:{overflowY:"hidden",height:"48vh"}},r.a.createElement("div",{className:"ui top attached ".concat("inverted"===o?"black":null," label")},"SCENES"),r.a.createElement("div",{className:"ui middle aligned ".concat(o," selection list"),style:{overflowY:"auto",height:"102%"}},l.map((function(e){return r.a.createElement("div",{className:"item",key:e.id,onClick:function(){return t=e.id,void(n.group&&a({id:n.group.id,action:{scene:t}}));var t}},r.a.createElement("div",{className:"content"},e.name))}))))})),$=n(245),Q=n.n($),ee=Object(c.b)((function(e){return{active:e.active.light?e.active.light:e.active.group,theme:e.settings.theme}}),{setLight:O,setGroup:L})((function(e){var t,n=e.active,o=e.setLight,l=e.setGroup,i=e.theme,c=Object(a.useRef)(null);if(!(t=n.action||n.state).hue&&!t.ct)return null;var u=n?n.action?500:100:null;return r.a.createElement("div",{className:"ui ".concat(i," segment")},r.a.createElement("div",{className:"ui top attached ".concat("inverted"===i?"black":null," label")},n?n.name.toUpperCase():"Color"),r.a.createElement(Q.a,{width:null,color:function(){switch(u){case 100:return X(n.state);case 500:return X(n.action);default:return"#2185D0"}}(),onChange:function(e,t){if(null===c.current){switch(c.current=e,u){case 100:if(n.state.hue){var a=K(e),r=a.hue,i=a.sat,s=a.bri;o({id:n.id,state:{hue:r,sat:i,bri:s}})}else{var d=function(e){var t=e.rgb,n=t.r,a=t.g,r=t.b;return{ct:Math.round(803.7-Object(V.rgb2colorTemperature)({red:n,green:a,blue:r})/10),bri:Math.round(253*e.hsv.v)+1}}(e),p=d.ct,f=d.bri;o({id:n.id,state:{ct:p,bri:f}})}break;case 500:var h=K(e),g=h.hue,m=h.sat,v=h.bri,b={id:n.id,action:{hue:g,sat:m,bri:v}};l(b)}setTimeout((function(){c.current=null}),u)}},disableAlpha:!0}))})),te=function(e){var t=e.onClick,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"eight wide column",style:{overflowY:"auto",height:"100%"},onClick:t},n))},ne=function(e){var t=e.onClick,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"four wide column",style:{overflowY:"auto",height:"100%"},onClick:t},n))},ae=Object(c.b)((function(e){return{groups:e.groups,active:e.active}}),{fetchGroups:S,alertGroup:M,toggleGroup:A,setGroup:L,setActiveGroup:F})((function(e){var t=e.groups,n=e.active,o=e.fetchGroups,l=e.alertGroup,i=e.toggleGroup,c=e.setGroup,u=e.setActiveGroup;Object(a.useEffect)((function(){o()}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{onClick:function(){return u(null)}},r.a.createElement("div",{className:"ui three stackable link cards"},t?t.map((function(e){return r.a.createElement(Z,{key:e.id,group:e,alert:l,toggle:i,active:!!n.group&&e.id===n.group.id,onSelect:u,onDim:c})})):null)),r.a.createElement(ne,null,n.light||n.group?r.a.createElement(ee,null):null,n.group?r.a.createElement(J,null):null))})),re=Object(c.b)((function(e){return{rules:e.rules}}),{fetchRules:function(){return function(e){var t,n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(x.get("/rules"));case 2:t=a.sent,n=t.data,e(G(n));case 5:case"end":return a.stop()}}))}}})((function(e){e.rules;return r.a.createElement("div",null,"RulesList")})),oe=n(160),le=function(e){var t=e.onClick,n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"twelve wide column",style:{overflowY:"auto",height:"100%"},onClick:t},n))},ie=Object(c.b)((function(e){return{settings:e.settings}}),{createUser:function(e){return function(t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(y.a.post("https://".concat(e,"/api/"),{devicetype:"Huebert"}));case 2:(n=a.sent).data[0].success?(localStorage.setItem("ip",e),localStorage.setItem("username",n.data[0].success.username),t({type:"create_user",payload:{ip:e,username:n.data[0].success.username}}),t(I())):t({type:"initialize_error",payload:n.data[0].error.description});case 4:case"end":return a.stop()}}))}},resetApp:function(){return function(e){return v.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:localStorage.clear(),e({type:"initialize_app"});case 2:case"end":return t.stop()}}))}}})((function(e){var t=e.settings,n=e.createUser,o=Object(a.useState)(""),l=Object(oe.a)(o,2),i=l[0],c=l[1],u=Object(a.useState)(null),s=Object(oe.a)(u,2),d=s[0],p=s[1];Object(a.useEffect)((function(){f()}),[]);var f=function(){var e;return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.ip){n.next=4;break}c(t.ip),n.next=8;break;case 4:return n.next=6,v.a.awrap(y.a.get("https://discovery.meethue.com"));case 6:(e=n.sent).data[0]&&c(e.data[0].internalipaddress||"");case 8:case"end":return n.stop()}}))},h=function(e){p(e===d?null:e)};return r.a.createElement(le,null,t.error?r.a.createElement("div",{className:"ui tiny ".concat("inverted"===t.theme?"inverted red":"error"," message")},r.a.createElement("div",{className:"header"},"Error: ",t.error)):t.ip&&t.username&&t.config?r.a.createElement("div",{className:"ui tiny ".concat("inverted"===t.theme?"inverted green":"success"," message")},r.a.createElement("div",{className:"header"},"Device connected")):r.a.createElement("div",{className:"ui tiny ".concat("inverted"===t.theme?"inverted":null," message")},r.a.createElement("div",{className:"header"},"Device not connected")),r.a.createElement("div",{className:"ui ".concat(t.theme," placeholder segment")},r.a.createElement("div",{className:"ui top attached ".concat("inverted"===t.theme?"black":null," label")},"DEVICE SETUP"),r.a.createElement("div",{className:"ui icon header"},r.a.createElement("i",{className:i?"wifi icon":"exclamation icon"}),"Connect to Philips Hue"),r.a.createElement("form",{className:"form",onSubmit:function(){n(i)}},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"ui inline labeled action input"},r.a.createElement("div",{className:"ui label"},"http://"),r.a.createElement("input",{type:"text",placeholder:i||"Device IP Address",value:i,onChange:function(e){return c(e.target.value)}}),r.a.createElement("button",{type:"submit",value:"Submit",className:"ui button blue"},"Connect"))))),r.a.createElement("div",{className:"ui ".concat(t.theme," segment")},r.a.createElement("div",{className:"ui top attached ".concat("inverted"===t.theme?"black":null," label")},"HELP"),r.a.createElement("div",{className:"ui fluid ".concat(t.theme," accordion")},r.a.createElement("div",{className:"".concat(0===d?"active":null," title"),onClick:function(){return h(0)}},r.a.createElement("i",{className:"dropdown icon"}),"Finding your Device IP"),r.a.createElement("div",{className:"".concat(0===d?"active":null," content")},r.a.createElement("div",null,"If your device is not automatically discovered, you must manually enter the device IP address above."),r.a.createElement("div",null,"Your IP address can be found by using one of the following methods:"),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",null,"Use the"," ",r.a.createElement("a",{href:"https://discovery.meethue.com",target:"_blank",rel:"noopener noreferrer"},"Hue Discovery Tool"),r.a.createElement("div",{className:"ui ".concat(t.theme," ordered list")},r.a.createElement("div",{className:"item"},"In a browser, visit the Discovery Tool, making sure you are on the same network as your device"),r.a.createElement("div",{className:"item"},"If a device is found, the IP address will appear next to"," ",r.a.createElement("code",null,'"internalipaddress":')))),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",null,"Log into your wireless router and look Philips Hue up in the DHCP table"),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",null,"Use the official"," ",r.a.createElement("a",{href:"https://www2.meethue.com/en-us/app/bridge#download-hue-app",target:"_blank",rel:"noopener noreferrer"},"Hue App"),r.a.createElement("div",{className:"ui ".concat(t.theme," ordered list")},r.a.createElement("div",{className:"item"},"Download the official Philips Hue app"),r.a.createElement("div",{className:"item"},"Connect your phone to the network the hue bridge is on"),r.a.createElement("div",{className:"item"},"Start the hue app"),r.a.createElement("div",{className:"item"},"Push link connect to the bridge"),r.a.createElement("div",{className:"item"},"Go to ",r.a.createElement("b",null," Settings > My Bridge > Network ")," and switch off the DHCP toggle"),r.a.createElement("div",{className:"item"},"Note the IP address, then switch DHCP back on"))),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",null,"Use a UPnP discovery app to find Philips Hue in your network")),r.a.createElement("div",{className:"".concat(1===d?"active":null," title"),onClick:function(){return h(1)}},r.a.createElement("i",{className:"dropdown icon"}),"Connecting to your Philips Hue Bridge"),r.a.createElement("div",{className:"".concat(1===d?"active":null," content")},"Your device should be automatically detected if it is on the same network as your computer. If you are on the same network and still do not see a Device IP, try obtaining it using one of the methods above.",r.a.createElement("div",{className:"ui divider"}),r.a.createElement("div",{className:"ui ".concat(t.theme," ordered list")},r.a.createElement("div",{className:"item"},"Enter your Device IP into the field above"),r.a.createElement("div",{className:"item"},"Press the ",r.a.createElement("b",null," Pair ")," button on your Hue Bridge device"),r.a.createElement("div",{className:"item"},"Press the ",r.a.createElement("b",null," Connect ")," button"))))))})),ce=n(494),ue=n(491),se=n(490),de=function(e){var t=e.light,n=e.group,o=e.active,l=e.setLight,i=e.setActiveLight,c=e.alertLight,u=e.toggleLight,s=(e.theme,X(t.state)),d=q(s),f=Object(a.useRef)(null);return r.a.createElement("tr",{style:o?{backgroundColor:"#AAAAAA24"}:null,onClick:function(e){e.ctrlKey?c(t):i(t,n),e.stopPropagation()}},null,r.a.createElement("td",null,r.a.createElement("span",{className:"ui label",style:{color:d,backgroundColor:"".concat(X(t.state))}},t.name)),r.a.createElement("td",null,r.a.createElement("div",{className:"slidecontainer"},r.a.createElement("input",{className:"middle aligned slide",type:"range",min:1,max:254,value:t.state.bri,onChange:function(e){return n=Number(e.target.value),void(null===f.current&&(f.current=n,l(Object(p.a)({},t,{state:{bri:n}})),setTimeout((function(){f.current=null}),100)));var n}}))),r.a.createElement("td",null,r.a.createElement("span",{className:"ui fitted middle aligned toggle checkbox"},r.a.createElement("input",{type:"checkbox",checked:t.state.on,onChange:function(){return u(t)},disabled:!t.state.reachable}),r.a.createElement("label",null))))},pe=Object(c.b)((function(e){return{active:e.active,theme:e.settings.theme}}),{alertLight:_,toggleLight:j,setLight:O,setActiveLight:N,alertGroup:M,toggleGroup:A,setGroup:L,setActiveGroup:F,expand:function(e){return function(t,n){var a=n().settings,r=a.expanded,o=a.expandAll,l=n().groups.map((function(e){return e.id}));r=r.includes(e)?r.filter((function(t){return t!==e})):[].concat(Object(d.a)(r),[e]),t({type:"set_expanded",payload:e}),(r.length==l.length||0===r.length&&o)&&t({type:"toggle_expanded",payload:l})}}})((function(e){var t=e.group,n=e.lights,o=e.active,l=e.expanded,i=e.setGroup,c=e.alertGroup,u=e.toggleGroup,s=e.setActiveGroup,f=e.setLight,h=e.alertLight,g=e.toggleLight,m=e.setActiveLight,v=e.expand,b=e.theme,y=Object(d.a)(new Set(t.colors.filter((function(e){return e.hue})).map((function(e){return X(e)})).sort())),E=q(y[0]||"#FFFFFF"),w=Object(a.useRef)(null);return r.a.createElement("table",{className:"ui selectable large single line ".concat(b," table")},r.a.createElement("thead",{onClick:function(e){e.ctrlKey?c(t):s(t),e.stopPropagation()}},r.a.createElement("tr",{style:o.group&&o.group.id===t.id?{backgroundColor:"#AAAAAA24"}:null},r.a.createElement("th",null,r.a.createElement("i",{className:"caret ".concat(l?"down":"right"," icon"),style:{cursor:"pointer"},onClick:function(e){v(t.id),e.stopPropagation()}}),r.a.createElement("span",{className:"ui fluid label",style:{color:E,width:"90%",cursor:"pointer",backgroundImage:"linear-gradient(to right, ".concat(y.length>1?y:[y[0],y[0]],")")}},t.name)),r.a.createElement("th",{style:{width:"40%"}},r.a.createElement("div",{className:"slidecontainer"},r.a.createElement("input",{className:"middle aligned slide",type:"range",min:0,max:254,value:t.action.bri,onChange:function(e){return n=Number(e.target.value),void(null===w.current&&(w.current=n,i(Object(p.a)({},t,{action:{bri:n}})),setTimeout((function(){w.current=null}),400)));var n}}))),r.a.createElement("th",{className:"collapsing"},r.a.createElement("span",{className:"ui middle aligned toggle checkbox"},r.a.createElement("input",{type:"checkbox",checked:t.state.any_on,onChange:function(){return u(t)}}),r.a.createElement("label",null))))),r.a.createElement("tbody",null,l?n.map((function(e){return r.a.createElement(de,{light:e,group:t,active:o.light&&o.light.id===e.id,setLight:f,setActiveLight:m,alertLight:h,toggleLight:g,theme:b,key:e.id})})):null))})),fe=function(e){var t=e.light,n=e.toggle,o=e.alert,l=e.active,i=e.onSelect,c=e.onDim,u=X(t.state),s=q(u),d=Object(a.useRef)(null);return r.a.createElement("div",{className:"ui card",style:{backgroundColor:u},onClick:function(e){i(t),e.stopPropagation()}},r.a.createElement("div",{className:"content",style:{backgroundColor:u}},r.a.createElement("div",{style:{color:s,opacity:.7,userSelect:"none"},onClick:function(e){e.ctrlKey&&(o(t),e.stopPropagation())}},t.name,r.a.createElement("span",{className:"ui right floated icon"},r.a.createElement("i",{className:"".concat(l?"check":null," icon"),style:{color:s,opacity:.7}})))),r.a.createElement("div",{className:"extra content",style:{backgroundColor:"#FFFFFF48"}},r.a.createElement("div",{className:"slidecontainer"},r.a.createElement("input",{className:"slide",type:"range",min:1,max:254,value:t.state.bri,onChange:function(e){return n=Number(e.target.value),void(null===d.current&&(d.current=n,c(Object(p.a)({},t,{state:{bri:n}})),setTimeout((function(){d.current=null}),100)));var n}}))),r.a.createElement("div",{className:"extra content",style:{backgroundColor:"#FFFFFF48"}},r.a.createElement("span",{className:"ui fitted right floated toggle checkbox"},r.a.createElement("input",{type:"checkbox",checked:t.state.on,onChange:function(){return n(t)},disabled:!t.state.reachable}),r.a.createElement("label",null))))},he=Object(c.b)((function(e){return{active:e.active,theme:e.settings.theme}}),{fetchLights:C,alertLight:_,toggleLight:j,setLight:O,setActiveLight:N,setGroup:L,alertGroup:M,toggleGroup:A,setActiveGroup:F})((function(e){var t=e.lights,n=e.groups,o=e.active,l=e.fetchLights,i=e.alertLight,c=e.toggleLight,u=e.setLight,s=e.setActiveLight,d=e.setGroup,p=e.alertGroup,f=e.toggleGroup,h=e.setActiveGroup,g=e.theme;Object(a.useEffect)((function(){l()}),[]);var m=function(e){return e.map((function(e){return r.a.createElement(fe,{key:e.id,light:e,toggle:c,alert:i,active:!!o.light&&e.id===o.light.id,onSelect:s,onDim:u})}))};return r.a.createElement("div",{className:"ui segments"},t?n.map((function(e){return r.a.createElement("div",{className:"ui ".concat(g," segment"),key:e.id,onClick:function(t){return function(e,t){h(t),e.stopPropagation()}(t,e)}},r.a.createElement(Z,{group:e,alert:p,toggle:f,active:!!o.group&&e.id===o.group.id,onSelect:h,onDim:d}),r.a.createElement("div",{className:"ui three doubling stackable link cards"},m(t.filter((function(t){return e.lights.includes(t.id)})))))})):null)})),ge=Object(c.b)((function(e){return{lights:e.lights,groups:e.groups,active:e.active,settings:e.settings}}),{fetchGroups:S,deleteGroup:function(e){return function(t){var n;return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(x.delete("/groups/".concat(e)));case 2:(n=a.sent).data[0].error&&window.alert("Error: ".concat(n.data[0].error.description)),t(S());case 5:case"end":return a.stop()}}))}},addLight:function(e,t){return function(n){return v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(x.put("/groups/".concat(e.id,"/lights"),[].concat(Object(d.a)(e.lights),[t.id])));case 2:n(S());case 3:case"end":return a.stop()}}))}},removeLight:function(e){return function(t){return v.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v.a.awrap(x.put("/groups/".concat(e.group.id),{lights:e.group.lights.filter((function(t){return t!==e.id}))}));case 2:n.sent,t(S());case 4:case"end":return n.stop()}}))}},setActiveGroup:F,setView:function(e){return function(t){localStorage.setItem("view",e),t({type:"set_view",payload:e})}},setTheme:H,toggleExpanded:function(){return function(e,t){e({type:"toggle_expanded",payload:t().groups.map((function(e){return e.id}))})}}})((function(e){var t=e.lights,n=e.groups,o=e.active,l=e.settings,i=e.fetchGroups,c=e.deleteGroup,u=(e.addLight,e.removeLight),s=e.setActiveGroup,d=e.setView,p=e.toggleExpanded;Object(a.useEffect)((function(){i()}),[]);var f=function(){console.log("create group")},h=function(){o.group?(c(o.group.id,o.group.name),s(null)):o.light&&u(o.light)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(te,{onClick:function(){return s(null)}},r.a.createElement(ce.a,{inverted:"inverted"===l.theme,size:"mini",icon:!0,onClick:function(e){return e.stopPropagation()}},r.a.createElement(ce.a.Item,{link:!0,active:"card"!==l.view,title:"List View",icon:"list",onClick:function(){return d("list")}}),r.a.createElement(ce.a.Item,{link:!0,active:"card"===l.view,icon:"th",title:"Card View",onClick:function(){return d("card")}}),r.a.createElement(ce.a.Item,{link:!0,title:"".concat(l.expandAll?"Collapse":"Expand"," All"),icon:"angle double ".concat(l.expandAll?"up":"down"),onClick:p}),r.a.createElement(ce.a.Menu,{position:"right"},r.a.createElement(ue.a,{size:"small",as:se.a,dimmer:"inverted"===l.theme||"inverted",trigger:r.a.createElement(ce.a.Item,{link:!0,title:"Create Group",icon:"plus"}),header:{icon:"plus",content:"Create Group"},content:r.a.createElement(ue.a.Content,null,r.a.createElement(se.a.Group,{widths:"equal"},r.a.createElement(se.a.Input,{name:"group",label:"Group Name",placeholder:"My Group"}),r.a.createElement(se.a.Select,{name:"type",label:"Type",placeholder:"LightGroup",options:[{key:"l",text:"LightGroup",value:"LightGroup"},{key:"r",text:"Room",value:"Room"},{key:"z",text:"Zone",value:"Zone"},{key:"e",text:"Entertainment",value:"Entertainment"}]})),r.a.createElement(se.a.Dropdown,{name:"lights",label:"Lights",placeholder:"Select Lights",search:!0,multiple:!0,selection:!0,options:t.map((function(e){return{text:e.name,value:e.id}}))})),actions:["Cancel",{key:"done",content:"Save",positive:!0,onClick:f}]}),r.a.createElement(ue.a,{size:"small",dimmer:"inverted"===l.theme||"inverted",trigger:r.a.createElement(ce.a.Item,{link:!0,disabled:!(o.light||o.group),title:"Delete",icon:"trash"}),header:"Delete ".concat(o.group?"Group":"Light"),content:"Are you sure you want to delete ".concat(o.group?o.group.name:o.light?o.light.name+" from "+o.light.group.name:null,"? This action cannot be undone."),actions:["Cancel",{key:"done",content:"Delete",negative:!0,onClick:h}]}))),"card"===l.view?r.a.createElement(he,{groups:n,lights:l.expandAll?t:[]}):n.map((function(e){return r.a.createElement(pe,{group:e,lights:t.filter((function(t){return e.lights.includes(t.id)})),expanded:l.expanded.includes(e.id),key:e.id})}))),r.a.createElement(ne,null,o.light||o.group?r.a.createElement(ee,null):null,o.group?r.a.createElement(J,null):null))})),me=Object(g.g)(Object(c.b)((function(e){return{settings:e.settings}}),{fetchGroups:S,initializeApp:I,setTheme:H})((function(e){var t=function(e,t){var n=Object(a.useRef)(null);Object(a.useEffect)((function(){return window.addEventListener("focus",r),window.addEventListener("blur",l),function(){window.removeEventListener("focus",r),window.removeEventListener("blur",l)}}),[]);var r=function(){e(),o()},o=Object(a.useCallback)((function(){null===n.current&&(n.current=setInterval((function(){e()}),t))}),[e,t]),l=Object(a.useCallback)((function(){null!==n.current&&(clearInterval(n.current),n.current=null)}),[n]);return{refresh:o,cancel:l}}(e.fetchGroups,5e3),n=t.refresh,o=t.cancel;return Object(a.useEffect)((function(){return e.initializeApp(),n(),o}),[]),r.a.createElement("div",{style:{padding:16,backgroundColor:"inverted"===e.settings.theme?"#080808":"white"}},r.a.createElement("div",{className:"ui grid",style:{overflowY:"hidden",height:"99.5vh"}},r.a.createElement(ne,null,r.a.createElement(U,{location:e.location}),r.a.createElement(z,null),r.a.createElement("div",{className:"ui ".concat(e.settings.theme," mini icon menu")},r.a.createElement("div",{className:"".concat("inverted"===e.settings.theme?"active":null," link item"),title:"Toggle Dark Mode",onClick:function(){return e.setTheme("inverted"===e.settings.theme?null:"inverted")}},r.a.createElement("i",{className:"adjust icon"})))),r.a.createElement(g.d,null,r.a.createElement(g.b,{exact:!0,path:"/",component:ge}),r.a.createElement(g.b,{exact:!0,path:"/groups",component:ae}),r.a.createElement(g.b,{exact:!0,path:"/schedules"}),r.a.createElement(g.b,{exact:!0,path:"/rules",component:re}),r.a.createElement(g.b,{exact:!0,path:"/sensors"}),r.a.createElement(g.b,{exact:!0,path:"/settings",component:ie}),r.a.createElement(g.a,{to:e.settings.config?"/settings":"/"}))))})));l.a.render(r.a.createElement(c.a,{store:h},r.a.createElement(i.a,null,r.a.createElement(me,null))),document.querySelector("#root"))}},[[276,1,2]]]);
//# sourceMappingURL=main.7677a65a.chunk.js.map
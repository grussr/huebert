{"version":3,"sources":["components/picker/components/common/index.js","components/picker/components/common/Checkboard.js","components/picker/helpers/color.js","components/picker/components/sketch/Sketch.js","components/picker/components/common/Alpha.js","components/picker/helpers/alpha.js","components/picker/helpers/checkboard.js","components/picker/components/common/EditableInput.js","components/picker/components/common/Hue.js","components/picker/helpers/hue.js","components/picker/components/common/Raised.js","components/picker/components/common/Saturation.js","components/picker/helpers/saturation.js","components/picker/components/common/ColorWrap.js","components/picker/components/common/Swatch.js","components/picker/helpers/interaction.js","components/picker/components/sketch/SketchFields.js","components/picker/components/sketch/SketchPresetColors.js","reducers/index.js","reducers/lightsReducer.js","actions/types.js","reducers/groupsReducer.js","reducers/scenesReducer.js","reducers/schedulesReducer.js","reducers/rulesReducer.js","reducers/sensorsReducer.js","reducers/activeReducer.js","reducers/settingsReducer.js","api/Hue.js","actions/lightActions.js","actions/groupActions.js","actions/sceneActions.js","actions/scheduleActions.js","actions/ruleActions.js","actions/sensorActions.js","actions/settingsActions.js","components/ToolPanel.js","components/NavigationMenu.js","components/Info.js","utils/index.js","components/home/LightRow.js","components/home/LightsTable.js","components/home/LightItem.js","components/home/RoomItem.js","components/home/LightsList.js","components/modals/CreateSceneModal.js","components/modals/DeleteItemModal.js","components/ScenesList.js","components/ColorPicker.js","components/CenterPanel.js","components/modals/CreateGroupModal.js","components/home/HomeView.js","components/RulesView.js","components/FullPanel.js","components/SettingsView.js","components/routines/SchedulesList.js","components/routines/RulesList.js","components/routines/RoutinesView.js","devices/index.js","hooks/useThrottled.js","components/sensors/MotionSensorItem.js","components/sensors/DimmerSwitchItem.js","components/sensors/SensorsView.js","components/App.js","hooks/useRefresh.js","index.js"],"names":["Object","defineProperty","exports","value","_Alpha","require","enumerable","get","_interopRequireDefault","default","_Checkboard","_EditableInput","_Hue","_Raised","_Saturation","_ColorWrap","_Swatch","obj","__esModule","Checkboard","undefined","_react2","_reactcss2","checkboard","newObj","key","prototype","hasOwnProperty","call","_interopRequireWildcard","_ref","white","grey","size","renderers","borderRadius","boxShadow","styles","grid","absolute","background","canvas","createElement","style","defaultProps","red","getContrastingColor","isValidHex","toState","simpleCheckForValidColor","_each2","_tinycolor2","data","checked","passed","letter","isNaN","test","oldHue","color","hex","hsl","toHsl","hsv","toHsv","rgb","toRgb","toHex","s","h","a","source","lh","String","charAt","length","isValid","col","r","g","b","l","v","Sketch","_extends","assign","target","i","arguments","_propTypes2","_merge2","_common","_SketchFields2","_SketchPresetColors2","width","onChange","onSwatchHover","disableAlpha","presetColors","_ref$styles","passedStyles","_ref$className","className","saturation","paddingBottom","position","overflow","Saturation","radius","shadow","controls","display","sliders","padding","flex","height","marginTop","marginLeft","activeColor","hue","Hue","alpha","Alpha","picker","colors","onClick","propTypes","bool","oneOfType","string","number","object","ColorWrap","_createClass","defineProperties","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_react","_Checkboard2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_ref2","_temp","_this","this","_len","args","Array","_key","__proto__","getPrototypeOf","apply","concat","handleChange","e","change","calculateChange","direction","container","handleMouseDown","window","addEventListener","handleMouseUp","unbindEventListeners","removeEventListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","_this2","gradient","margin","pointer","left","slider","transform","top","vertical","overwrite","ref","onMouseDown","onTouchMove","onTouchStart","PureComponent","Component","initialA","containerWidth","clientWidth","containerHeight","clientHeight","x","pageX","touches","y","pageY","getBoundingClientRect","pageXOffset","pageYOffset","Math","round","_a","checkboardCache","render","c1","c2","serverCanvas","document","ctx","getContext","fillStyle","fillRect","translate","toDataURL","EditableInput","VALID_KEY_CODES","handleBlur","state","blurValue","setState","setUpdatedValue","handleKeyDown","keyCode","Number","replace","getNumberValue","indexOf","offset","getArrowOffset","updatedValue","handleDrag","dragLabel","newValue","movementX","dragMax","getValueObjectWithLabel","preventDefault","toUpperCase","nextProps","input","activeElement","_defineProperty","label","arrowOffset","onChangeValue","isPercentage","getIsPercentage","wrap","cursor","onKeyDown","onBlur","placeholder","spellCheck","hideLabel","_props$direction","_h","Raised","zDepth","children","content","bg","oneOf","_throttle2","throttle","fn","cancel","black","circle","_container$getBoundin","bright","_debounce2","_color2","Picker","ColorPicker","event","onChangeComplete","debounce","handleSwatchHover","optionalEvents","Swatch","_interaction","_ref$onClick","onHover","_ref$title","title","focus","_ref$focusStyle","focusStyle","transparent","swatch","outline","onMouseOver","tabIndex","handleFocus","Span","_React$Component","Focus","onFocus","SketchFields","fields","paddingTop","single","paddingLeft","double","border","fontSize","textAlign","textTransform","SketchPresetColors","borderTop","flexWrap","swatchWrap","handleClick","map","colorObjOrString","c","arrayOf","shape","isRequired","rootReducer","combineReducers","lights","action","type","payload","groups","group","id","scenes","schedules","rules","sensors","active","light","scene","settings","theme","expandAll","expanded","error","ip","username","view","includes","filter","it","store","createStore","applyMiddleware","thunk","deviceAddress","localStorage","getItem","axios","baseURL","fetchLights","dispatch","updateLights","keys","setLight","clearActiveScene","put","setActiveScene","alertLight","alert","toggleLight","on","setActiveLight","fetchGroups","groupsResponse","lightsResponse","isArray","updateGroups","lightsData","groupsData","setGroup","alertGroup","toggleGroup","any_on","setActiveGroup","fetchScenes","response","updateScenes","createScene","post","description","success","updateSchedules","updateRules","fetchSensors","updateSensors","initializeApp","config","setTheme","setItem","ToolPanel","Grid","Column","overflowY","connect","rooms","location","isActive","path","pathname","Menu","fluid","inverted","to","Label","tableData","name","bridgeid","modelid","dhcp","toString","mac","ipaddress","netmask","gateway","proxyaddress","proxyport","zigbeechannel","swversion","portalservices","portalconnection","Segment","attached","Table","basic","compact","fixed","singleLine","renderBodyRow","cells","convertHSBToColor","sat","bri","tinycolor","toHexString","ct","colorTemperature2rgb","green","blue","lighten","convertHSVToHSB","compatibleText","textContrast","isDark","LightRow","textColor","useRef","Row","backgroundColor","ctrlKey","stopPropagation","Cell","Form","Field","disabled","reachable","min","max","current","setTimeout","Checkbox","toggle","expand","getState","groupIds","Set","sort","push","selectable","Header","HeaderCell","Icon","backgroundImage","collapsing","Body","LightItem","onSelect","onDim","Card","Content","opacity","userSelect","fitted","RoomItem","extra","useEffect","renderItems","Group","handleSelect","doubling","stackable","itemsPerRow","trigger","useState","open","setOpen","setError","setName","setType","recycle","setRecycle","selected","setSelected","transition","setTransition","tenths","setTenths","seconds","setSeconds","minutes","setMinutes","handleCreateScene","newScene","cleanup","Modal","as","dimmer","header","Description","Divider","Input","required","Select","options","text","Dropdown","search","multiple","selection","inline","widths","Message","negative","hidden","actions","positive","DeleteItemModal","itemName","groupName","onSubmit","deleteScene","delete","modifyScene","lightstates","confirmState","setConfirmState","availableScenes","handleModifyScene","lightStates","reduce","acc","curr","getModifiableKeys","removeEmptyKeys","effect","xy","forEach","handleDeleteScene","icon","Item","link","Confirm","onConfirm","onCancel","closeOnDimmerClick","closeOnEscape","locked","renderToolbar","Dimmer","Dimmable","dimmed","List","items","handleApplyScene","bufferedColor","extractColor","rgb2colorTemperature","convertHSVToCT","newGroup","CenterPanel","paddingRight","version","apiversion","split","slice","join","createGroup","assigned","setAssigned","clazz","setClazz","roomClasses","flat","handleCreate","class","onActionClick","_","deleteGroup","addLight","removeLight","setView","toggleExpanded","contextRef","handleDelete","Ref","innerRef","Sticky","context","fetchRules","FullPanel","createUser","devicetype","resetApp","clear","setDeviceAddress","internalipaddress","discoverDevices","helpPanels","href","rel","ordered","Button","Accordion","panels","SchedulesList","sched","localtime","RulesList","rule","status","fetchSchedules","HUE_COLOR_AMBIANCE","HUE_AMBIANCE_SPOT","HUE_DIMMER_SWITCH","HUE_TAP_SWITCH","HUE_SMART_BUTTON","HUE_SMART_PLUG","HUE_MOTION_SENSOR","HUE_AMBIENT_LIGHT_SENSOR","HUE_TEMPERATURE_SENSOR","callback","delay","dependencies","throttleRef","callbackRef","useCallback","console","log","sensor","onToggle","onAdjust","setExpanded","batteryLevel","battery","sensitivityOptions","sensitivitymax","handleExpand","onChangeSensitivity","useThrottled","sensitivity","onToggleIndicator","ledindication","striped","image","Detail","Date","lastupdated","presence","buttonevent","toggleSensor","configureSensor","Device","DimmerSwitchItem","MotionSensorItem","withRouter","interval","intervalRef","refresh","setInterval","clearInterval","useRefresh","beginRefresh","cancelRefresh","exact","component","HomeView","RoutinesView","SensorsView","RulesView","SettingsView","ReactDOM","querySelector"],"mappings":"qGAAAA,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAGT,IAAIC,EAASC,EAAQ,KAErBL,OAAOC,eAAeC,EAAS,QAAS,CACtCI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBJ,GAAQK,WAI1C,IAAIC,EAAcL,EAAQ,KAE1BL,OAAOC,eAAeC,EAAS,aAAc,CAC3CI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBE,GAAaD,WAI/C,IAAIE,EAAiBN,EAAQ,KAE7BL,OAAOC,eAAeC,EAAS,gBAAiB,CAC9CI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBG,GAAgBF,WAIlD,IAAIG,EAAOP,EAAQ,KAEnBL,OAAOC,eAAeC,EAAS,MAAO,CACpCI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBI,GAAMH,WAIxC,IAAII,EAAUR,EAAQ,KAEtBL,OAAOC,eAAeC,EAAS,SAAU,CACvCI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBK,GAASJ,WAI3C,IAAIK,EAAcT,EAAQ,KAE1BL,OAAOC,eAAeC,EAAS,aAAc,CAC3CI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBM,GAAaL,WAI/C,IAAIM,EAAaV,EAAQ,KAEzBL,OAAOC,eAAeC,EAAS,YAAa,CAC1CI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBO,GAAYN,WAI9C,IAAIO,EAAUX,EAAQ,KAStB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAPvFjB,OAAOC,eAAeC,EAAS,SAAU,CACvCI,YAAY,EACZC,IAAK,WACH,OAAOC,EAAuBQ,GAASP,Y,oBCxE3CT,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQiB,gBAAaC,EAErB,IAEIC,EAAUb,EAFDH,EAAQ,IAMjBiB,EAAad,EAFDH,EAAQ,KAMpBkB,EAEJ,SAAiCN,GAAO,GAAIA,GAAOA,EAAIC,WAAc,OAAOD,EAAc,IAAIO,EAAS,GAAI,GAAW,MAAPP,EAAe,IAAK,IAAIQ,KAAOR,EAAWjB,OAAO0B,UAAUC,eAAeC,KAAKX,EAAKQ,KAAMD,EAAOC,GAAOR,EAAIQ,IAAgC,OAAtBD,EAAOf,QAAUQ,EAAYO,EAFjPK,CAFCxB,EAAQ,MAM1B,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,IAAIE,EAAajB,EAAQiB,WAAa,SAAoBW,GACxD,IAAIC,EAAQD,EAAKC,MACbC,EAAOF,EAAKE,KACZC,EAAOH,EAAKG,KACZC,EAAYJ,EAAKI,UACjBC,EAAeL,EAAKK,aACpBC,EAAYN,EAAKM,UAEjBC,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACT6B,KAAM,CACJH,aAAcA,EACdC,UAAWA,EACXG,SAAU,kBACVC,WAAY,OAASjB,EAAWhB,IAAIwB,EAAOC,EAAMC,EAAMC,EAAUO,QAAU,oBAKjF,OAAOpB,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOC,QAG9DnB,EAAWyB,aAAe,CACxBX,KAAM,EACNF,MAAO,cACPC,KAAM,kBACNE,UAAW,IAGbhC,EAAQO,QAAUU,G,oBClDlBnB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ2C,IAAM3C,EAAQ4C,oBAAsB5C,EAAQ6C,WAAa7C,EAAQ8C,QAAU9C,EAAQ+C,8BAA2B7B,EAEtH,IAEI8B,EAAS1C,EAFDH,EAAQ,MAMhB8C,EAAc3C,EAFDH,EAAQ,MAIzB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAExDf,EAAQ+C,yBAA2B,SAAkCG,GAClG,IACIC,EAAU,EACVC,EAAS,EAeb,OAdA,EAAIJ,EAAOzC,SAHO,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,MAGrB,SAAU8C,GACzC,GAAIH,EAAKG,KACPF,GAAW,EACNG,MAAMJ,EAAKG,MACdD,GAAU,GAEG,MAAXC,GAA6B,MAAXA,GAAgB,CAClB,SACFE,KAAKL,EAAKG,MACxBD,GAAU,OAKXD,IAAYC,GAASF,GAlB9B,IAqBIJ,EAAU9C,EAAQ8C,QAAU,SAAiBI,EAAMM,GACrD,IAAIC,EAAQP,EAAKQ,KAAM,EAAIT,EAAY1C,SAAS2C,EAAKQ,MAAO,EAAIT,EAAY1C,SAAS2C,GACjFS,EAAMF,EAAMG,QACZC,EAAMJ,EAAMK,QACZC,EAAMN,EAAMO,QACZN,EAAMD,EAAMQ,QAOhB,OANc,IAAVN,EAAIO,IACNP,EAAIQ,EAAIX,GAAU,EAClBK,EAAIM,EAAIX,GAAU,GAIb,CACLG,IAAKA,EACLD,IAJwB,WAARA,GAA8B,IAAVK,EAAIK,EAIrB,cAAgB,IAAMV,EACzCK,IAAKA,EACLF,IAAKA,EACLL,OAAQN,EAAKiB,GAAKX,GAAUG,EAAIQ,EAChCE,OAAQnB,EAAKmB,SAIArE,EAAQ6C,WAAa,SAAoBa,GAExD,IAAIY,EAA+B,MAA1BC,OAAOb,GAAKc,OAAO,GAAa,EAAI,EAC7C,OAAOd,EAAIe,SAAW,EAAIH,GAAMZ,EAAIe,OAAS,EAAIH,IAAM,EAAIrB,EAAY1C,SAASmD,GAAKgB,WAG7D1E,EAAQ4C,oBAAsB,SAA6BM,GACnF,IAAKA,EACH,MAAO,OAET,IAAIyB,EAAM7B,EAAQI,GAClB,MAAgB,gBAAZyB,EAAIjB,IACC,mBAEc,IAAZiB,EAAIZ,IAAIa,EAAsB,IAAZD,EAAIZ,IAAIc,EAAsB,IAAZF,EAAIZ,IAAIe,GAAW,KACpD,IAAM,OAAS,QAGrB9E,EAAQ2C,IAAM,CACtBgB,IAAK,CAAES,EAAG,EAAGD,EAAG,EAAGY,EAAG,GAAKb,EAAG,GAC9BR,IAAK,UACLK,IAAK,CAAEa,EAAG,IAAKC,EAAG,EAAGC,EAAG,EAAGV,EAAG,GAC9BP,IAAK,CAAEM,EAAG,EAAGD,EAAG,EAAGc,EAAG,EAAGZ,EAAG,IAG9BpE,EAAQO,QAAUP,G,oBCnFlBF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQiF,YAAS/D,EAEjB,IAAIgE,EAAWpF,OAAOqF,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUb,OAAQY,IAAK,CAAE,IAAIhB,EAASiB,UAAUD,GAAI,IAAK,IAAI9D,KAAO8C,EAAcvE,OAAO0B,UAAUC,eAAeC,KAAK2C,EAAQ9C,KAAQ6D,EAAO7D,GAAO8C,EAAO9C,IAAY,OAAO6D,GAInPjE,EAAUb,EAFDH,EAAQ,IAMjBoF,EAAcjF,EAFDH,EAAQ,IAMrBiB,EAAad,EAFDH,EAAQ,KAMpBqF,EAAUlF,EAFDH,EAAQ,MAIjBsF,EAAUtF,EAAQ,KAIlBuF,EAAiBpF,EAFDH,EAAQ,MAMxBwF,EAAuBrF,EAFDH,EAAQ,MAIlC,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,IAAIkE,EAASjF,EAAQiF,OAAS,SAAgBrD,GAChCA,EAAKgE,MAAjB,IACI7B,EAAMnC,EAAKmC,IACXL,EAAM9B,EAAK8B,IACXG,EAAMjC,EAAKiC,IACXF,EAAM/B,EAAK+B,IACXkC,EAAWjE,EAAKiE,SAChBC,EAAgBlE,EAAKkE,cACrBC,EAAenE,EAAKmE,aACpBC,EAAepE,EAAKoE,aACpBhE,EAAYJ,EAAKI,UACjBiE,EAAcrE,EAAKO,OACnB+D,OAA+BhF,IAAhB+E,EAA4B,GAAKA,EAChDE,EAAiBvE,EAAKwE,UACtBA,OAA+BlF,IAAnBiF,EAA+B,GAAKA,EAEhDhE,GAAS,EAAIf,EAAWb,UAAS,EAAIiF,EAAQjF,SAAS,CACxD,QAAW2E,EAAS,CASlBmB,WAAY,CACVT,MAAO,OACPU,cAAe,MACfC,SAAU,WACVC,SAAU,UAEZC,WAAY,CACVC,OAAQ,MACRC,OAAQ,kEAEVC,SAAU,CACRC,QAAS,QAEXC,QAAS,CACPC,QAAS,QACTC,KAAM,KAERvD,MAAO,CACLmC,MAAO,OACPqB,OAAQ,OACRV,SAAU,WACVW,UAAW,MACXC,WAAY,MACZlF,aAAc,OAEhBmF,YAAa,CACX/E,SAAU,kBACVJ,aAAc,MACdK,WAAY,QAAUyB,EAAIa,EAAI,IAAMb,EAAIc,EAAI,IAAMd,EAAIe,EAAI,IAAMf,EAAIK,EAAI,IACxElC,UAAW,kEAEbmF,IAAK,CACHd,SAAU,WACVU,OAAQ,OACRT,SAAU,UAEZc,IAAK,CACHZ,OAAQ,MACRC,OAAQ,kEAGVY,MAAO,CACLhB,SAAU,WACVU,OAAQ,OACRC,UAAW,MACXV,SAAU,UAEZgB,MAAO,CACLd,OAAQ,MACRC,OAAQ,mEAETT,GACH,aAAgB,CACdzC,MAAO,CACLwD,OAAQ,QAEVI,IAAK,CACHJ,OAAQ,QAEVM,MAAO,CACLV,QAAS,UAGZX,GAAe,CAAEH,aAAcA,IAElC,OAAO5E,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAOsF,OAAQrB,UAAW,iBAAmBA,GACtDjF,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkE,YAChBlF,EAAQZ,QAAQiC,cAAciD,EAAQgB,WAAY,CAChDhE,MAAON,EAAOsE,WACd9C,IAAKA,EACLE,IAAKA,EACLgC,SAAUA,KAGd1E,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOyE,SAAUR,UAAW,eACrCjF,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAO2E,SAChB3F,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkF,KAChBlG,EAAQZ,QAAQiC,cAAciD,EAAQ6B,IAAK,CACzC7E,MAAON,EAAOmF,IACd3D,IAAKA,EACLkC,SAAUA,KAGd1E,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOoF,OAChBpG,EAAQZ,QAAQiC,cAAciD,EAAQ+B,MAAO,CAC3C/E,MAAON,EAAOqF,MACdzD,IAAKA,EACLJ,IAAKA,EACL3B,UAAWA,EACX6D,SAAUA,MAIhB1E,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOsB,OAChBtC,EAAQZ,QAAQiC,cAAciD,EAAQxE,WAAY,MAClDE,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOiF,gBAGzDjG,EAAQZ,QAAQiC,cAAckD,EAAenF,QAAS,CACpDwD,IAAKA,EACLJ,IAAKA,EACLD,IAAKA,EACLmC,SAAUA,EACVE,aAAcA,IAEhB5E,EAAQZ,QAAQiC,cAAcmD,EAAqBpF,QAAS,CAC1DmH,OAAQ1B,EACR2B,QAAS9B,EACTC,cAAeA,MAKrBb,EAAO2C,UAAY,CACjB7B,aAAcR,EAAYhF,QAAQsH,KAClCjC,MAAOL,EAAYhF,QAAQuH,UAAU,CAACvC,EAAYhF,QAAQwH,OAAQxC,EAAYhF,QAAQyH,SACtF7F,OAAQoD,EAAYhF,QAAQ0H,QAG9BhD,EAAOvC,aAAe,CACpBqD,cAAc,EACdH,MAAO,IACPzD,OAAQ,GACR6D,aAAc,CAAC,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,UAAW,YAG3KhG,EAAQO,SAAU,EAAIkF,EAAQyC,WAAWjD,I,gFCzMzCnF,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQwH,WAAQtG,EAEhB,IAAIgE,EAAWpF,OAAOqF,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUb,OAAQY,IAAK,CAAE,IAAIhB,EAASiB,UAAUD,GAAI,IAAK,IAAI9D,KAAO8C,EAAcvE,OAAO0B,UAAUC,eAAeC,KAAK2C,EAAQ9C,KAAQ6D,EAAO7D,GAAO8C,EAAO9C,IAAY,OAAO6D,GAEnP+C,EAAe,WAAc,SAASC,EAAiBhD,EAAQiD,GAAS,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAM5D,OAAQY,IAAK,CAAE,IAAIiD,EAAaD,EAAMhD,GAAIiD,EAAWlI,WAAakI,EAAWlI,aAAc,EAAOkI,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM1I,OAAOC,eAAeqF,EAAQkD,EAAW/G,IAAK+G,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYjH,UAAWkH,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASzI,EAAQ,GAEjBgB,EAAUb,EAAuBsI,GAIjCxH,EAAad,EAFDH,EAAQ,KAMpBoH,EAMJ,SAAiCxG,GAAO,GAAIA,GAAOA,EAAIC,WAAc,OAAOD,EAAc,IAAIO,EAAS,GAAI,GAAW,MAAPP,EAAe,IAAK,IAAIQ,KAAOR,EAAWjB,OAAO0B,UAAUC,eAAeC,KAAKX,EAAKQ,KAAMD,EAAOC,GAAOR,EAAIQ,IAAgC,OAAtBD,EAAOf,QAAUQ,EAAYO,EANtPK,CAFCxB,EAAQ,MAMjB0I,EAAevI,EAFDH,EAAQ,MAM1B,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,SAAS+H,EAAgBC,EAAUN,GAAe,KAAMM,aAAoBN,GAAgB,MAAM,IAAIO,UAAU,qCAEhH,SAASC,EAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzH,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BwH,EAAPxH,EAIlO,IAAI8F,EAAQxH,EAAQwH,MAAQ,SAAU5F,GAGpC,SAAS4F,IACP,IAAI4B,EAEAC,EAAOC,EAEXR,EAAgBS,KAAM/B,GAEtB,IAAK,IAAIgC,EAAOlE,UAAUb,OAAQgF,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3EF,EAAKE,GAAQrE,UAAUqE,GAGzB,OAAeN,EAASC,EAAQL,EAA2BM,MAAOH,EAAQ5B,EAAMoC,WAAa9J,OAAO+J,eAAerC,IAAQ9F,KAAKoI,MAAMV,EAAO,CAACG,MAAMQ,OAAON,KAAiBH,EAAMU,aAAe,SAAUC,GACzM,IAAIC,EAAS3C,EAAM4C,gBAAgBF,EAAGX,EAAMjB,MAAM1E,IAAK2F,EAAMjB,MAAM+B,UAAWd,EAAMjB,MAAMjE,EAAGkF,EAAMe,WACnGH,GAA0C,oBAAzBZ,EAAMjB,MAAMxC,UAA2ByD,EAAMjB,MAAMxC,SAASqE,EAAQD,IACpFX,EAAMgB,gBAAkB,SAAUL,GACnCX,EAAMU,aAAaC,GACnBM,OAAOC,iBAAiB,YAAalB,EAAMU,cAC3CO,OAAOC,iBAAiB,UAAWlB,EAAMmB,gBACxCnB,EAAMmB,cAAgB,WACvBnB,EAAMoB,wBACLpB,EAAMoB,qBAAuB,WAC9BH,OAAOI,oBAAoB,YAAarB,EAAMU,cAC9CO,OAAOI,oBAAoB,UAAWrB,EAAMmB,gBACnCxB,EAA2BK,EAAnCD,GA+FL,OA3HF,SAAmBuB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7B,UAAU,kEAAoE6B,GAAeD,EAASpJ,UAAY1B,OAAOgL,OAAOD,GAAcA,EAAWrJ,UAAW,CAAEuJ,YAAa,CAAE9K,MAAO2K,EAAUxK,YAAY,EAAOoI,UAAU,EAAMD,cAAc,KAAesC,IAAY/K,OAAOkL,eAAiBlL,OAAOkL,eAAeJ,EAAUC,GAAcD,EAAShB,UAAYiB,GAG/dI,CAAUzD,EAAO5F,GA4BjBuG,EAAaX,EAAO,CAAC,CACnBjG,IAAK,uBACLtB,MAAO,WACLsJ,KAAKmB,yBAEN,CACDnJ,IAAK,SACLtB,MAAO,WACL,IAAIiL,EAAS3B,KAETxF,EAAMwF,KAAKlB,MAAMtE,IACjB5B,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACTgH,MAAO,CACLlF,SAAU,kBACVJ,aAAcsH,KAAKlB,MAAM3B,QAE3BrF,WAAY,CACVgB,SAAU,kBACVmE,SAAU,SACVvE,aAAcsH,KAAKlB,MAAM3B,QAE3ByE,SAAU,CACR9I,SAAU,kBACVC,WAAY,kCAAoCyB,EAAIa,EAAI,IAAMb,EAAIc,EAAI,IAAMd,EAAIe,EAAI,6BAA+Bf,EAAIa,EAAI,IAAMb,EAAIc,EAAI,IAAMd,EAAIe,EAAI,aACvJ5C,UAAWqH,KAAKlB,MAAM1B,OACtB1E,aAAcsH,KAAKlB,MAAM3B,QAE3B2D,UAAW,CACT9D,SAAU,WACVU,OAAQ,OACRmE,OAAQ,SAEVC,QAAS,CACP9E,SAAU,WACV+E,KAAc,IAARvH,EAAIK,EAAU,KAEtBmH,OAAQ,CACN3F,MAAO,MACP3D,aAAc,MACdgF,OAAQ,MACR/E,UAAW,4BACXI,WAAY,OACZ4E,UAAW,MACXsE,UAAW,qBAGf,SAAY,CACVL,SAAU,CACR7I,WAAY,mCAAqCyB,EAAIa,EAAI,IAAMb,EAAIc,EAAI,IAAMd,EAAIe,EAAI,6BAA+Bf,EAAIa,EAAI,IAAMb,EAAIc,EAAI,IAAMd,EAAIe,EAAI,cAE1JuG,QAAS,CACPC,KAAM,EACNG,IAAa,IAAR1H,EAAIK,EAAU,MAGvB,UAAac,EAAS,GAAIqE,KAAKlB,MAAM5F,QACpC,CACDiJ,SAAmC,aAAzBnC,KAAKlB,MAAM+B,UACrBuB,WAAW,IAGb,OAAOxK,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAOoF,OAChBpG,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOd,YAChBF,EAAQZ,QAAQiC,cAAcqG,EAAatI,QAAS,CAAEyB,UAAWuH,KAAKlB,MAAMrG,aAE9Eb,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOgJ,WACrDhK,EAAQZ,QAAQiC,cACd,MACA,CACEC,MAAON,EAAOkI,UACduB,IAAK,SAAavB,GAChB,OAAOa,EAAOb,UAAYA,GAE5BwB,YAAatC,KAAKe,gBAClBwB,YAAavC,KAAKS,aAClB+B,aAAcxC,KAAKS,cAErB7I,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkJ,SAChB9B,KAAKlB,MAAMgD,QAAUlK,EAAQZ,QAAQiC,cAAc+G,KAAKlB,MAAMgD,QAAS9B,KAAKlB,OAASlH,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOoJ,gBAO7I/D,EAzHmB,CA0H1BoB,EAAOoD,eAAiBpD,EAAOqD,WAEjCjM,EAAQO,QAAUiH,G,kBC/JlB1H,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAEaD,EAAQmK,gBAAkB,SAAyBF,EAAGtG,EAAKyG,EAAW8B,EAAU7B,GACpG,IAAI8B,EAAiB9B,EAAU+B,YAC3BC,EAAkBhC,EAAUiC,aAC5BC,EAAuB,kBAAZtC,EAAEuC,MAAqBvC,EAAEuC,MAAQvC,EAAEwC,QAAQ,GAAGD,MACzDE,EAAuB,kBAAZzC,EAAE0C,MAAqB1C,EAAE0C,MAAQ1C,EAAEwC,QAAQ,GAAGE,MACzDrB,EAAOiB,GAAKlC,EAAUuC,wBAAwBtB,KAAOf,OAAOsC,aAC5DpB,EAAMiB,GAAKrC,EAAUuC,wBAAwBnB,IAAMlB,OAAOuC,aAE9D,GAAkB,aAAd1C,EAA0B,CAC5B,IAAIhG,OAAI,EASR,GAPEA,EADEqH,EAAM,EACJ,EACKA,EAAMY,EACX,EAEAU,KAAKC,MAAY,IAANvB,EAAYY,GAAmB,IAG5C1I,EAAIS,IAAMA,EACZ,MAAO,CACLD,EAAGR,EAAIQ,EACPD,EAAGP,EAAIO,EACPa,EAAGpB,EAAIoB,EACPX,EAAGA,EACHC,OAAQ,WAGP,CACL,IAAI4I,OAAK,EAST,GAAIf,KAPFe,EADE3B,EAAO,EACJ,EACIA,EAAOa,EACX,EAEAY,KAAKC,MAAa,IAAP1B,EAAaa,GAAkB,KAI/C,MAAO,CACLhI,EAAGR,EAAIQ,EACPD,EAAGP,EAAIO,EACPa,EAAGpB,EAAIoB,EACPX,EAAG6I,EACH5I,OAAQ,OAId,OAAO,O,kBClDTvE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAET,IAAIiN,EAAkB,GAElBC,EAASnN,EAAQmN,OAAS,SAAgBC,EAAIC,EAAItL,EAAMuL,GAC1D,GAAwB,qBAAbC,WAA6BD,EACtC,OAAO,KAET,IAAI/K,EAAS+K,EAAe,IAAIA,EAAiBC,SAAS/K,cAAc,UACxED,EAAOqD,MAAe,EAAP7D,EACfQ,EAAO0E,OAAgB,EAAPlF,EAChB,IAAIyL,EAAMjL,EAAOkL,WAAW,MAC5B,OAAKD,GAGLA,EAAIE,UAAYN,EAChBI,EAAIG,SAAS,EAAG,EAAGpL,EAAOqD,MAAOrD,EAAO0E,QACxCuG,EAAIE,UAAYL,EAChBG,EAAIG,SAAS,EAAG,EAAG5L,EAAMA,GACzByL,EAAII,UAAU7L,EAAMA,GACpByL,EAAIG,SAAS,EAAG,EAAG5L,EAAMA,GAClBQ,EAAOsL,aARL,MAWD7N,EAAQK,IAAM,SAAa+M,EAAIC,EAAItL,EAAMuL,GACjD,IAAI/L,EAAM6L,EAAK,IAAMC,EAAK,IAAMtL,GAAQuL,EAAe,UAAY,IAEnE,GAAIJ,EAAgB3L,GAClB,OAAO2L,EAAgB3L,GAGzB,IAAIF,EAAa8L,EAAOC,EAAIC,EAAItL,EAAMuL,GAEtC,OADAJ,EAAgB3L,GAAOF,EAChBA,I,oBClCTvB,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ8N,mBAAgB5M,EAExB,IAAIiH,EAAe,WAAc,SAASC,EAAiBhD,EAAQiD,GAAS,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAM5D,OAAQY,IAAK,CAAE,IAAIiD,EAAaD,EAAMhD,GAAIiD,EAAWlI,WAAakI,EAAWlI,aAAc,EAAOkI,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM1I,OAAOC,eAAeqF,EAAQkD,EAAW/G,IAAK+G,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYjH,UAAWkH,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASzI,EAAQ,GAEjBgB,EAAUb,EAAuBsI,GAIjCxH,EAAad,EAFDH,EAAQ,KAIxB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAUvF,IAIIgN,EAAkB,CAFJ,GACE,IAgBhBD,EAAgB9N,EAAQ8N,cAAgB,SAAUlM,GAGpD,SAASkM,EAAczF,IA5BzB,SAAyBU,EAAUN,GAAe,KAAMM,aAAoBN,GAAgB,MAAM,IAAIO,UAAU,qCA6B5GF,CAAgBS,KAAMuE,GAEtB,IAAIxE,EA7BR,SAAoCJ,EAAMxH,GAAQ,IAAKwH,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzH,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BwH,EAAPxH,EA6BlNuH,CAA2BM,MAAOuE,EAAclE,WAAa9J,OAAO+J,eAAeiE,IAAgBpM,KAAK6H,OAwDpH,OAtDAD,EAAM0E,WAAa,WACb1E,EAAM2E,MAAMC,WACd5E,EAAM6E,SAAS,CAAElO,MAAOqJ,EAAM2E,MAAMC,UAAWA,UAAW,QAI9D5E,EAAMU,aAAe,SAAUC,GAC7BX,EAAM8E,gBAAgBnE,EAAE7E,OAAOnF,MAAOgK,IAGxCX,EAAM+E,cAAgB,SAAUpE,GAI9B,IApCuCqE,EAoCnCrO,EA7BW,SAAwBA,GAC3C,OAAOsO,OAAOhK,OAAOtE,GAAOuO,QAAQ,KAAM,KA4B1BC,CAAexE,EAAE7E,OAAOnF,OACpC,IAAKqD,MAAMrD,KArC4BqO,EAqCHrE,EAAEqE,QApCnCP,EAAgBW,QAAQJ,IAAY,GAoCS,CAC9C,IAAIK,EAASrF,EAAMsF,iBACfC,EA1CM,KA0CS5E,EAAEqE,QAA0BrO,EAAQ0O,EAAS1O,EAAQ0O,EAExErF,EAAM8E,gBAAgBS,EAAc5E,KAIxCX,EAAMwF,WAAa,SAAU7E,GAC3B,GAAIX,EAAMjB,MAAM0G,UAAW,CACzB,IAAIC,EAAWjC,KAAKC,MAAM1D,EAAMjB,MAAMpI,MAAQgK,EAAEgF,WAC5CD,GAAY,GAAKA,GAAY1F,EAAMjB,MAAM6G,SAC3C5F,EAAMjB,MAAMxC,UAAYyD,EAAMjB,MAAMxC,SAASyD,EAAM6F,wBAAwBH,GAAW/E,KAK5FX,EAAMgB,gBAAkB,SAAUL,GAC5BX,EAAMjB,MAAM0G,YACd9E,EAAEmF,iBACF9F,EAAMwF,WAAW7E,GACjBM,OAAOC,iBAAiB,YAAalB,EAAMwF,YAC3CvE,OAAOC,iBAAiB,UAAWlB,EAAMmB,iBAI7CnB,EAAMmB,cAAgB,WACpBnB,EAAMoB,wBAGRpB,EAAMoB,qBAAuB,WAC3BH,OAAOI,oBAAoB,YAAarB,EAAMwF,YAC9CvE,OAAOI,oBAAoB,UAAWrB,EAAMmB,gBAG9CnB,EAAM2E,MAAQ,CACZhO,MAAOsE,OAAO8D,EAAMpI,OAAOoP,cAC3BnB,UAAW3J,OAAO8D,EAAMpI,OAAOoP,eAE1B/F,EA0FT,OA7KF,SAAmBsB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7B,UAAU,kEAAoE6B,GAAeD,EAASpJ,UAAY1B,OAAOgL,OAAOD,GAAcA,EAAWrJ,UAAW,CAAEuJ,YAAa,CAAE9K,MAAO2K,EAAUxK,YAAY,EAAOoI,UAAU,EAAMD,cAAc,KAAesC,IAAY/K,OAAOkL,eAAiBlL,OAAOkL,eAAeJ,EAAUC,GAAcD,EAAShB,UAAYiB,GAsB/dI,CAAU6C,EAAelM,GAgEzBuG,EAAa2F,EAAe,CAAC,CAC3BvM,IAAK,4BACLtB,MAAO,SAAmCqP,GACxC,IAAIC,EAAQhG,KAAKgG,MACbD,EAAUrP,QAAUsJ,KAAK0E,MAAMhO,QAC7BsP,IAAUhC,SAASiC,cACrBjG,KAAK4E,SAAS,CAAED,UAAW3J,OAAO+K,EAAUrP,OAAOoP,gBAEnD9F,KAAK4E,SAAS,CAAElO,MAAOsE,OAAO+K,EAAUrP,OAAOoP,cAAenB,WAAY3E,KAAK0E,MAAMC,WAAa3J,OAAO+K,EAAUrP,OAAOoP,mBAI/H,CACD9N,IAAK,uBACLtB,MAAO,WACLsJ,KAAKmB,yBAEN,CACDnJ,IAAK,0BACLtB,MAAO,SAAiCA,GACtC,OAhHN,SAAyBc,EAAKQ,EAAKtB,GAAiK,OAApJsB,KAAOR,EAAOjB,OAAOC,eAAegB,EAAKQ,EAAK,CAAEtB,MAAOA,EAAOG,YAAY,EAAMmI,cAAc,EAAMC,UAAU,IAAkBzH,EAAIQ,GAAOtB,EAAgBc,EAgH9L0O,CAAgB,GAAIlG,KAAKlB,MAAMqH,MAAOzP,KAE9C,CACDsB,IAAK,iBACLtB,MAAO,WACL,OAAOsJ,KAAKlB,MAAMsH,aA7GG,IA+GtB,CACDpO,IAAK,kBACLtB,MAAO,SAAyBA,EAAOgK,GACrC,IAAI2F,EAAqC,OAArBrG,KAAKlB,MAAMqH,MAAiBnG,KAAK4F,wBAAwBlP,GAASA,EACtFsJ,KAAKlB,MAAMxC,UAAY0D,KAAKlB,MAAMxC,SAAS+J,EAAe3F,GAE1D,IA5GuDjC,EA4GnD6H,EAtGY,SAAyB5P,GAC7C,OAAOsE,OAAOtE,GAAOyO,QAAQ,MAAQ,EAqGdoB,CAAgB7F,EAAE7E,OAAOnF,OAC5CsJ,KAAK4E,SAAS,CACZlO,MAAO4P,GA9G8C7H,EA8GR/H,EA7G5C+H,EAAS,KA6G4C/H,MAGzD,CACDsB,IAAK,SACLtB,MAAO,WACL,IAAIiL,EAAS3B,KAETpH,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACTwP,KAAM,CACJxJ,SAAU,aAGd,gBAAiB,CACfwJ,KAAMxG,KAAKlB,MAAM5F,OAAS8G,KAAKlB,MAAM5F,MAAMsN,KAAOxG,KAAKlB,MAAM5F,MAAMsN,KAAO,GAC1ER,MAAOhG,KAAKlB,MAAM5F,OAAS8G,KAAKlB,MAAM5F,MAAM8M,MAAQhG,KAAKlB,MAAM5F,MAAM8M,MAAQ,GAC7EG,MAAOnG,KAAKlB,MAAM5F,OAAS8G,KAAKlB,MAAM5F,MAAMiN,MAAQnG,KAAKlB,MAAM5F,MAAMiN,MAAQ,IAE/E,iBAAkB,CAChBA,MAAO,CACLM,OAAQ,eAGX,CACD,iBAAiB,GAChBzG,KAAKlB,OAER,OAAOlH,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAO4N,MAChB5O,EAAQZ,QAAQiC,cAAc,QAAS,CACrCC,MAAON,EAAOoN,MACd3D,IAAK,SAAa2D,GAChB,OAAOrE,EAAOqE,MAAQA,GAExBtP,MAAOsJ,KAAK0E,MAAMhO,MAClBgQ,UAAW1G,KAAK8E,cAChBxI,SAAU0D,KAAKS,aACfkG,OAAQ3G,KAAKyE,WACbmC,YAAa5G,KAAKlB,MAAM8H,YACxBC,WAAY,UAEd7G,KAAKlB,MAAMqH,QAAUnG,KAAKlB,MAAMgI,UAAYlP,EAAQZ,QAAQiC,cAC1D,OACA,CAAEC,MAAON,EAAOuN,MAAO7D,YAAatC,KAAKe,iBACzCf,KAAKlB,MAAMqH,OACT,UAKH5B,EAxJmC,CAyJ1ClF,EAAOoD,eAAiBpD,EAAOqD,WAEjCjM,EAAQO,QAAUuN,G,oBCvMlBhO,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQsH,SAAMpG,EAEd,IAAIiH,EAAe,WAAc,SAASC,EAAiBhD,EAAQiD,GAAS,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAM5D,OAAQY,IAAK,CAAE,IAAIiD,EAAaD,EAAMhD,GAAIiD,EAAWlI,WAAakI,EAAWlI,aAAc,EAAOkI,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM1I,OAAOC,eAAeqF,EAAQkD,EAAW/G,IAAK+G,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYjH,UAAWkH,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASzI,EAAQ,GAEjBgB,EAAUb,EAAuBsI,GAIjCxH,EAAad,EAFDH,EAAQ,KAMpBkH,EAEJ,SAAiCtG,GAAO,GAAIA,GAAOA,EAAIC,WAAc,OAAOD,EAAc,IAAIO,EAAS,GAAI,GAAW,MAAPP,EAAe,IAAK,IAAIQ,KAAOR,EAAWjB,OAAO0B,UAAUC,eAAeC,KAAKX,EAAKQ,KAAMD,EAAOC,GAAOR,EAAIQ,IAAgC,OAAtBD,EAAOf,QAAUQ,EAAYO,EAFxPK,CAFCxB,EAAQ,MAMnB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,SAAS+H,EAAgBC,EAAUN,GAAe,KAAMM,aAAoBN,GAAgB,MAAM,IAAIO,UAAU,qCAEhH,SAASC,EAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzH,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BwH,EAAPxH,EAIlO,IAAI4F,EAAMtH,EAAQsH,IAAM,SAAU1F,GAGhC,SAAS0F,IACP,IAAI8B,EAEAC,EAAOC,EAEXR,EAAgBS,KAAMjC,GAEtB,IAAK,IAAIkC,EAAOlE,UAAUb,OAAQgF,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3EF,EAAKE,GAAQrE,UAAUqE,GAGzB,OAAeN,EAASC,EAAQL,EAA2BM,MAAOH,EAAQ9B,EAAIsC,WAAa9J,OAAO+J,eAAevC,IAAM5F,KAAKoI,MAAMV,EAAO,CAACG,MAAMQ,OAAON,KAAiBH,EAAMU,aAAe,SAAUC,GACrM,IAAIC,EAAS7C,EAAI8C,gBAAgBF,EAAGX,EAAMjB,MAAM+B,UAAWd,EAAMjB,MAAM1E,IAAK2F,EAAMe,WAClFH,GAA0C,oBAAzBZ,EAAMjB,MAAMxC,UAA2ByD,EAAMjB,MAAMxC,SAASqE,EAAQD,IACpFX,EAAMgB,gBAAkB,SAAUL,GACnCX,EAAMU,aAAaC,GACnBM,OAAOC,iBAAiB,YAAalB,EAAMU,cAC3CO,OAAOC,iBAAiB,UAAWlB,EAAMmB,gBACxCnB,EAAMmB,cAAgB,WACvBnB,EAAMoB,wBACGzB,EAA2BK,EAAnCD,GAwFL,OAjHF,SAAmBuB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7B,UAAU,kEAAoE6B,GAAeD,EAASpJ,UAAY1B,OAAOgL,OAAOD,GAAcA,EAAWrJ,UAAW,CAAEuJ,YAAa,CAAE9K,MAAO2K,EAAUxK,YAAY,EAAOoI,UAAU,EAAMD,cAAc,KAAesC,IAAY/K,OAAOkL,eAAiBlL,OAAOkL,eAAeJ,EAAUC,GAAcD,EAAShB,UAAYiB,GAG/dI,CAAU3D,EAAK1F,GAyBfuG,EAAab,EAAK,CAAC,CACjB/F,IAAK,uBACLtB,MAAO,WACLsJ,KAAKmB,yBAEN,CACDnJ,IAAK,uBACLtB,MAAO,WACLsK,OAAOI,oBAAoB,YAAapB,KAAKS,cAC7CO,OAAOI,oBAAoB,UAAWpB,KAAKkB,iBAE5C,CACDlJ,IAAK,SACLtB,MAAO,WACL,IAAIiL,EAAS3B,KAET+G,EAAmB/G,KAAKlB,MAAM+B,UAC9BA,OAAiClJ,IAArBoP,EAAiC,aAAeA,EAG5DnO,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACT8G,IAAK,CACHhF,SAAU,kBACVJ,aAAcsH,KAAKlB,MAAM3B,OACzBxE,UAAWqH,KAAKlB,MAAM1B,QAExB0D,UAAW,CACTtD,QAAS,QACTR,SAAU,WACVU,OAAQ,OACRhF,aAAcsH,KAAKlB,MAAM3B,QAE3B2E,QAAS,CACP9E,SAAU,WACV+E,KAAyB,IAAnB/B,KAAKlB,MAAM1E,IAAIQ,EAAU,IAAM,KAEvCoH,OAAQ,CACNrE,UAAW,MACXtB,MAAO,MACP3D,aAAc,MACdgF,OAAQ,MACR/E,UAAW,4BACXI,WAAY,OACZkJ,UAAW,qBAGf,SAAY,CACVH,QAAS,CACPC,KAAM,MACNG,KAA0B,IAAnBlC,KAAKlB,MAAM1E,IAAIQ,EAAU,IAAO,IAAM,OAGhD,CAAEuH,SAAwB,aAAdtB,IAEf,OAAOjJ,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAOkF,KAChBlG,EAAQZ,QAAQiC,cACd,MACA,CACE4D,UAAW,OAASgE,EACpB3H,MAAON,EAAOkI,UACduB,IAAK,SAAavB,GAChB,OAAOa,EAAOb,UAAYA,GAE5BwB,YAAatC,KAAKe,gBAClBwB,YAAavC,KAAKS,aAClB+B,aAAcxC,KAAKS,cAErB7I,EAAQZ,QAAQiC,cACd,QACA,KACA,4qBAEFrB,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkJ,SAChB9B,KAAKlB,MAAMgD,QAAUlK,EAAQZ,QAAQiC,cAAc+G,KAAKlB,MAAMgD,QAAS9B,KAAKlB,OAASlH,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOoJ,gBAO7IjE,EA/Ge,CAgHtBsB,EAAOoD,eAAiBpD,EAAOqD,WAEjCjM,EAAQO,QAAU+G,G,kBC/IlBxH,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAEaD,EAAQmK,gBAAkB,SAAyBF,EAAGG,EAAWzG,EAAK0G,GAC1F,IAAI8B,EAAiB9B,EAAU+B,YAC3BC,EAAkBhC,EAAUiC,aAC5BC,EAAuB,kBAAZtC,EAAEuC,MAAqBvC,EAAEuC,MAAQvC,EAAEwC,QAAQ,GAAGD,MACzDE,EAAuB,kBAAZzC,EAAE0C,MAAqB1C,EAAE0C,MAAQ1C,EAAEwC,QAAQ,GAAGE,MACzDrB,EAAOiB,GAAKlC,EAAUuC,wBAAwBtB,KAAOf,OAAOsC,aAC5DpB,EAAMiB,GAAKrC,EAAUuC,wBAAwBnB,IAAMlB,OAAOuC,aAE9D,GAAkB,aAAd1C,EAA0B,CAC5B,IAAIjG,OAAI,EACR,GAAIsH,EAAM,EACRtH,EAAI,SACC,GAAIsH,EAAMY,EACflI,EAAI,MACC,CAELA,EAAI,MADkB,IAANsH,EAAYY,EAAmB,KAC3B,IAGtB,GAAI1I,EAAIQ,IAAMA,EACZ,MAAO,CACLA,EAAGA,EACHD,EAAGP,EAAIO,EACPa,EAAGpB,EAAIoB,EACPX,EAAGT,EAAIS,EACPC,OAAQ,WAGP,CACL,IAAIkM,OAAK,EACT,GAAIjF,EAAO,EACTiF,EAAK,OACA,GAAIjF,EAAOa,EAChBoE,EAAK,QACA,CAELA,EAAK,KADiB,IAAPjF,EAAaa,GACN,IAGxB,GAAIxI,EAAIQ,IAAMoM,EACZ,MAAO,CACLpM,EAAGoM,EACHrM,EAAGP,EAAIO,EACPa,EAAGpB,EAAIoB,EACPX,EAAGT,EAAIS,EACPC,OAAQ,OAId,OAAO,O,oBCpDTvE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQwQ,YAAStP,EAEjB,IAEIC,EAAUb,EAFDH,EAAQ,IAMjBoF,EAAcjF,EAFDH,EAAQ,IAMrBiB,EAAad,EAFDH,EAAQ,KAMpBqF,EAAUlF,EAFDH,EAAQ,MAIrB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,IAAIyP,EAASxQ,EAAQwQ,OAAS,SAAgB5O,GAC5C,IAAI6O,EAAS7O,EAAK6O,OACd/J,EAAS9E,EAAK8E,OACdpE,EAAaV,EAAKU,WAClBoO,EAAW9O,EAAK8O,SAChBzK,EAAcrE,EAAKO,OACnB+D,OAA+BhF,IAAhB+E,EAA4B,GAAKA,EAEhD9D,GAAS,EAAIf,EAAWb,UAAS,EAAIiF,EAAQjF,SAAS,CACxD,QAAW,CACTwP,KAAM,CACJxJ,SAAU,WACVM,QAAS,gBAEX8J,QAAS,CACPpK,SAAU,YAEZqK,GAAI,CACFvO,SAAU,kBACVH,UAAW,KAAOuO,EAAS,MAAiB,EAATA,EAAa,qBAChDxO,aAAcyE,EACdpE,WAAYA,IAGhB,WAAY,CACVsO,GAAI,CACF1O,UAAW,SAIf,WAAY,CACV0O,GAAI,CACF1O,UAAW,0DAGf,WAAY,CACV0O,GAAI,CACF1O,UAAW,0DAGf,WAAY,CACV0O,GAAI,CACF1O,UAAW,6DAGf,WAAY,CACV0O,GAAI,CACF1O,UAAW,6DAGf,WAAY,CACV0O,GAAI,CACF1O,UAAW,4DAGf,OAAU,CACR0O,GAAI,CACF3O,aAAc,MAGlB,OAAU,CACR2O,GAAI,CACF3O,aAAc,SAGjBiE,GAAe,CAAE,WAAuB,IAAXuK,IAEhC,OAAOtP,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAO4N,MAChB5O,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOyO,KACrDzP,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOwO,SAChBD,KAKNF,EAAO5I,UAAY,CACjBtF,WAAYiD,EAAYhF,QAAQwH,OAChC0I,OAAQlL,EAAYhF,QAAQsQ,MAAM,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,IAClDnK,OAAQnB,EAAYhF,QAAQyH,OAC5B7F,OAAQoD,EAAYhF,QAAQ0H,QAG9BuI,EAAO9N,aAAe,CACpBJ,WAAY,OACZmO,OAAQ,EACR/J,OAAQ,EACRvE,OAAQ,IAGVnC,EAAQO,QAAUiQ,G,oBCpHlB1Q,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQyG,gBAAavF,EAErB,IAAIiH,EAAe,WAAc,SAASC,EAAiBhD,EAAQiD,GAAS,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAM5D,OAAQY,IAAK,CAAE,IAAIiD,EAAaD,EAAMhD,GAAIiD,EAAWlI,WAAakI,EAAWlI,aAAc,EAAOkI,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM1I,OAAOC,eAAeqF,EAAQkD,EAAW/G,IAAK+G,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYjH,UAAWkH,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASzI,EAAQ,GAEjBgB,EAAUb,EAAuBsI,GAIjCxH,EAAad,EAFDH,EAAQ,KAMpB2Q,EAAaxQ,EAFDH,EAAQ,MAMpBkG,EAEJ,SAAiCtF,GAAO,GAAIA,GAAOA,EAAIC,WAAc,OAAOD,EAAc,IAAIO,EAAS,GAAI,GAAW,MAAPP,EAAe,IAAK,IAAIQ,KAAOR,EAAWjB,OAAO0B,UAAUC,eAAeC,KAAKX,EAAKQ,KAAMD,EAAOC,GAAOR,EAAIQ,IAAgC,OAAtBD,EAAOf,QAAUQ,EAAYO,EAFjPK,CAFCxB,EAAQ,MAM1B,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAQvF,IAAI0F,EAAazG,EAAQyG,WAAa,SAAU7E,GAG9C,SAAS6E,EAAW4B,IATtB,SAAyBU,EAAUN,GAAe,KAAMM,aAAoBN,GAAgB,MAAM,IAAIO,UAAU,qCAU5GF,CAAgBS,KAAM9C,GAEtB,IAAI6C,EAVR,SAAoCJ,EAAMxH,GAAQ,IAAKwH,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzH,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BwH,EAAPxH,EAUlNuH,CAA2BM,MAAO9C,EAAWmD,WAAa9J,OAAO+J,eAAepD,IAAa/E,KAAK6H,KAAMlB,IAmBpH,OAjBAiB,EAAMU,aAAe,SAAUC,GACG,oBAAzBX,EAAMjB,MAAMxC,UAA2ByD,EAAMyH,SAASzH,EAAMjB,MAAMxC,SAAUQ,EAAW8D,gBAAgBF,EAAGX,EAAMjB,MAAM1E,IAAK2F,EAAMe,WAAYJ,IAGtJX,EAAMgB,gBAAkB,SAAUL,GAChCX,EAAMU,aAAaC,GACnBM,OAAOC,iBAAiB,YAAalB,EAAMU,cAC3CO,OAAOC,iBAAiB,UAAWlB,EAAMmB,gBAG3CnB,EAAMmB,cAAgB,WACpBnB,EAAMoB,wBAGRpB,EAAMyH,UAAW,EAAID,EAAWvQ,UAAS,SAAUyQ,EAAI9N,EAAM+G,GAC3D+G,EAAG9N,EAAM+G,KACR,IACIX,EAiGT,OA5HF,SAAmBsB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7B,UAAU,kEAAoE6B,GAAeD,EAASpJ,UAAY1B,OAAOgL,OAAOD,GAAcA,EAAWrJ,UAAW,CAAEuJ,YAAa,CAAE9K,MAAO2K,EAAUxK,YAAY,EAAOoI,UAAU,EAAMD,cAAc,KAAesC,IAAY/K,OAAOkL,eAAiBlL,OAAOkL,eAAeJ,EAAUC,GAAcD,EAAShB,UAAYiB,GAG/dI,CAAUxE,EAAY7E,GA2BtBuG,EAAa1B,EAAY,CAAC,CACxBlF,IAAK,uBACLtB,MAAO,WACLsJ,KAAKwH,SAASE,SACd1H,KAAKmB,yBAEN,CACDnJ,IAAK,uBACLtB,MAAO,WACLsK,OAAOI,oBAAoB,YAAapB,KAAKS,cAC7CO,OAAOI,oBAAoB,UAAWpB,KAAKkB,iBAE5C,CACDlJ,IAAK,SACLtB,MAAO,WACL,IAAIiL,EAAS3B,KAETH,EAAQG,KAAKlB,MAAM5F,OAAS,GAC5BgB,EAAQ2F,EAAM3F,MACd5B,EAAQuH,EAAMvH,MACdqP,EAAQ9H,EAAM8H,MACd7F,EAAUjC,EAAMiC,QAChB8F,EAAS/H,EAAM+H,OAEfhP,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACTkD,MAAO,CACLpB,SAAU,kBACVC,WAAY,OAASiH,KAAKlB,MAAM1E,IAAIQ,EAAI,cACxClC,aAAcsH,KAAKlB,MAAM3B,QAE3B7E,MAAO,CACLQ,SAAU,kBACVJ,aAAcsH,KAAKlB,MAAM3B,QAE3BwK,MAAO,CACL7O,SAAU,kBACVH,UAAWqH,KAAKlB,MAAM1B,OACtB1E,aAAcsH,KAAKlB,MAAM3B,QAE3B2E,QAAS,CACP9E,SAAU,WACVkF,KAA0B,IAAnBlC,KAAKlB,MAAMxE,IAAImB,EAAW,IAAM,IACvCsG,KAAyB,IAAnB/B,KAAKlB,MAAMxE,IAAIK,EAAU,IAC/B8L,OAAQ,QAEVmB,OAAQ,CACNvL,MAAO,MACPqB,OAAQ,MACR/E,UAAW,8FACXD,aAAc,MACd+N,OAAQ,OACRxE,UAAW,0BAGf,OAAU,CACR/H,MAAOA,EACP5B,MAAOA,EACPqP,MAAOA,EACP7F,QAASA,EACT8F,OAAQA,IAET,CAAE,SAAY5H,KAAKlB,MAAM5F,QAE5B,OAAOtB,EAAQZ,QAAQiC,cACrB,MACA,CACEC,MAAON,EAAOsB,MACdmI,IAAK,SAAavB,GAChB,OAAOa,EAAOb,UAAYA,GAE5BwB,YAAatC,KAAKe,gBAClBwB,YAAavC,KAAKS,aAClB+B,aAAcxC,KAAKS,cAErB7I,EAAQZ,QAAQiC,cACd,QACA,KACA,kaAEFrB,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAON,MAAOuE,UAAW,oBAClCjF,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAO+O,MAAO9K,UAAW,qBACvEjF,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkJ,SAChB9B,KAAKlB,MAAMgD,QAAUlK,EAAQZ,QAAQiC,cAAc+G,KAAKlB,MAAMgD,QAAS9B,KAAKlB,OAASlH,EAAQZ,QAAQiC,cAAc,MAAO,CAAEC,MAAON,EAAOgP,gBAO7I1K,EA1H6B,CA2HpCmC,EAAOoD,eAAiBpD,EAAOqD,WAEjCjM,EAAQO,QAAUkG,G,kBC9JlB3G,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAEaD,EAAQmK,gBAAkB,SAAyBF,EAAGtG,EAAK0G,GAC/E,IAAI+G,EAAwB/G,EAAUuC,wBAClCT,EAAiBiF,EAAsBxL,MACvCyG,EAAkB+E,EAAsBnK,OAExCsF,EAAuB,kBAAZtC,EAAEuC,MAAqBvC,EAAEuC,MAAQvC,EAAEwC,QAAQ,GAAGD,MACzDE,EAAuB,kBAAZzC,EAAE0C,MAAqB1C,EAAE0C,MAAQ1C,EAAEwC,QAAQ,GAAGE,MACzDrB,EAAOiB,GAAKlC,EAAUuC,wBAAwBtB,KAAOf,OAAOsC,aAC5DpB,EAAMiB,GAAKrC,EAAUuC,wBAAwBnB,IAAMlB,OAAOuC,aAE1DxB,EAAO,EACTA,EAAO,EACEA,EAAOa,EAChBb,EAAOa,EACEV,EAAM,EACfA,EAAM,EACGA,EAAMY,IACfZ,EAAMY,GAGR,IAAIhG,EAAoB,IAAPiF,EAAaa,EAC1BkF,GAAiB,IAAN5F,EAAYY,EAAmB,IAE9C,MAAO,CACLlI,EAAGR,EAAIQ,EACPD,EAAGmC,EACHrB,EAAGqM,EACHjN,EAAGT,EAAIS,EACPC,OAAQ,S,oBC/BZvE,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQkI,eAAYhH,EAEpB,IAAIgE,EAAWpF,OAAOqF,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUb,OAAQY,IAAK,CAAE,IAAIhB,EAASiB,UAAUD,GAAI,IAAK,IAAI9D,KAAO8C,EAAcvE,OAAO0B,UAAUC,eAAeC,KAAK2C,EAAQ9C,KAAQ6D,EAAO7D,GAAO8C,EAAO9C,IAAY,OAAO6D,GAEnP+C,EAAe,WAAc,SAASC,EAAiBhD,EAAQiD,GAAS,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAM5D,OAAQY,IAAK,CAAE,IAAIiD,EAAaD,EAAMhD,GAAIiD,EAAWlI,WAAakI,EAAWlI,aAAc,EAAOkI,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM1I,OAAOC,eAAeqF,EAAQkD,EAAW/G,IAAK+G,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYjH,UAAWkH,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASzI,EAAQ,GAEjBgB,EAAUb,EAAuBsI,GAIjC0I,EAAahR,EAFDH,EAAQ,MAMpBoR,EAAUjR,EAFDH,EAAQ,MAIrB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAQvF,IAAImH,EAAYlI,EAAQkI,UAAY,SAAmBsJ,GACrD,IAAIC,EAAc,SAAU7P,GAG1B,SAAS6P,EAAYpJ,IAVzB,SAAyBU,EAAUN,GAAe,KAAMM,aAAoBN,GAAgB,MAAM,IAAIO,UAAU,qCAW1GF,CAAgBS,KAAMkI,GAEtB,IAAInI,EAXV,SAAoCJ,EAAMxH,GAAQ,IAAKwH,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzH,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BwH,EAAPxH,EAWhNuH,CAA2BM,MAAOkI,EAAY7H,WAAa9J,OAAO+J,eAAe4H,IAAc/P,KAAK6H,OAyBhH,OAvBAD,EAAMU,aAAe,SAAU9G,EAAMwO,GAEnC,GADmBH,EAAQhR,QAAQwC,yBAAyBG,GAC1C,CAChB,IAAIwE,EAAS6J,EAAQhR,QAAQuC,QAAQI,EAAMA,EAAKiB,GAAKmF,EAAM2E,MAAMzK,QACjE8F,EAAM6E,SAASzG,GACf4B,EAAMjB,MAAMsJ,kBAAoBrI,EAAMsI,SAAStI,EAAMjB,MAAMsJ,iBAAkBjK,EAAQgK,GACrFpI,EAAMjB,MAAMxC,UAAYyD,EAAMjB,MAAMxC,SAAS6B,EAAQgK,KAIzDpI,EAAMuI,kBAAoB,SAAU3O,EAAMwO,GAExC,GADmBH,EAAQhR,QAAQwC,yBAAyBG,GAC1C,CAChB,IAAIwE,EAAS6J,EAAQhR,QAAQuC,QAAQI,EAAMA,EAAKiB,GAAKmF,EAAM2E,MAAMzK,QACjE8F,EAAMjB,MAAMvC,eAAiBwD,EAAMjB,MAAMvC,cAAc4B,EAAQgK,KAInEpI,EAAM2E,MAAQ/I,EAAS,GAAIqM,EAAQhR,QAAQuC,QAAQuF,EAAM5E,MAAO,IAEhE6F,EAAMsI,UAAW,EAAIN,EAAW/Q,UAAS,SAAUyQ,EAAI9N,EAAMwO,GAC3DV,EAAG9N,EAAMwO,KACR,KACIpI,EAsBT,OAxDJ,SAAmBsB,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7B,UAAU,kEAAoE6B,GAAeD,EAASpJ,UAAY1B,OAAOgL,OAAOD,GAAcA,EAAWrJ,UAAW,CAAEuJ,YAAa,CAAE9K,MAAO2K,EAAUxK,YAAY,EAAOoI,UAAU,EAAMD,cAAc,KAAesC,IAAY/K,OAAOkL,eAAiBlL,OAAOkL,eAAeJ,EAAUC,GAAcD,EAAShB,UAAYiB,GAI7dI,CAAUwG,EAAa7P,GAiCvBuG,EAAasJ,EAAa,CAAC,CACzBlQ,IAAK,4BACLtB,MAAO,SAAmCqP,GACxC/F,KAAK4E,SAASjJ,EAAS,GAAIqM,EAAQhR,QAAQuC,QAAQwM,EAAU7L,MAAO8F,KAAK0E,MAAMzK,YAEhF,CACDjC,IAAK,SACLtB,MAAO,WACL,IAAI6R,EAAiB,GAKrB,OAJIvI,KAAKlB,MAAMvC,gBACbgM,EAAehM,cAAgByD,KAAKsI,mBAG/B1Q,EAAQZ,QAAQiC,cAAcgP,EAAQtM,EAAS,GAAIqE,KAAKlB,MAAOkB,KAAK0E,MAAO,CAChFpI,SAAU0D,KAAKS,cACd8H,QAIAL,EArDS,CAsDhB7I,EAAOoD,eAAiBpD,EAAOqD,WAajC,OAXAwF,EAAY7J,UAAY1C,EAAS,GAAIsM,EAAO5J,WAE5C6J,EAAY/O,aAAewC,EAAS,GAAIsM,EAAO9O,aAAc,CAC3De,MAAO,CACLU,EAAG,IACHD,EAAG,GACHa,EAAG,GACHX,EAAG,KAIAqN,GAGTzR,EAAQO,QAAU2H,G,oBCpGlBpI,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ+R,YAAS7Q,EAEjB,IAAIgE,EAAWpF,OAAOqF,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUb,OAAQY,IAAK,CAAE,IAAIhB,EAASiB,UAAUD,GAAI,IAAK,IAAI9D,KAAO8C,EAAcvE,OAAO0B,UAAUC,eAAeC,KAAK2C,EAAQ9C,KAAQ6D,EAAO7D,GAAO8C,EAAO9C,IAAY,OAAO6D,GAInPjE,EAAUb,EAFDH,EAAQ,IAMjBiB,EAAad,EAFDH,EAAQ,KAIpB6R,EAAe7R,EAAQ,KAIvB0I,EAAevI,EAFDH,EAAQ,MAI1B,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,IAEIgR,EAAS/R,EAAQ+R,OAAS,SAAgBnQ,GAC5C,IAAI6B,EAAQ7B,EAAK6B,MACbhB,EAAQb,EAAKa,MACbwP,EAAerQ,EAAK+F,QACpBA,OAA2BzG,IAAjB+Q,EAA6B,aAAiBA,EACxDC,EAAUtQ,EAAKsQ,QACfC,EAAavQ,EAAKwQ,MAClBA,OAAuBlR,IAAfiR,EAA2B1O,EAAQ0O,EAC3CzB,EAAW9O,EAAK8O,SAChB2B,EAAQzQ,EAAKyQ,MACbC,EAAkB1Q,EAAK2Q,WACvBA,OAAiCrR,IAApBoR,EAAgC,GAAKA,EAElDE,EAAwB,gBAAV/O,EACdtB,GAAS,EAAIf,EAAWb,SAAS,CACnCA,QAAS,CACPkS,OAAQvN,EAAS,CACf5C,WAAYmB,EACZwD,OAAQ,OACRrB,MAAO,OACPoK,OAAQ,UACRzJ,SAAU,WACVmM,QAAS,QACRjQ,EAAO4P,EAAQE,EAAa,OAc/BT,EAAiB,GAKrB,OAJII,IACFJ,EAAea,YANC,SAAqB1I,GACrC,OAAOiI,EAAQzO,EAAOwG,KAQjB9I,EAAQZ,QAAQiC,cACrB,MACA0C,EAAS,CACPzC,MAAON,EAAOsQ,OACd9K,QAnBc,SAAqBsC,GACrC,OAAOtC,EAAQlE,EAAOwG,IAmBpBmI,MAAOA,EACPQ,SAAU,EACV3C,UAnBgB,SAAuBhG,GACzC,OAjCQ,KAiCDA,EAAEqE,SAAqB3G,EAAQlE,EAAOwG,KAmB1C6H,GACHpB,EACA8B,GAAerR,EAAQZ,QAAQiC,cAAcqG,EAAatI,QAAS,CACjE0B,aAAcE,EAAOsQ,OAAOxQ,aAC5BC,UAAW,sCAKjBlC,EAAQO,SAAU,EAAIyR,EAAaa,aAAad,I,oBCpFhDjS,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ6S,iBAAc3R,EAEtB,IAQgCH,EAR5BmE,EAAWpF,OAAOqF,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUb,OAAQY,IAAK,CAAE,IAAIhB,EAASiB,UAAUD,GAAI,IAAK,IAAI9D,KAAO8C,EAAcvE,OAAO0B,UAAUC,eAAeC,KAAK2C,EAAQ9C,KAAQ6D,EAAO7D,GAAO8C,EAAO9C,IAAY,OAAO6D,GAEnP+C,EAAe,WAAc,SAASC,EAAiBhD,EAAQiD,GAAS,IAAK,IAAIhD,EAAI,EAAGA,EAAIgD,EAAM5D,OAAQY,IAAK,CAAE,IAAIiD,EAAaD,EAAMhD,GAAIiD,EAAWlI,WAAakI,EAAWlI,aAAc,EAAOkI,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAM1I,OAAOC,eAAeqF,EAAQkD,EAAW/G,IAAK+G,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYN,EAAiBK,EAAYjH,UAAWkH,GAAiBC,GAAaP,EAAiBK,EAAaE,GAAqBF,GAA7gB,GAEfG,EAASzI,EAAQ,GAEjBgB,GAE4BJ,EAFK6H,IAEgB7H,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,SAAS+H,EAAgBC,EAAUN,GAAe,KAAMM,aAAoBN,GAAgB,MAAM,IAAIO,UAAU,qCAEhH,SAASC,EAA2BC,EAAMxH,GAAQ,IAAKwH,EAAQ,MAAM,IAAIC,eAAe,6DAAgE,OAAOzH,GAAyB,kBAATA,GAAqC,oBAATA,EAA8BwH,EAAPxH,EAElO,SAASuJ,EAAUL,EAAUC,GAAc,GAA0B,oBAAfA,GAA4C,OAAfA,EAAuB,MAAM,IAAI7B,UAAU,kEAAoE6B,GAAeD,EAASpJ,UAAY1B,OAAOgL,OAAOD,GAAcA,EAAWrJ,UAAW,CAAEuJ,YAAa,CAAE9K,MAAO2K,EAAUxK,YAAY,EAAOoI,UAAU,EAAMD,cAAc,KAAesC,IAAY/K,OAAOkL,eAAiBlL,OAAOkL,eAAeJ,EAAUC,GAAcD,EAAShB,UAAYiB,GAG/c7K,EAAQ6S,YAAc,SAAqB5G,GAC3D,IAAI6G,EAAOxN,UAAUb,OAAS,QAAsBvD,IAAjBoE,UAAU,GAAmBA,UAAU,GAAK,OAC/E,OAAO,SAAUyN,GAGf,SAASC,IACP,IAAIpR,EAEAyH,EAAOC,EAEXR,EAAgBS,KAAMyJ,GAEtB,IAAK,IAAIxJ,EAAOlE,UAAUb,OAAQgF,EAAOC,MAAMF,GAAOG,EAAO,EAAGA,EAAOH,EAAMG,IAC3EF,EAAKE,GAAQrE,UAAUqE,GAGzB,OAAeN,EAASC,EAAQL,EAA2BM,MAAO3H,EAAOoR,EAAMpJ,WAAa9J,OAAO+J,eAAemJ,IAAQtR,KAAKoI,MAAMlI,EAAM,CAAC2H,MAAMQ,OAAON,KAAiBH,EAAM2E,MAAQ,CAAEoE,OAAO,GAAS/I,EAAMuJ,YAAc,WAC5N,OAAOvJ,EAAM6E,SAAS,CAAEkE,OAAO,KAC9B/I,EAAM0E,WAAa,WACpB,OAAO1E,EAAM6E,SAAS,CAAEkE,OAAO,KACtBpJ,EAA2BK,EAAnCD,GAcL,OA/BA4B,EAAU+H,EAAOD,GAoBjB5K,EAAa6K,EAAO,CAAC,CACnBzR,IAAK,SACLtB,MAAO,WACL,OAAOkB,EAAQZ,QAAQiC,cACrBsQ,EACA,CAAEG,QAAS1J,KAAKsJ,YAAa3C,OAAQ3G,KAAKyE,YAC1C7M,EAAQZ,QAAQiC,cAAcyJ,EAAW/G,EAAS,GAAIqE,KAAKlB,MAAOkB,KAAK0E,aAKtE+E,EAhCF,CAiCL7R,EAAQZ,QAAQ0L,a,oBCzDpBnM,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQkT,kBAAehS,EAEvB,IAEIC,EAAUb,EAFDH,EAAQ,IAMjBiB,EAAad,EAFDH,EAAQ,KAMpBoR,EAAUjR,EAFDH,EAAQ,MAIjBsF,EAAUtF,EAAQ,KAEtB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAIvF,IAAImS,EAAelT,EAAQkT,aAAe,SAAsBtR,GAC9D,IAAIiE,EAAWjE,EAAKiE,SAChB9B,EAAMnC,EAAKmC,IACXJ,EAAM/B,EAAK+B,IACXD,EAAM9B,EAAK8B,IACXqC,EAAenE,EAAKmE,aAEpB5D,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACT4S,OAAQ,CACNtM,QAAS,OACTuM,WAAY,OAEdC,OAAQ,CACNrM,KAAM,IACNsM,YAAa,OAEf/L,MAAO,CACLP,KAAM,IACNsM,YAAa,OAEfC,OAAQ,CACNvM,KAAM,KAERuI,MAAO,CACL3J,MAAO,MACPmB,QAAS,cACTyM,OAAQ,OACRtR,UAAW,uBACXuR,SAAU,QAEZ/D,MAAO,CACL7I,QAAS,QACT6M,UAAW,SACXD,SAAU,OACVL,WAAY,MACZ9M,cAAe,MACfqN,cAAe,eAGnB,aAAgB,CACdpM,MAAO,CACLV,QAAS,UAGZ,CAAEd,aAAcA,IAEfiE,EAAe,SAAsB9G,EAAM+G,GACzC/G,EAAKQ,IACP6N,EAAQhR,QAAQsC,WAAWK,EAAKQ,MAAQmC,EAAS,CAC/CnC,IAAKR,EAAKQ,IACVW,OAAQ,OACP4F,GACM/G,EAAK0B,GAAK1B,EAAK2B,GAAK3B,EAAK4B,EAClCe,EAAS,CACPjB,EAAG1B,EAAK0B,GAAKb,EAAIa,EACjBC,EAAG3B,EAAK2B,GAAKd,EAAIc,EACjBC,EAAG5B,EAAK4B,GAAKf,EAAIe,EACjBV,EAAGL,EAAIK,EACPC,OAAQ,OACP4F,GACM/G,EAAKkB,IACVlB,EAAKkB,EAAI,EACXlB,EAAKkB,EAAI,EACAlB,EAAKkB,EAAI,MAClBlB,EAAKkB,EAAI,KAGXlB,EAAKkB,GAAK,IACVyB,EAAS,CACP1B,EAAGR,EAAIQ,EACPD,EAAGP,EAAIO,EACPa,EAAGpB,EAAIoB,EACPX,EAAGlB,EAAKkB,EACRC,OAAQ,OACP4F,KAIP,OAAO9I,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAOgR,OAAQ/M,UAAW,eACnCjF,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOoR,QAChBpS,EAAQZ,QAAQiC,cAAciD,EAAQqI,cAAe,CACnDrL,MAAO,CAAE8M,MAAOpN,EAAOoN,MAAOG,MAAOvN,EAAOuN,OAC5CA,MAAO,MACPzP,MAAOyD,EAAI8K,QAAQ,IAAK,IACxB3I,SAAUmE,KAGd7I,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkR,QAChBlS,EAAQZ,QAAQiC,cAAciD,EAAQqI,cAAe,CACnDrL,MAAO,CAAE8M,MAAOpN,EAAOoN,MAAOG,MAAOvN,EAAOuN,OAC5CA,MAAO,IACPzP,MAAO8D,EAAIa,EACXiB,SAAUmE,EACV+E,UAAW,OACXG,QAAS,SAGb/N,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkR,QAChBlS,EAAQZ,QAAQiC,cAAciD,EAAQqI,cAAe,CACnDrL,MAAO,CAAE8M,MAAOpN,EAAOoN,MAAOG,MAAOvN,EAAOuN,OAC5CA,MAAO,IACPzP,MAAO8D,EAAIc,EACXgB,SAAUmE,EACV+E,UAAW,OACXG,QAAS,SAGb/N,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOkR,QAChBlS,EAAQZ,QAAQiC,cAAciD,EAAQqI,cAAe,CACnDrL,MAAO,CAAE8M,MAAOpN,EAAOoN,MAAOG,MAAOvN,EAAOuN,OAC5CA,MAAO,IACPzP,MAAO8D,EAAIe,EACXe,SAAUmE,EACV+E,UAAW,OACXG,QAAS,SAGb/N,EAAQZ,QAAQiC,cACd,MACA,CAAEC,MAAON,EAAOoF,OAChBpG,EAAQZ,QAAQiC,cAAciD,EAAQqI,cAAe,CACnDrL,MAAO,CAAE8M,MAAOpN,EAAOoN,MAAOG,MAAOvN,EAAOuN,OAC5CA,MAAO,IACPzP,MAAO8M,KAAKC,MAAc,IAARjJ,EAAIK,GACtByB,SAAUmE,EACV+E,UAAW,OACXG,QAAS,WAMjBlP,EAAQO,QAAU2S,G,oBCtKlBpT,OAAOC,eAAeC,EAAS,aAAc,CAC3CC,OAAO,IAETD,EAAQ4T,wBAAqB1S,EAE7B,IAAIgE,EAAWpF,OAAOqF,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUb,OAAQY,IAAK,CAAE,IAAIhB,EAASiB,UAAUD,GAAI,IAAK,IAAI9D,KAAO8C,EAAcvE,OAAO0B,UAAUC,eAAeC,KAAK2C,EAAQ9C,KAAQ6D,EAAO7D,GAAO8C,EAAO9C,IAAY,OAAO6D,GAInPjE,EAAUb,EAFDH,EAAQ,IAMjBoF,EAAcjF,EAFDH,EAAQ,IAMrBiB,EAAad,EAFDH,EAAQ,KAIpBsF,EAAUtF,EAAQ,KAEtB,SAASG,EAAuBS,GAAO,OAAOA,GAAOA,EAAIC,WAAaD,EAAM,CAAER,QAASQ,GAEvF,IAAI6S,EAAqB5T,EAAQ4T,mBAAqB,SAA4BhS,GAChF,IAAI8F,EAAS9F,EAAK8F,OACduK,EAAerQ,EAAK+F,QACpBA,OAA2BzG,IAAjB+Q,EAA6B,aAAiBA,EACxDnM,EAAgBlE,EAAKkE,cAErB3D,GAAS,EAAIf,EAAWb,SAAS,CACnC,QAAW,CACTmH,OAAQ,CACN0D,OAAQ,UACRrE,QAAS,gBACT8M,UAAW,sBACXhN,QAAS,OACTiN,SAAU,OACVvN,SAAU,YAEZwN,WAAY,CACVnO,MAAO,OACPqB,OAAQ,OACRmE,OAAQ,iBAEVqH,OAAQ,CACNxQ,aAAc,MACdC,UAAW,oCAGf,aAAc,CACZwF,OAAQ,CACNb,QAAS,UAGZ,CACD,cAAea,IAAWA,EAAOjD,SAG/BuP,EAAc,SAAqBtQ,EAAKuG,GAC1CtC,EAAQ,CACNjE,IAAKA,EACLW,OAAQ,OACP4F,IAGL,OAAO9I,EAAQZ,QAAQiC,cACrB,MACA,CAAEC,MAAON,EAAOuF,OAAQtB,UAAW,eACnCsB,EAAOuM,KAAI,SAAUC,GACnB,IAAIC,EAAgC,kBAArBD,EAAgC,CAAEzQ,MAAOyQ,GAAqBA,EACzE3S,EAAM,GAAK4S,EAAE1Q,OAAS0Q,EAAE/B,OAAS,IACrC,OAAOjR,EAAQZ,QAAQiC,cACrB,MACA,CAAEjB,IAAKA,EAAKkB,MAAON,EAAO4R,YAC1B5S,EAAQZ,QAAQiC,cAAciD,EAAQsM,OAAQ7M,EAAS,GAAIiP,EAAG,CAC5D1R,MAAON,EAAOsQ,OACd9K,QAASqM,EACT9B,QAASpM,EACTyM,WAAY,CACVrQ,UAAW,4CAA8CiS,EAAE1Q,gBAQvEmQ,EAAmBhM,UAAY,CAC7BF,OAAQnC,EAAYhF,QAAQ6T,QAAQ7O,EAAYhF,QAAQuH,UAAU,CAACvC,EAAYhF,QAAQwH,OAAQxC,EAAYhF,QAAQ8T,MAAM,CACvH5Q,MAAO8B,EAAYhF,QAAQwH,OAC3BqK,MAAO7M,EAAYhF,QAAQwH,YACvBuM,YAGRtU,EAAQO,QAAUqT,G,+lBClFZW,EAAcC,YAAgB,CAClCC,OCXa,WAAyB,IAAxBxG,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,ICAwB,eDCtB,OAAOD,EAAOE,QAChB,QACE,OAAO3G,IDOX4G,OGZa,WAAyB,IAAxB5G,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,IDJwB,eCKtB,OAAOD,EAAOE,QAChB,IDLqB,YCMnB,OAAO3G,EAAMgG,KAAI,SAAAa,GACf,OAAIA,EAAMC,KAAOL,EAAOE,QAAQG,GACvBL,EAAOE,QAETE,KAEX,QACE,OAAO7G,IHCX+G,OIba,WAAyB,IAAxB/G,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,IFIwB,eEHtB,OAAOD,EAAOE,QAChB,QACE,OAAO3G,IJSXgH,UKda,WAAyB,IAAxBhH,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,IHO2B,kBGNzB,OAAOD,EAAOE,QAChB,QACE,OAAO3G,ILUXiH,MMfa,WAAyB,IAAxBjH,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,IJSuB,cIRrB,OAAOD,EAAOE,QAChB,QACE,OAAO3G,INWXkH,QOhBa,WAAyB,IAAxBlH,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,ILWyB,gBKVvB,OAAOD,EAAOE,QAChB,QACE,OAAO3G,IPYXmH,OQjBa,WAAyB,IAAxBnH,EAAuB,uDAAf,GAAIyG,EAAW,uCACrC,OAAQA,EAAOC,MACb,INE4B,mBMD1B,OAAI1G,EAAMoH,OAASpH,EAAMoH,MAAMN,KAAOL,EAAOE,QAAQG,GAC5C,eAAK9G,EAAZ,CAAmBoH,MAAO,OAErB,eAAKpH,EAAZ,CAAmBoH,MAAOX,EAAOE,QAASE,MAAO,OACnD,INP4B,mBMQ1B,OAAI7G,EAAM6G,QAAUJ,EAAOE,QAClB,eAAK3G,EAAZ,CAAmB6G,MAAO,KAAMO,MAAO,OAElC,eAAKpH,EAAZ,CAAmB6G,MAAOJ,EAAOE,QAASS,MAAO,OACnD,INL4B,mBMM1B,OAAO,eAAKpH,EAAZ,CAAmBqH,MAAOZ,EAAOE,UACnC,QACE,OAAO3G,IRGXsH,SSVa,WAGT,IAFJtH,EAEG,uDAFK,CAAEuH,MAAO,WAAYC,WAAW,EAAOC,SAAU,IACzDhB,EACG,uCACH,OAAQA,EAAOC,MACb,IPE0B,iBODxB,OAAO,eAAK1G,EAAZ,GAAsByG,EAAOE,QAA7B,CAAsCe,MAAO,OAC/C,IPEuB,cODrB,OAAO,eACF1H,EADL,CAEE2H,GAAIlB,EAAOE,QAAQgB,GACnBC,SAAUnB,EAAOE,QAAQiB,SACzBF,MAAO,OAEX,IPN4B,mBOO1B,OAAO,eAAK1H,EAAZ,CAAmB0H,MAAOjB,EAAOE,UACnC,IPNqB,YOOnB,OAAO,eAAK3G,EAAZ,CAAmBuH,MAAOd,EAAOE,UACnC,IPPoB,WOQlB,OAAO,eAAK3G,EAAZ,CAAmB6H,KAAMpB,EAAOE,UAClC,IPP2B,kBOQzB,OAAO3G,EAAMwH,UAAN,eACExH,EADF,CACSwH,WAAYxH,EAAMwH,UAAWC,SAAU,KADhD,eAEEzH,EAFF,CAESwH,WAAYxH,EAAMwH,UAAWC,SAAUhB,EAAOE,UAChE,IPZwB,eOatB,OAAO3G,EAAMyH,SAASK,SAASrB,EAAOE,SAA/B,eACE3G,EADF,CACSyH,SAAUzH,EAAMyH,SAASM,QAAO,SAAAC,GAAE,OAAIA,IAAOvB,EAAOE,aAD7D,eAEE3G,EAFF,CAESyH,SAAS,GAAD,mBAAMzH,EAAMyH,UAAZ,CAAsBhB,EAAOE,YACvD,QACE,OAAO3G,MTdEiI,EAFDC,YAAY5B,EAAa,GAAI6B,YAAgBC,M,2EUrBrDC,EAAgBC,aAAaC,QAAQ,MACrCX,EAAWU,aAAaC,QAAQ,YAEvBC,MAAM3L,OAAO,CAC1B4L,QAAQ,WAAD,OAAaJ,EAAb,gBAAkCT,KCE9Bc,EAAc,yDAAM,WAAMC,GAAN,iBAAAxS,EAAA,sEACRkD,EAAIjH,IAAI,WADA,gBACvB6C,EADuB,EACvBA,KACR0T,EAASC,EAAa3T,IAFS,2CAAN,uDAKd2T,EAAe,SAAA3T,GAAI,OAAI,SAAA0T,GAGlCA,EAAS,CACPjC,KTbwB,eScxBC,QAJa9U,OAAOgX,KAAK5T,GAAM+Q,KAAI,SAAA1S,GAAG,sBAAU2B,EAAK3B,GAAf,CAAqBwT,GAAIxT,WAQtDwV,EAAW,SAAC1B,GAAD,IAAQ2B,IAAR,uGAAoC,WAAMJ,GAAN,SAAAxS,EAAA,sEACpDkD,EAAI2P,IAAJ,kBAAmB5B,EAAMN,GAAzB,UAAqCM,EAAMpH,OADS,OAM1D2I,EAASD,KAELK,GACFJ,EAASM,EAAe,OATgC,2CAApC,wDAaXC,EAAa,SAAA9B,GAAK,6BAAI,sBAAAjR,EAAA,sEAC3BkD,EAAI2P,IAAJ,kBAAmB5B,EAAMN,GAAzB,UAAqC,CAAEqC,MAAO,WADnB,uBAE3B9P,EAAI2P,IAAJ,kBAAmB5B,EAAMN,GAAzB,UAAqC,CAAEqC,MAAO,SAFnB,4CAKtBC,EAAc,SAAAhC,GAAK,8CAAI,WAAMuB,GAAN,SAAAxS,EAAA,sEAC5BkD,EAAI2P,IAAJ,kBAAmB5B,EAAMN,GAAzB,UAAqC,CAAEuC,IAAKjC,EAAMpH,MAAMqJ,KAD5B,OAElCV,EAASD,KAFyB,2CAAJ,uDAKnBY,EAAiB,SAAClC,EAAOP,GAAR,OAAkB,SAAA8B,GAC9CA,EAAS,CACPjC,KTzC4B,mBS0C5BC,QAAQ,eAAMS,EAAP,CAAcP,cCtCZ0C,EAAc,yDAAM,WAAMZ,GAAN,iBAAAxS,EAAA,sEACFkD,EAAIjH,IAAI,WADN,cACzBoX,EADyB,gBAEFnQ,EAAIjH,IAAI,WAFN,UAEzBqX,EAFyB,QAK7BhO,MAAMiO,QAAQF,EAAevU,QAC7BwG,MAAMiO,QAAQD,EAAexU,MANA,iDAe/B0T,EAASgB,EAAaF,EAAexU,KAAMuU,EAAevU,OAf3B,2CAAN,uDAkBd0U,EAAe,SAACC,EAAYC,GAAb,OAA4B,SAAAlB,GAEtD,IAAMnC,EAAS3U,OAAOgX,KAAKe,GAAY5D,KAAI,SAAA1S,GAAG,sBACzCsW,EAAWtW,GAD8B,CAE5CwT,GAAIxT,OAoBNqV,EAAS,CACPjC,KVrDwB,eUsDxBC,QAlBa9U,OAAOgX,KAAKgB,GAAY7D,KAAI,SAAA1S,GAAG,sBACzCuW,EAAWvW,GAD8B,CAE5CwT,GAAIxT,EACJmG,OAAQ+M,EACLuB,QAAO,SAAAX,GAAK,OAAIyC,EAAWvW,GAAKkT,OAAOsB,SAASV,EAAMN,OACtDd,KAAI,SAAAoB,GAAK,OAAIA,EAAMpH,gBAgBxB2I,EAAS,CACPjC,KVtDwB,eUuDxBC,QAASH,MAIAsD,EAAW,SAACjD,KAAD,uGAAoC,WAAM8B,GAAN,SAAAxS,EAAA,sEACpDkD,EAAI2P,IAAJ,kBAAmBnC,EAAMC,GAAzB,WAAsCD,EAAMJ,QADQ,OAE1DkC,EAASY,KAFiD,2CAApC,wDAUXQ,EAAa,SAAAlD,GAAK,6BAAI,sBAAA1Q,EAAA,sEAC3BkD,EAAI2P,IAAJ,kBAAmBnC,EAAMC,GAAzB,WAAsC,CAAEqC,MAAO,WADpB,uBAE3B9P,EAAI2P,IAAJ,kBAAmBnC,EAAMC,GAAzB,WAAsC,CAAEqC,MAAO,SAFpB,4CAKtBa,EAAc,SAAAnD,GAAK,8CAAI,WAAM8B,GAAN,SAAAxS,EAAA,sEAC5BkD,EAAI2P,IAAJ,kBAAmBnC,EAAMC,GAAzB,WAAsC,CAC1CuC,IAAKxC,EAAM7G,MAAMiK,SAFe,OAKlCtB,EAAS,CACPjC,KVnFqB,YUoFrBC,QAAQ,eACHE,EADE,CAEL7G,MAAM,eAAM6G,EAAM7G,MAAb,CAAoBiK,QAASpD,EAAM7G,MAAMiK,aAThB,2CAAJ,uDAcnBC,EAAiB,SAAArD,GAAK,OAAI,SAAA8B,GACrCA,EAAS,CACPjC,KV5F4B,mBU6F5BC,QAASE,MC5FAsD,EAAc,yDAAM,WAAMxB,GAAN,eAAAxS,EAAA,sEACRkD,EAAIjH,IAAI,WADA,OACzBgY,EADyB,OAG/BzB,EAAS0B,EAAaD,EAASnV,OAHA,2CAAN,uDASdoV,EAAe,SAAApV,GAAI,OAAI,SAAA0T,GAGlCA,EAAS,CACPjC,KXRwB,eWSxBC,QAJa9U,OAAOgX,KAAK5T,GAAM+Q,KAAI,SAAA1S,GAAG,sBAAU2B,EAAK3B,GAAf,CAAqBwT,GAAIxT,WAQtDgX,EAAc,SAAAjD,GAAK,8CAAI,WAAMsB,GAAN,eAAAxS,EAAA,sEACXkD,EAAIkR,KAAK,UAAWlD,GADT,YAC5B+C,EAD4B,QAErBnV,KAAK,GAAGyS,MAFa,yCAGzB,CAAEA,MAAO0C,EAASnV,KAAK,GAAGyS,MAAM8C,cAHP,cAKhC7B,EAASwB,KACTxB,EAASM,EAAe,CAAEnC,GAAIsD,EAASnV,KAAK,GAAGwV,QAAQ3D,MANvB,kBAOzB,CAAE2D,QAASL,EAASnV,KAAK,GAAGwV,UAPH,4CAAJ,uDA6BnBxB,EAAiB,SAAA5B,GAAK,OAAI,SAAAsB,GACrCA,EAAS,CACPjC,KX3C4B,mBW4C5BC,QAASU,MC7CAqD,EAAkB,SAAAzV,GAAI,OAAI,SAAA0T,GAGrCA,EAAS,CACPjC,KZD2B,kBYE3BC,QAJgB9U,OAAOgX,KAAK5T,GAAM+Q,KAAI,SAAA1S,GAAG,sBAAU2B,EAAK3B,GAAf,CAAqBwT,GAAIxT,WCDzDqX,EAAc,SAAA1V,GAAI,OAAI,SAAA0T,GAGjCA,EAAS,CACPjC,KbCuB,caAvBC,QAJY9U,OAAOgX,KAAK5T,GAAM+Q,KAAI,SAAA1S,GAAG,sBAAU2B,EAAK3B,GAAf,CAAqBwT,GAAIxT,WCNrDsX,EAAe,yDAAM,WAAMjC,GAAN,iBAAAxS,EAAA,sEACTkD,EAAIjH,IAAI,YADC,gBACxB6C,EADwB,EACxBA,KACR0T,EAASkC,EAAc5V,IAFS,2CAAN,uDAKf4V,EAAgB,SAAA5V,GAAI,OAAI,SAAA0T,GAGnCA,EAAS,CACPjC,KdGyB,gBcFzBC,QAJc9U,OAAOgX,KAAK5T,GAAM+Q,KAAI,SAAA1S,GAAG,sBAAU2B,EAAK3B,GAAf,CAAqBwT,GAAIxT,WCUvDwX,EAAgB,yDAAM,WAAMnC,GAAN,yBAAAxS,EAAA,yDAC3BwR,EAAKW,aAAaC,QAAQ,MAC1BX,EAAWU,aAAaC,QAAQ,YAChChB,EAAQe,aAAaC,QAAQ,SAC7BV,EAAOS,aAAaC,QAAQ,QAE5BjB,EAAW,CAAEK,KAAIC,WAAUL,QAAOM,SAMpCF,IAAMC,EAZuB,iCAaRY,IAAMpW,IAAN,kBAAqBuV,EAArB,gBAA+BC,IAbvB,QAazBwC,EAbyB,QAelBnV,KAAK8V,SAChBzD,EAASyD,OAASX,EAASnV,KAAK8V,OAEhCpC,EAASC,EAAawB,EAASnV,KAAKuR,SACpCmC,EAASgB,EAAaS,EAASnV,KAAKuR,OAAQ4D,EAASnV,KAAK2R,SAC1D+B,EAAS0B,EAAaD,EAASnV,KAAK8R,SACpC4B,EAASgC,EAAYP,EAASnV,KAAKgS,QACnC0B,EAAS+B,EAAgBN,EAASnV,KAAK+R,YACvC2B,EAASkC,EAAcT,EAASnV,KAAKiS,WAGvCyB,EAAS,CACPjC,Kf7BwB,iBe8BxBC,QAASW,IA5BoB,4CAAN,uDA6DhB0D,EAAW,SAAAzD,GAAK,OAAI,SAAAoB,GAC/BL,aAAa2C,QAAQ,QAAS1D,GAC9BoB,EAAS,CACPjC,Kf/DqB,YegErBC,QAASY,MCtEE2D,EAXG,SAAC,GAA2B,IAAzBxR,EAAwB,EAAxBA,QAAS+I,EAAe,EAAfA,SAC5B,OACE,kBAAC0I,EAAA,EAAKC,OAAN,CACEzT,MAAO,EACPnD,MAAO,CAAE6W,UAAW,OAAQrS,OAAQ,QACpCU,QAASA,EACT+I,SAAUA,K,QCyCD6I,eAXS,SAAAtL,GACtB,MAAO,CACLuL,MAAOvL,EAAMuL,MACb/E,OAAQxG,EAAMwG,OACdQ,UAAWhH,EAAMgH,UACjBC,MAAOjH,EAAMiH,MACbC,QAASlH,EAAMkH,QACfK,MAAOvH,EAAMsH,SAASC,SAIc,GAAzB+D,EA7CQ,SAAC,GAAmE,IAAjE9E,EAAgE,EAAhEA,OAAeQ,GAAiD,EAAxDuE,MAAwD,EAAjDvE,WAAWC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,QAASsE,EAAsB,EAAtBA,SAAUjE,EAAY,EAAZA,MACtEkE,EAAW,SAAAC,GACf,OAAOA,IAASF,EAASG,SAAW,SAAW,IAGjD,OACE,kBAACC,EAAA,EAAD,CACEC,OAAK,EACLpO,UAAQ,EACRqO,SAAoB,aAAVvE,GAEV,kBAAC,IAAD,CAAMpP,UAAS,eAAUsT,EAAS,MAAQM,GAAG,KAA7C,OAEE,kBAACC,EAAA,EAAD,CAAOxW,MAAM,QAAQgR,EAAOhQ,SAE9B,kBAAC,IAAD,CAAM2B,UAAS,eAAUsT,EAAS,cAAgBM,GAAG,aAArD,WAEE,kBAACC,EAAA,EAAD,CAAOxW,MAAM,QAAQwR,EAAUxQ,SAEjC,kBAAC,IAAD,CAAM2B,UAAS,eAAUsT,EAAS,aAAeM,GAAG,YAApD,UAEE,kBAACC,EAAA,EAAD,CAAOxW,MAAM,QAAQ0R,EAAQ1Q,SAE/B,kBAAC,IAAD,CAAM2B,UAAS,wBAAmBsT,EAAS,WAAaM,GAAG,UAA3D,QAEE,kBAACC,EAAA,EAAD,CAAOxW,MAAM,QAAQyR,EAAMzQ,SAE7B,kBAAC,IAAD,CAAM2B,UAAS,eAAUsT,EAAS,cAAgBM,GAAG,aAArD,gB,mBCwBST,gBAJS,SAAAtL,GACtB,MAAO,CAAE+K,OAAQ/K,EAAMsH,SAASyD,OAAQxD,MAAOvH,EAAMsH,SAASC,SAGxB,GAAzB+D,EApDF,SAAC,GAAuB,IAArBP,EAAoB,EAApBA,OAAQxD,EAAY,EAAZA,MAChB0E,EAAYlB,EACd,CACE,CAAEmB,KAAM,OAAQla,MAAO+Y,EAAOmB,MAC9B,CAAEA,KAAM,YAAala,MAAO+Y,EAAOoB,UACnC,CAAED,KAAM,WAAYla,MAAO+Y,EAAOqB,SAClC,CAAEF,KAAM,OAAQla,MAAO+Y,EAAOsB,KAAKC,YACnC,CAAEJ,KAAM,MAAOla,MAAO+Y,EAAOwB,KAC7B,CAAEL,KAAM,KAAMla,MAAO+Y,EAAOyB,WAC5B,CAAEN,KAAM,UAAWla,MAAO+Y,EAAO0B,SACjC,CAAEP,KAAM,UAAWla,MAAO+Y,EAAO2B,SACjC,CAAER,KAAM,gBAAiBla,MAAO+Y,EAAO4B,cACvC,CAAET,KAAM,aAAcla,MAAO+Y,EAAO6B,WACpC,CAAEV,KAAM,iBAAkBla,MAAO+Y,EAAO8B,eACxC,CAAEX,KAAM,mBAAoBla,MAAO+Y,EAAO+B,WAC1C,CAAEZ,KAAM,kBAAmBla,MAAO+Y,EAAOgC,eAAeT,YACxD,CAAEJ,KAAM,oBAAqBla,MAAO+Y,EAAOiC,mBAE7C,GAOJ,OAAIjC,GAAUA,EAAOmB,KAEjB,kBAACe,EAAA,EAAD,CAASnB,SAAoB,aAAVvE,GACjB,kBAACyE,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAAiB,aAAV+R,EAAuB,QAAU,KACxC7E,QAAQ,gBAEV,kBAACyK,GAAA,EAAD,CACErZ,KAAK,QACLsZ,MAAM,OACNC,SAAO,EACPC,OAAK,EACLC,YAAU,EACVzB,SAAoB,aAAVvE,EACViG,cApBc,SAAC,EAAiBpW,GAAlB,MAAyB,CAC7C9D,IAAK8D,EACLqW,MAAO,CAFa,EAAGvB,KAAH,EAASla,SAqBvBia,UAAWA,KAIL,Q,gFC7CHyB,GAAoB,SAAA1N,GAE/B,GAAIA,EAAM5G,IAAK,CACb,IAAMlD,EAAI4I,KAAKC,MAAMiB,EAAM5G,IAAM,YAC3BnD,EAAI6I,KAAKC,MAAMiB,EAAM2N,IAAM,MAC3B5W,EAAI+H,KAAKC,MAAMiB,EAAM4N,IAAM,MAGjC,OADcC,KAAU,CAAE3X,IAAGD,IAAGc,MACnB+W,cAIf,GAAI9N,EAAM+N,GAAI,CACZ,IAAMjY,EAAMkY,gCAAqB,IAAIhO,EAAM+N,IAG3C,OAFcF,KAAU,CAAClX,EAAGb,EAAIpB,IAAKkC,EAAGd,EAAImY,MAAOpX,EAAGf,EAAIoY,OAE7CC,QAAQ,IAAIL,cAG3B,MAAO,WAIIM,GAAkB,SAAA5Y,GAK7B,MAAO,CAAE4D,IAJG0F,KAAKC,MAAoB,WAAdvJ,EAAMI,IAAIM,GAInByX,IAHF7O,KAAKC,MAAoB,IAAdvJ,EAAMI,IAAIK,GAGd2X,IAFP9O,KAAKC,MAAoB,IAAdvJ,EAAMI,IAAImB,GAAW,IAajCsX,GAAiB,SAAA7Y,GAC5B,OAAKA,GAGE8Y,gBAAaC,OAAO/Y,GAAS,QAF3B,S,UCwCIgZ,I,OAhFE,SAAC,GAQX,IAPLpH,EAOI,EAPJA,MACAP,EAMI,EANJA,MACAM,EAKI,EALJA,OACA2B,EAII,EAJJA,SACAQ,EAGI,EAHJA,eACAJ,EAEI,EAFJA,WACAE,EACI,EADJA,YAEM5T,EAAQkY,GAAkBtG,EAAMpH,OAChCyO,EAAYJ,GAAe7Y,GAE3BsN,EAAW4L,iBAAO,MAsBxB,OACE,kBAACvB,GAAA,EAAMwB,IAAP,CACEna,MAAO2S,EAAS,CAAEyH,gBAAiB,aAAgB,KAEnDlV,QAbgB,SAAA+J,GAClBA,EAAMoL,QAAU3F,EAAW9B,GAASkC,EAAelC,EAAOP,GAC1DpD,EAAMqL,oBAaJ,kBAAC3B,GAAA,EAAM4B,KAAP,KAC8B,KAC5B,kBAAC/C,EAAA,EAAD,CACExX,MAAO,CACLgB,MAAOiZ,EACPvV,WAAY,GACZ0V,gBAAgB,GAAD,OAAKlB,GAAkBtG,EAAMpH,SAE9C0C,QAAS0E,EAAM8E,QAGnB,kBAACiB,GAAA,EAAM4B,KAAP,KACE,kBAACC,GAAA,EAAD,KACE,kBAACA,GAAA,EAAKC,MAAN,CAAYC,UAAW9H,EAAMpH,MAAMmP,WACjC,yBAAKhX,UAAU,kBACb,2BACEA,UAAU,uBACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,IACLrd,MAAOoV,EAAMpH,MAAM4N,IACnBhW,SAAU,SAAA6L,GAAK,OAhDFmK,EAgDyBtN,OAAOmD,EAAMtM,OAAOnF,YA/C7C,OAArB8Q,EAASwM,UAIbxM,EAASwM,QAAU1B,EACnB9E,EAAS,eAAK1B,EAAN,CAAapH,MAAO,CAAE4N,UAC9B2B,YAAW,WACTzM,EAASwM,QAAU,OAClB,OATsB,IAAA1B,SAsDvB,kBAACT,GAAA,EAAM4B,KAAP,KACE,kBAACS,GAAA,EAAD,CACErX,UAAU,iBACVsX,QAAM,EACNva,QAASkS,EAAMpH,MAAMqJ,IAAMjC,EAAMpH,MAAMmP,UACvCvX,SAAU,kBAAMwR,EAAYhC,IAC5B8H,UAAW9H,EAAMpH,MAAMmP,gBCkFlB7D,gBAPS,SAAAtL,GACtB,MAAO,CACLmH,OAAQnH,EAAMmH,OACdI,MAAOvH,EAAMsH,SAASC,SAIc,CACtC2B,aACAE,cACAN,WACAQ,iBACAS,aACAC,cACAF,WACAI,iBACAwF,ONzEoB,SAAA5I,GAAE,OAAI,SAAC6B,EAAUgH,GAAc,IAAD,EACpBA,IAAWrI,SAAnCG,EAD4C,EAC5CA,SAAUD,EADkC,EAClCA,UACZoI,EAAWD,IAAW/I,OAAOZ,KAAI,SAAAa,GAAK,OAAIA,EAAMC,MAEpDW,EAAWA,EAASK,SAAShB,GACzBW,EAASM,QAAO,SAAAC,GAAE,OAAIA,IAAOlB,KADtB,sBAEHW,GAFG,CAEOX,IAElB6B,EAAS,CACPjC,KfnFwB,eeoFxBC,QAASG,KAGPW,EAASjR,SAAWoZ,EAASpZ,QAA+B,IAApBiR,EAASjR,QAAgBgR,IACnEmB,EAAS,CAAEjC,KfvFgB,kBeuFOC,QAASiJ,OMkDhCtE,EA9IK,SAAC,GAed,IAdLzE,EAcI,EAdJA,MACAL,EAaI,EAbJA,OACAW,EAYI,EAZJA,OACAM,EAWI,EAXJA,SACAqC,EAUI,EAVJA,SACAC,EASI,EATJA,WACAC,EAQI,EARJA,YACAE,EAOI,EAPJA,eACApB,EAMI,EANJA,SACAI,EAKI,EALJA,WACAE,EAII,EAJJA,YACAE,EAGI,EAHJA,eACAoG,EAEI,EAFJA,OACAnI,EACI,EADJA,MAEM9N,EAAM,YACP,IAAIoW,IACLhJ,EAAMpN,OACHsO,QAAO,SAAAX,GAAK,OAAIA,EAAMhO,OACtB4M,KAAI,SAAAoB,GAAK,OAAIsG,GAAkBtG,MAC/B0I,SAIe,IAAlBrW,EAAOjD,QACTiD,EAAOsW,KAAP,MAAAtW,EAAM,YACD,IAAIoW,IAAIhJ,EAAMpN,OAAOuM,KAAI,SAAAoB,GAAK,OAAIsG,GAAkBtG,MAAQ0I,UAInE,IAAMrB,EAAYJ,GAAe5U,EAAO,IAAM,WAIxCqJ,EAAW4L,iBAAO,MAwCxB,OACE,kBAACvB,GAAA,EAAD,CAAOrZ,KAAK,QAAQkc,YAAU,EAACzC,YAAU,EAACzB,SAAoB,aAAVvE,GAClD,kBAAC4F,GAAA,EAAM8C,OAAP,CAAcvW,QA7BE,SAAA+J,GAClBA,EAAMoL,QAAU9E,EAAWlD,GAASqD,EAAerD,GACnDpD,EAAMqL,oBA4BF,kBAAC3B,GAAA,EAAMwB,IAAP,CACEna,MACE2S,EAAON,OAASM,EAAON,MAAMC,KAAOD,EAAMC,GACtC,CAAE8H,gBAAiB,aACnB,MAGN,kBAACzB,GAAA,EAAM+C,WAAP,KACE,kBAACC,GAAA,EAAD,CACEjE,KAAI,gBAAWzE,EAAW,OAAS,SACnCjT,MAAO,CAAEuN,OAAQ,WACjBrI,QApCS,SAAA+J,GACnBiM,EAAO7I,EAAMC,IACbrD,EAAMqL,qBAoCE,kBAAC9C,EAAA,EAAD,CACEH,MAAM,OACNrX,MAAO,CACLgB,MAAOiZ,EACP9W,MAAO,MACPoK,OAAQ,UACRqO,gBAAgB,6BAAD,OACb3W,EAAOjD,OAAS,EAAIiD,EAAS,CAACA,EAAO,GAAIA,EAAO,IADnC,MAIjBiJ,QAASmE,EAAMqF,QAInB,kBAACiB,GAAA,EAAM+C,WAAP,CAAkB1b,MAAO,CAAEmD,MAAO,QAChC,yBAAKQ,UAAU,kBACb,2BACEA,UAAU,uBACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,IACLrd,MAAO6U,EAAMJ,OAAOmH,IACpBhW,SAAU,SAAA6L,GAAK,OA7EFmK,EA8EQtN,OAAOmD,EAAMtM,OAAOnF,YA7E5B,OAArB8Q,EAASwM,UAIbxM,EAASwM,QAAU1B,EACnB9D,EAAS,eAAKjD,EAAN,CAAaJ,OAAQ,CAAEmH,UAC/B2B,YAAW,WACTzM,EAASwM,QAAU,OAClB,OATsB,IAAA1B,OAmFnB,kBAACT,GAAA,EAAM+C,WAAP,CAAkBG,YAAU,GAC1B,kBAACb,GAAA,EAAD,CACErX,UAAU,iBACVsX,QAAM,EACNhO,MAAO,GACPvM,QAAS2R,EAAM7G,MAAMiK,OACrBrS,SAAU,kBAAMoS,EAAYnD,SAKpC,kBAACsG,GAAA,EAAMmD,KAAP,KAAa7I,EAvERjB,EAAOR,KAAI,SAAAoB,GAChB,OACE,kBAAC,GAAD,CACEA,MAAOA,EACPP,MAAOA,EACPM,OAAQA,EAAOC,OAASD,EAAOC,MAAMN,KAAOM,EAAMN,GAClDgC,SAAUA,EACVQ,eAAgBA,EAChBJ,WAAYA,EACZE,YAAaA,EACb9V,IAAK8T,EAAMN,QA6DwB,U,UCjE9ByJ,GA/EG,SAAC,GAQZ,IAPLnJ,EAOI,EAPJA,MACAP,EAMI,EANJA,MACA4I,EAKI,EALJA,OACAtG,EAII,EAJJA,MACAhC,EAGI,EAHJA,OACAqJ,EAEI,EAFJA,SACAC,EACI,EADJA,MAEMjb,EAAQkY,GAAkBtG,EAAMpH,OAChCyO,EAAYJ,GAAe7Y,GAG3BsN,EAAW4L,iBAAO,MAyBxB,OACE,kBAACgC,GAAA,EAAD,CAAMlc,MAAO,CAAEoa,gBAAiBpZ,GAASkE,QAbtB,SAAA+J,GACnB+M,EAASpJ,EAAOP,GAChBpD,EAAMqL,oBAYJ,kBAAC4B,GAAA,EAAKC,QAAN,KACE,yBACEnc,MAAO,CAAEgB,MAAOiZ,EAAWmC,QAAS,GAAKC,WAAY,QACrDnX,QAZY,SAAA+J,GACdA,EAAMoL,UACR1F,EAAM/B,GACN3D,EAAMqL,qBAWD1H,EAAM8E,KACP,kBAACiE,GAAA,EAAD,CACEhY,UAAU,gBACV+T,KAAM/E,EAAS,QAAU,KACzB3S,MAAO,CAAEgB,MAAOiZ,EAAWmC,QAAS,QAI1C,kBAACF,GAAA,EAAKC,QAAN,CAAcnc,MAAO,CAAEoa,gBAAiB,cACtC,yBAAKzW,UAAU,kBACb,2BACEA,UAAU,QACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,IACLrd,MAAOoV,EAAMpH,MAAM4N,IACnBhW,SAAU,SAAA6L,GAAK,OA/CEmK,EA+CqBtN,OAAOmD,EAAMtM,OAAOnF,YA9CzC,OAArB8Q,EAASwM,UAIbxM,EAASwM,QAAU1B,EACnB6C,EAAM,eAAKrJ,EAAN,CAAapH,MAAO,CAAE4N,UAC3B2B,YAAW,WACTzM,EAASwM,QAAU,OAClB,OATsB,IAAA1B,OAmDvB,kBAAC8C,GAAA,EAAKC,QAAN,CAAcnc,MAAO,CAAEoa,gBAAiB,cACtC,kBAACY,GAAA,EAAD,CACErX,UAAU,gBACV2Y,QAAM,EACNrB,QAAM,EACNva,QAASkS,EAAMpH,MAAMqJ,GACrBzR,SAAU,kBAAM6X,EAAOrI,IACvB8H,UAAW9H,EAAMpH,MAAMmP,eCqBlB4B,GA7FE,SAAC,GAAuD,IAArDlK,EAAoD,EAApDA,MAAO4I,EAA6C,EAA7CA,OAAQtG,EAAqC,EAArCA,MAAOhC,EAA8B,EAA9BA,OAAQqJ,EAAsB,EAAtBA,SAAUC,EAAY,EAAZA,MACpDhX,EAAM,YACP,IAAIoW,IACLhJ,EAAMpN,OACHsO,QAAO,SAAAX,GAAK,OAAIA,EAAMhO,OACtB4M,KAAI,SAAAoB,GAAK,OAAIsG,GAAkBtG,MAC/B0I,SAIe,IAAlBrW,EAAOjD,QACTiD,EAAOsW,KAAP,MAAAtW,EAAM,YACD,IAAIoW,IAAIhJ,EAAMpN,OAAOuM,KAAI,SAAAoB,GAAK,OAAIsG,GAAkBtG,MAAQ0I,UAInE,IAAMrB,EAAYJ,GAAe5U,EAAO,IAAM,WAIxCqJ,EAAW4L,iBAAO,MAyBxB,OACE,kBAACgC,GAAA,EAAD,CACElc,MAAO,CACL4b,gBAAgB,6BAAD,OACb3W,EAAOjD,OAAS,EAAIiD,EAAS,CAACA,EAAO,GAAIA,EAAO,IADnC,KAGf9B,MAAO,QAET+B,QApBiB,SAAA+J,GACnB+M,EAAS3J,GACTpD,EAAMqL,oBAoBJ,kBAAC4B,GAAA,EAAKC,QAAN,KACE,yBACEnc,MAAO,CAAEgB,MAAOiZ,EAAWmC,QAAS,GAAKC,WAAY,QACrDnX,QApBY,SAAA+J,GACdA,EAAMoL,UACR1F,EAAMtC,GACNpD,EAAMqL,qBAmBDjI,EAAMqF,KACP,kBAACiE,GAAA,EAAD,CACEhY,UAAU,gBACV+T,KAAM/E,EAAS,QAAU,KACzB3S,MAAO,CAAEgB,MAAOiZ,EAAWmC,QAAS,QAI1C,kBAACF,GAAA,EAAKC,QAAN,CAAcK,OAAK,EAACxc,MAAO,CAAEoa,gBAAiB,cAC5C,yBAAKzW,UAAU,kBACb,2BACEA,UAAU,QACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,IACLrd,MAAO6U,EAAMJ,OAAOmH,IACpBhW,SAAU,SAAA6L,GAAK,OAvDEmK,EAuDqBtN,OAAOmD,EAAMtM,OAAOnF,YAtDzC,OAArB8Q,EAASwM,UAIbxM,EAASwM,QAAU1B,EACnB6C,EAAM,eAAK5J,EAAN,CAAaJ,OAAQ,CAAEmH,UAC5B2B,YAAW,WACTzM,EAASwM,QAAU,OAClB,OATsB,IAAA1B,OA2DvB,kBAAC8C,GAAA,EAAKC,QAAN,CAAcK,OAAK,EAACxc,MAAO,CAAEoa,gBAAiB,cAC5C,kBAACY,GAAA,EAAD,CACErX,UAAU,gBACV2Y,QAAM,EACNrB,QAAM,EACNva,QAAS2R,EAAM7G,MAAMiK,OACrBrS,SAAU,kBAAM6X,EAAO5I,SCMlByE,gBAPS,SAAAtL,GACtB,MAAO,CACLmH,OAAQnH,EAAMmH,OACdI,MAAOvH,EAAMsH,SAASC,SAIc,CACtCmB,cACAQ,aACAE,cACAN,WACAQ,iBACAQ,WACAC,aACAC,cACAE,kBATaoB,EA9EI,SAAC,GAcb,IAbL9E,EAaI,EAbJA,OACAI,EAYI,EAZJA,OACAO,EAWI,EAXJA,OACAuB,EAUI,EAVJA,YACAQ,EASI,EATJA,WACAE,EAQI,EARJA,YACAN,EAOI,EAPJA,SACAQ,EAMI,EANJA,eACAQ,EAKI,EALJA,SACAC,EAII,EAJJA,WACAC,EAGI,EAHJA,YACAE,EAEI,EAFJA,eACA3C,EACI,EADJA,MAEA0J,qBAAU,WACRvI,MACC,CAACA,IAEJ,IAgCMwI,EAAc,SAAC1K,EAAQK,GAC3B,OAAOL,EAAOR,KAAI,SAAAoB,GAChB,OACE,kBAAC,GAAD,CACE9T,IAAK8T,EAAMN,GACXM,MAAOA,EACPP,MAAOA,EACP4I,OAAQrG,EACRD,MAAOD,EACP/B,SAAQA,EAAOC,OAAQA,EAAMN,KAAOK,EAAOC,MAAMN,GACjD0J,SAAUlH,EACVmH,MAAO3H,QAMf,OAAO,kBAACmE,EAAA,EAAQkE,MAAT,KAAgB3K,EA3CdI,EAAOZ,KAAI,SAAAa,GAChB,OACE,yBACE1O,UAAS,aAAQoP,EAAR,YACTjU,IAAKuT,EAAMC,GACXpN,QAAS,SAAA+J,GAAK,OAXD,SAACA,EAAOoD,GAC3BqD,EAAerD,GACfpD,EAAMqL,kBASkBsC,CAAa3N,EAAOoD,KAEtC,kBAAC,GAAD,CACEA,MAAOA,EACPsC,MAAOY,EACP0F,OAAQzF,EACR7C,SAAQA,EAAON,OAAQA,EAAMC,KAAOK,EAAON,MAAMC,GACjD0J,SAAUtG,EACVuG,MAAO3G,IAET,kBAAC4G,GAAA,EAAKS,MAAN,CAAYE,UAAQ,EAACC,WAAS,EAACC,YAAa,GACzCL,EACC1K,EAAOuB,QAAO,SAAAX,GAAK,OAAIP,EAAML,OAAOsB,SAASV,EAAMN,OACnDD,QAyBqC,S,4DC0HpCyE,gBAJS,SAAAtL,GACtB,MAAO,CAAEwG,OAAQxG,EAAMwG,UAGe,CAAE8D,eAA3BgB,EA3MU,SAAC,GAAoD,IAAlDkG,EAAiD,EAAjDA,QAAShL,EAAwC,EAAxCA,OAAQK,EAAgC,EAAhCA,MAAOU,EAAyB,EAAzBA,MAAO+C,EAAkB,EAAlBA,YAAkB,EACnDmH,oBAAS,GAD0C,mBACpEC,EADoE,KAC9DC,EAD8D,OAEjDF,mBAAS,MAFwC,mBAEpE/J,EAFoE,KAE7DkK,EAF6D,OAGnDH,mBAAS,IAH0C,mBAGpEvF,EAHoE,KAG9D2F,EAH8D,OAInDJ,mBAAS,MAJ0C,mBAIpE/K,EAJoE,KAI9DoL,EAJ8D,OAK7CL,oBAAS,GALoC,mBAKpEM,EALoE,KAK3DC,EAL2D,OAM3CP,mBAAS,IANkC,mBAMpEQ,EANoE,KAM1DC,EAN0D,OAOvCT,oBAAS,GAP8B,mBAOpEU,EAPoE,KAOxDC,EAPwD,OAQ/CX,mBAAS,GARsC,mBAQpEY,EARoE,KAQ5DC,EAR4D,OAS7Cb,mBAAS,GAToC,mBASpEc,EAToE,KAS3DC,EAT2D,OAU7Cf,mBAAS,GAVoC,mBAUpEgB,EAVoE,KAU3DC,EAV2D,KAYrEC,EAAiB,uCAAG,8BAAAxc,EAAA,6DAClByc,EAAW,CAAE1G,OAAM6F,UAASrL,QAErB,eAATA,IAAuBkM,EAAQ,MAAY/L,EAAMC,IACxC,eAATJ,IAAuBkM,EAAQ,OAAaX,GAE5CE,IACFS,EAAQ,eAAqBP,EAAmB,GAAVE,EAAyB,IAAVE,GAP/B,SASDnI,EAAYsI,GATX,QASlBxI,EATkB,QAUXK,QACXoI,IAEAjB,EAASxH,EAAS1C,OAbI,2CAAH,qDAiBjBmL,EAAU,WACdhB,EAAQ,IACRC,EAAQ,MACRE,GAAW,GACXE,EAAY,IACZE,GAAc,GACdE,EAAU,GACVE,EAAW,GACXE,EAAW,GACXd,EAAS,MACTD,GAAQ,IAGV,OACE,kBAACmB,GAAA,EAAD,CACEhf,KAAK,QACLif,GAAI/D,KACJgE,OAAkB,aAAVzL,GAA8B,WACtCiK,QACE,kBAACA,EAAQ9K,KAAT,iBAAkB8K,EAAQpX,MAA1B,CAAiCV,QAAS,kBAAMiY,GAAQ,OAE1DD,KAAMA,EACNuB,OAAM,2BAAsBpM,EAAMqF,MAClCxJ,QACE,kBAACoQ,GAAA,EAAMnC,QAAP,KACE,kBAACmC,GAAA,EAAMI,YAAP,KACE,mCADF,8DAEU,IACR,2BACE,8CACG,IALP,+DAM+D,IAC7D,2BACE,6CACG,IATP,6DAYA,kBAACC,GAAA,EAAD,MACA,kBAACnE,GAAA,EAAKmC,MAAN,KACE,kBAACnC,GAAA,EAAKoE,MAAN,CACElH,KAAK,QACLzK,MAAM,aACNS,YAAY,aACZvK,MAAM,IACN0b,UAAQ,EACRrhB,MAAOka,EACPtU,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkB6f,EAAQ7f,MAEtC,kBAACgd,GAAA,EAAKsE,OAAN,CACEpH,KAAK,OACLzK,MAAM,OACNS,YAAY,cACZvK,MAAM,IACN0b,UAAQ,EACRE,QAAS,CACP,CACEjgB,IAAK,IACLkgB,KAAM,aACNxhB,MAAO,cAGT,CACEsB,IAAK,IACLkgB,KAAM,aACNxhB,MAAO,eAIXA,MAAO0U,EACP9O,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkB8f,EAAQ9f,MAEtC,kBAACgd,GAAA,EAAKQ,SAAN,CACEtD,KAAK,UACLzK,MAAM,UACN9J,MAAM,IACNzC,QAAS6c,EACTna,SAAU,SAACoE,EAAD,OAAM9G,EAAN,EAAMA,QAAN,OAAoB8c,EAAW9c,OAG7C,kBAAC8Z,GAAA,EAAKyE,SAAN,CACEvH,KAAK,SACLzK,MAAM,SACNS,YAAY,gBACZwR,QAAM,EACNC,UAAQ,EACRC,WAAS,EACTP,SAAmB,eAAT3M,EACVwI,SAAmB,eAATxI,EACV6M,QAAS/M,EAAOR,KAAI,SAAAoB,GAClB,MAAO,CAAEoM,KAAMpM,EAAM8E,KAAMla,MAAOoV,EAAMN,OAE1ClP,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkBkgB,EAAYlgB,MAG1C,kBAACgd,GAAA,EAAKC,MAAN,CAAY4E,QAAM,EAACpS,MAAM,kBAAkB9J,MAAM,OACjD,kBAACqX,GAAA,EAAKQ,SAAN,CACEtD,KAAK,aACLzK,MAAM,aACN9J,MAAM,IACNzC,QAASid,EACTva,SAAU,SAACoE,EAAD,OAAM9G,EAAN,EAAMA,QAAN,OAAoBkd,EAAcld,MAE9C,kBAAC8Z,GAAA,EAAKmC,MAAN,CAAY2C,OAAO,SACjB,kBAAC9E,GAAA,EAAKC,MAAN,CAAY4E,QAAM,EAAC3E,UAAWiD,GAC5B,gDADF,IACyC,IAATE,EAC9B,yBAAKla,UAAU,kBACb,2BACEA,UAAU,uBACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,GACLrd,MAAOqgB,EACPza,SAAU,SAAA6L,GAAK,OAAI6O,EAAUhS,OAAOmD,EAAMtM,OAAOnF,aAIvD,kBAACgd,GAAA,EAAKC,MAAN,CAAY4E,QAAM,EAAC3E,UAAWiD,GAC5B,2CADF,IAC2BI,EACzB,yBAAKpa,UAAU,kBACb,2BACEA,UAAU,uBACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,GACLrd,MAAOugB,EACP3a,SAAU,SAAA6L,GAAK,OAAI+O,EAAWlS,OAAOmD,EAAMtM,OAAOnF,aAIxD,kBAACgd,GAAA,EAAKC,MAAN,CAAY4E,QAAM,EAAC3E,UAAWiD,GAC5B,2CADF,IAC2BM,EACzB,yBAAKta,UAAU,kBACb,2BACEA,UAAU,uBACVuO,KAAK,QACL0I,IAAK,EACLC,IAAK,GACLrd,MAAOygB,EACP7a,SAAU,SAAA6L,GAAK,OAAIiP,EAAWpS,OAAOmD,EAAMtM,OAAOnF,cAK1D,kBAAC+hB,GAAA,EAAD,CACEjgB,KAAK,OACLkgB,UAAQ,EACRC,OAAiB,MAATvM,EACRhF,QAASgF,KAIfwM,QAAS,CACP,CACE5gB,IAAK,SACLoP,QAAS,SACThJ,QAASmZ,GAEX,CACEvf,IAAK,OACLoP,QAAS,SACTyR,UAAU,EACVjF,UACGhD,IAASxF,GAAkB,eAATA,GAA6C,IAApBuL,EAASzb,OACvDkD,QAASiZ,SC3KJyB,GAvBS,SAAC,GAA+D,IAA7DnB,EAA4D,EAA5DA,OAAQzB,EAAoD,EAApDA,QAAS6C,EAA2C,EAA3CA,SAAUC,EAAiC,EAAjCA,UAAW/M,EAAsB,EAAtBA,MAAOgN,EAAe,EAAfA,SACtE,OACE,kBAACzB,GAAA,EAAD,CACEhf,KAAK,QACLkf,OAAkB,aAAVzL,GAA8B,WACtCiK,QAASA,EACTyB,OAAQA,EACRvQ,QAAO,0CAAqC2R,GAArC,OACLC,EAAY,SAAWA,EAAY,GAD9B,mCAGPJ,QAAS,CACP,SACA,CACE5gB,IAAK,OACLoP,QAAS,SACTsR,UAAU,EACVta,QAAS6a,OC+KJjJ,gBATS,SAAAtL,GACtB,MAAO,CACL+G,OAAQ/G,EAAM+G,OACdP,OAAQxG,EAAMwG,OACdW,OAAQnH,EAAMmH,OACdI,MAAOvH,EAAMsH,SAASC,SAIc,CACtC4C,cACAZ,cACAO,WACAQ,cACAkK,YhBvKyB,SAAA1N,GAAE,8CAAI,WAAM6B,GAAN,SAAAxS,EAAA,sEACzBkD,EAAIob,OAAJ,kBAAsB3N,IADG,OAE/B6B,EAASwB,KACTxB,EAASM,EAAe,OAHO,2CAAJ,uDgBwK3ByL,YhBlKyB,SAAArN,GAAK,8CAAI,WAAMsB,GAAN,eAAAxS,EAAA,sEACXkD,EAAI2P,IAAJ,kBAAmB3B,EAAMP,IAAM,CAAE6N,YAAatN,EAAMsN,cADzC,YAC5BvK,EAD4B,QAGrBnV,KAAK,GAAGyS,MAHa,yCAIzB,CAAEA,MAAO0C,EAASnV,KAAK,GAAGyS,MAAM8C,cAJP,cAMhC7B,EAASwB,KANuB,kBAQzB,CAAEM,SAAS,IARc,2CAAJ,uDgBmK9BxB,kBAPaqC,EAnLI,SAAC,GASb,IAAD,EARJvE,EAQI,EARJA,OACAP,EAOI,EAPJA,OACAW,EAMI,EANJA,OACA2C,EAKI,EALJA,SACAvC,EAII,EAJJA,MACAiN,EAGI,EAHJA,YACAE,EAEI,EAFJA,YACAzL,EACI,EADJA,eACI,EACoCwI,oBAAS,GAD7C,mBACGmD,EADH,KACiBC,EADjB,KAGEC,EAAkB/N,EAAOgB,QAAO,SAAAV,GAAK,OACzCF,EAAON,MAEHQ,EAAMR,QAAUM,EAAON,MAAMC,GACd,eAAfO,EAAMX,QAUNqO,EAAiB,uCAAG,8BAAA5e,EAAA,6DAClB6e,EAAcxO,EACjBuB,QAAO,SAAAX,GAAK,OAAID,EAAOE,MAAMb,OAAOsB,SAASV,EAAMN,OACnDmO,QAAO,SAACC,EAAKC,GACZ,IAAMnV,EAAQoV,EAAkBD,GAGhC,OAFAE,EAAgBrV,GAChBkV,EAAIC,EAAKrO,IAAM9G,EACRkV,IACN,IARmB,SAUDR,EAAY,CACjC5N,GAAIK,EAAOE,MAAMP,GACjB6N,YAAaK,IAZS,QAUlB5K,EAVkB,QAcX1C,MAEXpL,OAAO6M,MAAMiB,EAAS1C,OAEtBmN,GAAgB,GAlBM,2CAAH,qDAsBjBO,EAAoB,SAAAhO,GAAU,IAAD,EACaA,EAAMpH,MACpD,MAAO,CAAEqJ,GAFwB,EACzBA,GACKuE,IAFoB,EACrBA,IACMxU,IAFe,EAChBA,IACMuU,IAFU,EACXA,IACM2H,OAFK,EACNA,OACSC,GAFH,EACEA,GACKxH,GAFP,EACMA,KAInCsH,EAAkB,SAAAviB,GACtBjB,OAAOgX,KAAK/V,GAAK0iB,SAAQ,SAAAliB,GAAG,OAAgB,MAAZR,EAAIQ,WAAuBR,EAAIQ,OAG3DmiB,EAAoB,WACpBtO,EAAOE,OAAOmN,EAAYrN,EAAOE,MAAMP,KAgF7C,OACE,oCA9EoB,sCACpB,kBAAC8E,EAAA,EAAD,CACEE,SAAoB,aAAVvE,EACVzT,KAAK,OACL4hB,MAAI,EACJhc,QAAS,SAAAsC,GAAC,OAAIA,EAAE8S,oBAEf3H,EAAON,MACN,kBAAC,GAAD,CACEA,MAAOM,EAAON,MACdU,MAAOA,EACPiK,QACE,kBAAC5F,EAAA,EAAK+J,KAAN,CAAWC,MAAI,EAACzR,MAAM,4BAA4BuR,KAAK,WAI3D,kBAAC9J,EAAA,EAAK+J,KAAN,CACEzG,UAAQ,EACR0G,MAAI,EACJzR,MAAM,4BACNuR,KAAK,SAIT,kBAAC9J,EAAA,EAAK+J,KAAN,CACEC,MAAI,EACJzR,MAAM,sBACN+K,UAAW/H,EAAOE,QAAS,UAAAF,EAAOE,aAAP,eAAcR,UAAd,UAAwBM,EAAON,aAA/B,aAAwB,EAAcC,IACjE4O,KAAK,OACLhc,QAAS,kBAAMmb,GAAgB,MAEjC,kBAACgB,GAAA,EAAD,CACEnE,KAAMkD,EACN3B,OAAO,kBACPvQ,QAAO,iEAAwCyE,EAAOE,aAA/C,aAAwC,EAAc6E,YAAtD,QACL,GADK,2BAEP4J,UAAWf,EACXgB,SAAU,kBAAMlB,GAAgB,IAChCmB,oBAAkB,EAClBC,eAAa,IAEf,kBAACrK,EAAA,EAAKA,KAAN,CAAWtT,SAAS,SAClB,kBAAC,GAAD,CACE2a,OAAO,eACPoB,SAAQ,oBAAElN,EAAOE,aAAT,aAAE,EAAc6E,YAAhB,QAAwB,GAChCoI,UAAS,oBAAEnN,EAAON,aAAT,aAAE,EAAcqF,YAAhB,QAAwB,GACjC3E,MAAOA,EACPgN,SAAUkB,EACVjE,QACE,kBAAC5F,EAAA,EAAK+J,KAAN,CACEC,MAAI,EACJ1G,UAAW/H,EAAOE,OAASF,EAAOE,MAAM6O,OACxC/R,MAAM,eACNuR,KAAK,cA0BZS,GAED,kBAACC,GAAA,EAAOC,SAAR,CACEtD,GAAI9F,IACJqJ,QAAQ,EACRxK,SAAoB,aAAVvE,EACV/S,MAAO,CAAE6W,UAAW,SAAUrS,OAAQ,SAEtC,kBAACgT,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAAiB,aAAV+R,EAAuB,QAAU,KACxC7E,QAAQ,WAEV,kBAAC6T,GAAA,EAAD,CACEpe,UAAU,iBACVyb,WAAS,EACT9H,SAAoB,aAAVvE,EACV/S,MAAO,CAAE6W,UAAW,OAAQrS,OAAQ,OACpCwd,MAnCC1B,EAAgB9O,KAAI,SAAAqB,GACzB,OACE,kBAACkP,GAAA,EAAKZ,KAAN,CACEriB,IAAK+T,EAAMP,GACXpE,QAAS2E,EAAM6E,KAEf/E,OAAQA,EAAOE,OAASF,EAAOE,MAAMP,KAAOO,EAAMP,GAClDpN,QAAS,kBA/GQ,SAAA2N,GACnBF,EAAON,QACTiD,EAAS,CAAEhD,GAAIK,EAAON,MAAMC,GAAIL,OAAQ,CAAEY,MAAOA,EAAMP,MAAQ,GAC/DmC,EAAe5B,IA4GIoP,CAAiBpP,WA8BlC,kBAAC+O,GAAA,EAAD,CACEjP,OAAM,YAAE,OAACA,QAAD,IAACA,OAAD,EAACA,EAAQN,cAAX,SACNiF,SAAoB,aAAVvE,S,qBC5EL+D,gBAPS,SAAAtL,GAAU,IAAD,IAC/B,MAAO,CACLmH,OAAM,oBAAEnH,EAAMmH,cAAR,aAAE,EAAcC,aAAhB,QAAyBpH,EAAMmH,OAAON,MAC5CU,MAAOvH,EAAMsH,SAASC,SAIc,CAAEuB,WAAUgB,YAArCwB,EArFK,SAAC,GAA2C,IAAD,EAAxCnE,EAAwC,EAAxCA,OAAQ2B,EAAgC,EAAhCA,SAAUgB,EAAsB,EAAtBA,SAAUvC,EAAY,EAAZA,MAE7CmP,EAAgBhI,iBAAO,MAMrBhI,EAAOS,EAAUA,EAAOV,OAVV,IADA,IAWoD,KA2CxE,OACE,kBAAC2P,GAAA,EAAOC,SAAR,CACEtD,GAAI9F,IACJqJ,QAAQ,EACRxK,SAAoB,aAAVvE,GAGV,kBAACyE,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAAiB,aAAV+R,EAAuB,QAAU,KACxC7E,QAAO,iBAAEyE,QAAF,IAAEA,OAAF,EAAEA,EAAQ+E,KAAK9K,qBAAf,QAAgC,UAEzC,kBAAC,KAAD,CACEzJ,MAAO,KACPnC,MAvDe,WACnB,OAAQkR,GACN,KAfgB,IAgBd,OAAOgH,GAAkBvG,EAAOnH,OAClC,KAhBgB,IAiBd,OAAO0N,GAAkBvG,EAAOV,QAClC,QACE,MAAO,WAgDAkQ,GACP/e,SA7Ce,SAACpC,EAAOiO,GAC3B,GAA8B,OAA1BiT,EAAcpH,QAAlB,CAKA,OAFAoH,EAAcpH,QAAU9Z,EAEhBkR,GACN,KA/BgB,IAgCd,GAAIS,EAAOnH,MAAM5G,IAAK,CAAC,IAAD,EACMgV,GAAgB5Y,GAAlC4D,EADY,EACZA,IAAKuU,EADO,EACPA,IAAKC,EADE,EACFA,IAClB9E,EAAS,CAAEhC,GAAIK,EAAOL,GAAI9G,MAAO,CAAE5G,MAAKuU,MAAKC,aACxC,CAAC,IAAD,ETbe,SAAApY,GAAU,IAAD,EACjBA,EAAMM,IAAlBa,EAD6B,EAC7BA,EAAGC,EAD0B,EAC1BA,EAAGC,EADuB,EACvBA,EACd,MAAO,CACLkX,GAAIjP,KAAKC,MAAM,MAAS6X,gCAAqB,CAAEliB,IAAKiC,EAAGsX,MAAOrX,EAAGsX,KAAMrX,IAAO,IAC9E+W,IAAK9O,KAAKC,MAAoB,IAAdvJ,EAAMI,IAAImB,GAAW,GSUX8f,CAAerhB,GAA3BuY,EADH,EACGA,GAAIH,EADP,EACOA,IACZ9E,EAAS,CAAEhC,GAAIK,EAAOL,GAAI9G,MAAO,CAAE+N,KAAIH,SAEzC,MACF,KAvCgB,IAuChB,MAC4BQ,GAAgB5Y,GAAlC4D,EADV,EACUA,IAAKuU,EADf,EACeA,IAAKC,EADpB,EACoBA,IACZkJ,EAAW,CAAEhQ,GAAIK,EAAOL,GAAIL,OAAQ,CAAErN,MAAKuU,MAAKC,QACtD9D,EAASgN,GAMbvH,YAAW,WACTmH,EAAcpH,QAAU,OACvB5I,KAmBC5O,cAAY,IAEd,kBAACse,GAAA,EAAD,CACEjP,QAASA,EACT2E,SAAoB,aAAVvE,QCzEHwP,GAXK,SAAC,GAA2B,IAAzBrd,EAAwB,EAAxBA,QAAS+I,EAAe,EAAfA,SAC9B,OACE,kBAAC0I,EAAA,EAAKC,OAAN,CACEzT,MAAO,EACPnD,MAAO,CAAE6W,UAAW,OAAQrS,OAAQ,OAAQqM,YAAa,EAAG2R,aAAc,GAC1EvU,SAAUA,EACV/I,QAASA,KC8OA4R,gBAbS,SAAAtL,GAAU,IAAD,IAC/B,MAAO,CACLiX,QAAO,oBACLjX,EAAMsH,SAASyD,cADV,aACL,EAAuBmM,WACpBC,MAAM,KACNC,MAAM,EAAG,GACTC,KAAK,WAJH,QAIU,IACjB7Q,OAAQxG,EAAMwG,OACdI,OAAQ5G,EAAM4G,OACdW,MAAOvH,EAAMsH,SAASC,SAIc,CAAE+P,YpBpJf,SAAAzQ,GAAK,8CAAI,WAAM8B,GAAN,eAAAxS,EAAA,sEACXkD,EAAIkR,KAAK,UAAW1D,GADT,YAC5BuD,EAD4B,QAErBnV,KAAK,GAAGyS,MAFa,yCAGzB,CAAEA,MAAO0C,EAASnV,KAAK,GAAGyS,MAAM8C,cAHP,cAKhC7B,EAASY,KALuB,kBAMzB,CAAEkB,QAASL,EAASnV,OANK,2CAAJ,wDoBoJjBqW,EAlPU,SAAC,GAOnB,IANLkG,EAMI,EANJA,QACAhL,EAKI,EALJA,OACAI,EAII,EAJJA,OACAW,EAGI,EAHJA,MACA+P,EAEI,EAFJA,YACAL,EACI,EADJA,QACI,EACoBxF,oBAAS,GAD7B,mBACGC,EADH,KACSC,EADT,OAEsBF,mBAAS,MAF/B,mBAEG/J,EAFH,KAEUkK,EAFV,OAG4BH,mBAAS,IAHrC,mBAGG8F,EAHH,KAGaC,EAHb,OAKoB/F,mBAAS,IAL7B,mBAKGvF,EALH,KAKS2F,EALT,OAMoBJ,mBAAS,MAN7B,mBAMG/K,EANH,KAMSoL,EANT,OAOsBL,mBAAS,MAP/B,mBAOGgG,EAPH,KAOUC,EAPV,OAQ4BjG,mBAAS,IARrC,mBAQGQ,EARH,KAQaC,EARb,KAUEyF,EAAc,CAClB,CAAErkB,IAAK,EAAGkgB,KAAM,cAAexhB,MAAO,eACtC,CAAEsB,IAAK,EAAGkgB,KAAM,UAAWxhB,MAAO,WAClC,CAAEsB,IAAK,EAAGkgB,KAAM,SAAUxhB,MAAO,UACjC,CAAEsB,IAAK,EAAGkgB,KAAM,UAAWxhB,MAAO,WAClC,CAAEsB,IAAK,EAAGkgB,KAAM,eAAgBxhB,MAAO,gBACvC,CAAEsB,IAAK,EAAGkgB,KAAM,WAAYxhB,MAAO,YACnC,CAAEsB,IAAK,EAAGkgB,KAAM,UAAWxhB,MAAO,WAClC,CAAEsB,IAAK,EAAGkgB,KAAM,aAAcxhB,MAAO,cACrC,CAAEsB,IAAK,EAAGkgB,KAAM,SAAUxhB,MAAO,UACjC,CAAEsB,IAAK,GAAIkgB,KAAM,MAAOxhB,MAAO,OAC/B,CAAEsB,IAAK,GAAIkgB,KAAM,UAAWxhB,MAAO,WACnC,CAAEsB,IAAK,GAAIkgB,KAAM,SAAUxhB,MAAO,UAClC,CAAEsB,IAAK,GAAIkgB,KAAM,aAAcxhB,MAAO,cACtC,CAAEsB,IAAK,GAAIkgB,KAAM,SAAUxhB,MAAO,UAClC,CAAEsB,IAAK,GAAIkgB,KAAM,UAAWxhB,MAAO,WACnC,CAAEsB,IAAK,GAAIkgB,KAAM,SAAUxhB,MAAO,UAClC,CAAEsB,IAAK,GAAIkgB,KAAM,WAAYxhB,MAAO,YACpC,CAAEsB,IAAK,GAAIkgB,KAAM,UAAWxhB,MAAO,WACnC,CAAEsB,IAAK,GAAIkgB,KAAM,QAASxhB,MAAO,UAG/BilB,GAAW,KACbU,EAAY5H,KACV,CAAEzc,IAAK,GAAIkgB,KAAM,OAAQxhB,MAAO,QAChC,CAAEsB,IAAK,GAAIkgB,KAAM,aAAcxhB,MAAO,cACtC,CAAEsB,IAAK,GAAIkgB,KAAM,WAAYxhB,MAAO,YACpC,CAAEsB,IAAK,GAAIkgB,KAAM,YAAaxhB,MAAO,aACrC,CAAEsB,IAAK,GAAIkgB,KAAM,QAASxhB,MAAO,SACjC,CAAEsB,IAAK,GAAIkgB,KAAM,aAAcxhB,MAAO,cACtC,CAAEsB,IAAK,GAAIkgB,KAAM,YAAaxhB,MAAO,aACrC,CAAEsB,IAAK,GAAIkgB,KAAM,SAAUxhB,MAAO,UAClC,CAAEsB,IAAK,GAAIkgB,KAAM,WAAYxhB,MAAO,YACpC,CAAEsB,IAAK,GAAIkgB,KAAM,WAAYxhB,MAAO,YACpC,CAAEsB,IAAK,GAAIkgB,KAAM,SAAUxhB,MAAO,UAClC,CAAEsB,IAAK,GAAIkgB,KAAM,QAASxhB,MAAO,SACjC,CAAEsB,IAAK,GAAIkgB,KAAM,KAAMxhB,MAAO,MAC9B,CAAEsB,IAAK,GAAIkgB,KAAM,UAAWxhB,MAAO,WACnC,CAAEsB,IAAK,GAAIkgB,KAAM,SAAUxhB,MAAO,UAClC,CAAEsB,IAAK,GAAIkgB,KAAM,UAAWxhB,MAAO,WACnC,CAAEsB,IAAK,GAAIkgB,KAAM,eAAgBxhB,MAAO,gBACxC,CAAEsB,IAAK,GAAIkgB,KAAM,UAAWxhB,MAAO,WACnC,CAAEsB,IAAK,GAAIkgB,KAAM,QAASxhB,MAAO,SACjC,CAAEsB,IAAK,GAAIkgB,KAAM,WAAYxhB,MAAO,YACpC,CAAEsB,IAAK,GAAIkgB,KAAM,OAAQxhB,MAAO,SAIpCif,qBAAU,WACRuG,EAAY,YAAI,IAAI3H,IAAIjJ,EAAOZ,KAAI,SAAAa,GAAK,OAAIA,EAAML,UAAQoR,YACzD,CAAChR,IAEJ,IAAMiR,EAAY,uCAAG,WAAMpU,GAAN,iBAAAtN,EAAA,6DACnBsN,EAAMtC,iBACNsC,EAAMqL,kBACAgI,EAAW,CACf5K,OACAxF,OACAF,OAAQyL,GAGG,SAATvL,IACFoQ,EAASgB,MAAQL,GAVA,SAaIH,EAAYR,GAbhB,QAab1M,EAba,QAcNK,QACXoI,IAEAjB,EAASxH,EAAS1C,OAjBD,2CAAH,sDAqBZmL,EAAU,WACdhB,EAAQ,IACRC,EAAQ,MACR4F,EAAS,MACTxF,EAAY,IACZN,EAAS,MACTD,GAAQ,IAGV,OACE,kBAACmB,GAAA,EAAD,CACEhf,KAAK,QACLif,GAAI/D,KACJgE,OAAkB,aAAVzL,GAA8B,WACtCiK,QACE,kBAACA,EAAQ9K,KAAT,iBAAkB8K,EAAQpX,MAA1B,CAAiCV,QAAS,kBAAMiY,GAAQ,OAE1DD,KAAMA,EAGNqG,cAAe,SAACC,EAAG/iB,GACA,WAAbA,EAAK3B,KAAkBuf,KAE7BI,OAAO,eACPvQ,QACE,kBAACoQ,GAAA,EAAMnC,QAAP,KACE,kBAACmC,GAAA,EAAMI,YAAP,KACE,mCADF,uCACkD,IAChD,2BACE,uCACG,IAJP,eAKe,IACb,2BACE,uCACG,IARP,8EAUU,IACR,2BACE,6CACG,IAbP,wEAgBA,kBAACC,GAAA,EAAD,MACA,kBAACnE,GAAA,EAAKmC,MAAN,CAAY2C,OAAO,SACjB,kBAAC9E,GAAA,EAAKoE,MAAN,CACElH,KAAK,QACLzK,MAAM,aACNS,YAAY,aACZmR,UAAQ,EACRrhB,MAAOka,EACPtU,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkB6f,EAAQ7f,MAEtC,kBAACgd,GAAA,EAAKsE,OAAN,CACEpH,KAAK,OACLzK,MAAM,OACNS,YAAY,cACZmR,UAAQ,EACRE,QAAS,CACP,CAAEjgB,IAAK,IAAKkgB,KAAM,aAAcxhB,MAAO,cACvC,CACEsB,IAAK,IACLkgB,KAAM,OACNxhB,MAAO,OACPkd,SAAU+H,EAAU,KAEtB,CACE3jB,IAAK,IACLkgB,KAAM,OACNxhB,MAAO,OACPkd,SAAU+H,EAAU,KAEtB,CACE3jB,IAAK,IACLkgB,KAAM,gBACNxhB,MAAO,gBACPkd,UAAU,IAGdld,MAAO0U,EACP9O,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkB8f,EAAQ9f,MAEtC,kBAACgd,GAAA,EAAKsE,OAAN,CACEpH,KAAK,QACLzK,MAAM,QACNiS,QAAM,EACNxE,SAAmB,SAATxI,EACV2M,SAAmB,SAAT3M,EACVxE,YAAY,eACZqR,QAASoE,EACT3lB,MAAOylB,EACP7f,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkB0lB,EAAS1lB,OAGzC,kBAACgd,GAAA,EAAKyE,SAAN,CACEvH,KAAK,SACLzK,MAAM,SACNS,YAAY,gBACZwR,QAAM,EACNC,UAAQ,EACRC,WAAS,EACTP,SAAmB,SAAT3M,EACV6M,QAAS/M,EACNuB,QAAO,SAAAC,GAAE,MACC,SAATtB,IAAmB6Q,EAASzP,SAASE,EAAGlB,OAEzCd,KAAI,SAAAoB,GACH,MAAO,CAAEoM,KAAMpM,EAAM8E,KAAMla,MAAOoV,EAAMN,OAE5ClP,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkBkgB,EAAYlgB,MAE1C,kBAAC+hB,GAAA,EAAD,CACEjgB,KAAK,OACLkgB,UAAQ,EACRC,OAAiB,MAATvM,EACRhF,QAASgF,KAIfwM,QAAS,CACP,CACE5gB,IAAK,SACLoP,QAAS,SACThJ,QAASmZ,GAEX,CACEvf,IAAK,OACLoP,QAAS,OACTyR,UAAU,EACVjF,SACkB,IAAhBhD,EAAK1V,SACJkQ,GACS,SAATA,GAAuC,IAApBuL,EAASzb,OAC/BkD,QAASme,SCvEJvM,gBATS,SAAAtL,GACtB,MAAO,CACLwG,OAAQxG,EAAMwG,OACdI,OAAQ5G,EAAM4G,OACdO,OAAQnH,EAAMmH,OACdG,SAAUtH,EAAMsH,YAIoB,CACtCiC,cACA0O,YrBjDyB,SAAAnR,GAAE,8CAAI,WAAM6B,GAAN,eAAAxS,EAAA,sEACRkD,EAAIob,OAAJ,kBAAsB3N,IADd,QACzBsD,EADyB,QAElBnV,KAAK,GAAGyS,OAEnBpL,OAAO6M,MAAP,iBAAuBiB,EAASnV,KAAK,GAAGyS,MAAM8C,cAGhD7B,EAASY,KAPsB,2CAAJ,uDqBkD3B2O,SrBxCsB,SAACrR,EAAOO,GAAR,8CAAkB,WAAMuB,GAAN,SAAAxS,EAAA,sEAClCkD,EAAI2P,IAAJ,kBAAmBnC,EAAMC,GAAzB,iCAA0CD,EAAML,QAAhD,CAAwDY,EAAMN,MAD5B,OAExC6B,EAASY,KAF+B,2CAAlB,uDqByCtB4O,YrBpCyB,SAAA/Q,GAAK,8CAAI,WAAMuB,GAAN,SAAAxS,EAAA,sEACXkD,EAAI2P,IAAJ,kBAAmB5B,EAAMP,MAAMC,IAAM,CAC1DN,OAAQY,EAAMP,MAAML,OAAOuB,QAAO,SAAAjB,GAAE,OAAIA,IAAOM,EAAMN,QAFrB,cAMlC6B,EAASY,KANyB,2CAAJ,uDqBqC9BW,iBACAkO,QhB1EqB,SAAAvQ,GAAI,OAAI,SAAAc,GAC7BL,aAAa2C,QAAQ,OAAQpD,GAC7Bc,EAAS,CACPjC,KftEoB,WeuEpBC,QAASkB,MgBuEXmD,WACAqN,ehBlD4B,kBAAM,SAAC1P,EAAUgH,GAE7ChH,EAAS,CAAEjC,Kf7FkB,kBe6FKC,QADnBgJ,IAAW/I,OAAOZ,KAAI,SAAAa,GAAK,OAAIA,EAAMC,WgByCvCwE,EAlIE,SAAC,GAYX,IAXL9E,EAWI,EAXJA,OACAI,EAUI,EAVJA,OACAO,EASI,EATJA,OACAG,EAQI,EARJA,SACAiC,EAOI,EAPJA,YACA0O,EAMI,EANJA,YAEAE,GAII,EALJD,SAKI,EAJJC,aACAjO,EAGI,EAHJA,eACAkO,EAEI,EAFJA,QACAC,EACI,EADJA,eAEMC,EAAa5J,mBAEnBuC,qBAAU,WACR1H,MACC,CAACA,IAEJ,IAAMgP,EAAe,WACfpR,EAAON,OACToR,EAAY9Q,EAAON,MAAMC,GAAIK,EAAON,MAAMqF,MAC1ChC,EAAe,OACN/C,EAAOC,OAChB+Q,EAAYhR,EAAOC,QA6EvB,OACE,oCACE,kBAACoR,GAAA,EAAD,CAAKC,SAAUH,GACb,kBAAC,GAAD,CAAa5e,QAAS,kBAAMwQ,EAAe,QACzC,kBAACwO,GAAA,EAAD,CAAQC,QAASL,EAAY5X,OAAQ,IA7EvB,WAAO,IAAD,QAC1B,OACE,kBAACkL,EAAA,EAAD,CACEE,SAA6B,aAAnBxE,EAASC,MACnBzT,KAAK,OACL4hB,MAAI,EACJhc,QAAS,SAAAsC,GAAC,OAAIA,EAAE8S,oBAEhB,kBAAClD,EAAA,EAAK+J,KAAN,CACEC,MAAI,EACJzO,OAzCG,SAyCKG,EAASO,KACjB1D,MAAM,YACNuR,KAAK,OACLhc,QAAS,kBAAM0e,EA3CZ,WA6CL,kBAACxM,EAAA,EAAK+J,KAAN,CACEC,MAAI,EACJzO,OAhDG,SAgDKG,EAASO,KACjB6N,KAAK,KACLvR,MAAM,YACNzK,QAAS,kBAAM0e,EAnDZ,WAqDL,kBAACxM,EAAA,EAAK+J,KAAN,CACEC,MAAI,EACJzR,MAAK,UAAKmD,EAASE,UAAY,WAAa,SAAvC,QACLkO,KAAI,uBAAkBpO,EAASE,UAAY,KAAO,QAClD9N,QAAS2e,IAEX,kBAACzM,EAAA,EAAKA,KAAN,CAAWtT,SAAS,SAClB,kBAAC,GAAD,CACEkZ,QAAS,kBAAC5F,EAAA,EAAK+J,KAAN,CAAWC,MAAI,EAACzR,MAAM,eAAeuR,KAAK,WAErD,kBAAC,GAAD,CACEzC,OAAM,iBAAY9L,EAAON,MAAQ,QAAU,SAC3CwN,SAAQ,oBAAElN,EAAOC,aAAT,aAAE,EAAc8E,YAAhB,kBAAwB/E,EAAON,aAA/B,aAAwB,EAAcqF,KAC9CoI,UAAS,UAAEnN,EAAOC,aAAT,aAAE,EAAcP,MAAMqF,KAC/B3E,MAAOD,EAASC,MAChBgN,SAAUgE,EACV/G,QACE,kBAAC5F,EAAA,EAAK+J,KAAN,CACEC,MAAI,EACJ1G,WAAY/H,EAAOC,OAASD,EAAON,OACnC1C,MAAM,SACNuR,KAAK,cAmCRS,IA7GA,SAgHF7O,EAASO,KAZd,kBAAC,GAAD,CAAYjB,OAAQA,EAAQJ,OAAQc,EAASE,UAAYhB,EAAS,KAhB7DI,EAAOZ,KAAI,SAAAa,GAChB,OAEE,kBAAC,GAAD,CACEA,MAAOA,EACPL,OAAQA,EAAOuB,QAAO,SAAAX,GAAK,OAAIP,EAAML,OAAOsB,SAASV,EAAMN,OAC3DW,SAAUH,EAASG,SAASK,SAASjB,EAAMC,IAC3CxT,IAAKuT,EAAMC,UAyBf,kBAAC,EAAD,KACE,kBAAC,GAAD,MACA,kBAAC,GAAD,WCjIOwE,gBAJS,SAAAtL,GACtB,MAAO,CAAEiH,MAAOjH,EAAMiH,SAGgB,CAAE2R,WnBThB,yDAAM,WAAMjQ,GAAN,iBAAAxS,EAAA,sEACPkD,EAAIjH,IAAI,UADD,gBACtB6C,EADsB,EACtBA,KACR0T,EAASgC,EAAY1V,IAFS,2CAAN,wDmBSXqW,EARG,SAAC,GAAc,EAAZrE,MACnB,OAAO,6C,wCCSM4R,GAXG,SAAC,GAA2B,IAAzBnf,EAAwB,EAAxBA,QAAS+I,EAAe,EAAfA,SAC5B,OACE,kBAAC0I,EAAA,EAAKC,OAAN,CACEzT,MAAO,GACPnD,MAAO,CAAE6W,UAAW,OAAQrS,OAAQ,OAAQqM,YAAa,GACzD5C,SAAUA,EACV/I,QAASA,KCySA4R,gBAJS,SAAAtL,GACtB,MAAO,CAAEsH,SAAUtH,EAAMsH,YAGa,CAAEwR,WnBvPhB,SAAAnR,GAAE,8CAAI,WAAMgB,GAAN,eAAAxS,EAAA,sEACPqS,IAAM+B,KAAN,kBAAsB5C,EAAtB,SAAiC,CACtDoR,WAAY,YAFgB,QACxB3O,EADwB,QAKjBnV,KAAK,GAAGwV,SACnBnC,aAAa2C,QAAQ,KAAMtD,GAC3BW,aAAa2C,QAAQ,WAAYb,EAASnV,KAAK,GAAGwV,QAAQ7C,UAC1De,EAAS,CACPjC,KfjDqB,cekDrBC,QAAS,CAAEgB,KAAIC,SAAUwC,EAASnV,KAAK,GAAGwV,QAAQ7C,YAEpDe,EAASmC,MAETnC,EAAS,CACPjC,KfxD0B,mBeyD1BC,QAASyD,EAASnV,KAAK,GAAGyS,MAAM8C,cAhBN,2CAAJ,uDmBuP0BwO,SnB9P9B,yDAAM,WAAMrQ,GAAN,SAAAxS,EAAA,sDAC5BmS,aAAa2Q,QACbtQ,EAAS,CACPjC,KftC0B,mBemCA,2CAAN,wDmB8PT4E,EA/RM,SAAC,GAA8B,IAA5BhE,EAA2B,EAA3BA,SAAUwR,EAAiB,EAAjBA,WAAiB,EACPrH,mBAAS,IADF,mBAC1CpJ,EAD0C,KAC3B6Q,EAD2B,KAGjDjI,qBAAU,YACa,uCAAG,4BAAA9a,EAAA,0DAClBmR,EAASK,GADS,gBAEpBuR,EAAiB5R,EAASK,IAFN,sCAIGa,IAAMpW,IAAI,iCAJb,QAIdgY,EAJc,QAKPnV,KAAK,IAChBikB,EAAiB9O,EAASnV,KAAK,GAAGkkB,mBAAqB,IANrC,2CAAH,qDAWrBC,KACC,CAAC9R,IAEJ,IAsCM+R,EAAa,CACjB,CACE/lB,IAAK,aACL6Q,MAAO,yBACPzB,QAAS,CACPA,QACE,6BACE,qIAIA,oGAIA,kBAACyQ,GAAA,EAAD,MACA,uCACU,IACR,uBACEmG,KAAK,gCACLniB,OAAO,SACPoiB,IAAI,uBAHN,sBAOA,kBAAChD,GAAA,EAAD,CACEiD,SAAO,EACP1N,SAA6B,aAAnBxE,EAASC,MACnBiP,MAAO,CACL,iGACA,CACEljB,IAAK,OACLoP,QACE,+FAC2D,IACzD,4DAOZ,kBAACyQ,GAAA,EAAD,MACA,wGAIA,kBAACA,GAAA,EAAD,MACA,gDACmB,IACjB,uBACEmG,KAAK,6DACLniB,OAAO,SACPoiB,IAAI,uBAHN,WAOA,kBAAChD,GAAA,EAAD,CACEiD,SAAO,EACP1N,SAA6B,aAAnBxE,EAASC,MACnBiP,MAAO,CACL,wCACA,yDACA,oBACA,kCACA,CACEljB,IAAK,UACLoP,QACE,6CACQ,+DADR,oCAMJ,oDAIN,kBAACyQ,GAAA,EAAD,MACA,gGAOR,CACE7f,IAAK,uBACL6Q,MAAO,wCACPzB,QAAS,CACPA,QACE,6OAKE,kBAACyQ,GAAA,EAAD,MACA,kBAACoD,GAAA,EAAD,CACEiD,SAAO,EACP1N,SAA6B,aAAnBxE,EAASC,MACnBiP,MAAO,CACL,4CACA,CACEljB,IAAK,EACLoP,QACE,iDACY,qCADZ,sCAKJ,CACEpP,IAAK,EACLoP,QACE,iDACY,wCADZ,kBAWhB,CACEpP,IAAK,mBACL6Q,MAAO,2CACPzB,QAAS,CACPA,QACE,gDACkB,wCADlB,sHAIE,kBAACyQ,GAAA,EAAD,MACA,kBAACoD,GAAA,EAAD,CACEiD,SAAO,EACP1N,SAA6B,aAAnBxE,EAASC,MACnBiP,MAAO,CACL,gFACA,CACEljB,IAAK,EACLoP,QACE,6CACS,IACP,2BACE,uBACE4W,KAAI,kBAAajR,GACjBlR,OAAO,SACPoiB,IAAI,uBAHN,cAOG,IAVP,mDAeJ,CACEjmB,IAAK,EACLoP,QACE,sIAGE,wCAHF,OAGsB,yCAHtB,0FASJ,+GACA,+CACA,mCA0Bd,OACE,kBAAC,GAAD,KAvOI4E,EAASI,MAET,yBACEvP,UAAS,kBACY,aAAnBmP,EAASC,MAAuB,eAAiB,QAD1C,aAIT,yBAAKpP,UAAU,UAAf,UAAgCmP,EAASI,QAI3CJ,EAASK,IAAML,EAASM,UAAYN,EAASyD,OAE7C,yBACE5S,UAAS,kBACY,aAAnBmP,EAASC,MAAuB,iBAAmB,UAD5C,aAIT,yBAAKpP,UAAU,UAAf,qBAKJ,yBACEA,UAAS,kBACY,aAAnBmP,EAASC,MAAuB,WAAa,KADtC,aAIT,yBAAKpP,UAAU,UAAf,yBA6MF,kBAAC8U,EAAA,EAAD,CAAS/K,aAAW,EAAC4J,SAA6B,aAAnBxE,EAASC,OACtC,kBAACyE,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAA0B,aAAnB8R,EAASC,MAAuB,QAAU,KACjD7E,QAAQ,iBAEV,kBAACuN,GAAA,EAAD,CAAQyF,MAAI,GACV,kBAACvF,GAAA,EAAD,CAAMjE,KAAM7D,EAAgB,OAAS,gBADvC,0BAIA,kBAAC2G,GAAA,EAAD,CAAMuF,SAxPS,WACnBuE,EAAWzQ,KAwPL,kBAAC2G,GAAA,EAAKC,MAAN,KACE,kBAACmE,GAAA,EAAD,CACE3M,OAAQ,kBAACgT,GAAA,EAAD,CAAQ/S,KAAK,SAASlR,MAAM,OAAOkN,QAAQ,YACnDjB,MAAM,UACNS,YAAamG,GAAiB,oBAC9BrW,MAAOqW,EACPzQ,SAAU,SAAA6L,GAAK,OAAIyV,EAAiBzV,EAAMtM,OAAOnF,aAnCzD,kBAACib,EAAA,EAAD,CAASnB,SAA6B,aAAnBxE,EAASC,OAC1B,kBAACyE,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAA0B,aAAnB8R,EAASC,MAAuB,QAAU,KACjD7E,QAAQ,SAEV,kBAACgX,GAAA,EAAD,CACE7N,OAAK,EACLC,SAA6B,aAAnBxE,EAASC,MACnBoS,OAAQN,SCtPHO,GAjBO,SAAC,GAA0B,IAAxB5S,EAAuB,EAAvBA,UAAWO,EAAY,EAAZA,MAClC,OACE,kBAAC0F,EAAA,EAAD,CAASnB,SAAoB,aAAVvE,GACjB,kBAACyE,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAAiB,aAAV+R,EAAuB,QAAU,KACxC7E,QAAQ,cAEV,kBAACyK,GAAA,EAAD,CAAOrB,SAAoB,aAAVvE,GACf,kBAAC4F,GAAA,EAAMmD,KAAP,KACGtJ,EAAUhB,KAAI,SAAA6T,GAAK,OAAI,kBAAC1M,GAAA,EAAMwB,IAAP,CAAWlB,MAAO,CAACoM,EAAM3N,KAAM2N,EAAMC,WAAYxmB,IAAKumB,EAAM/S,YCO/EiT,GAjBG,SAAC,GAAsB,IAApB9S,EAAmB,EAAnBA,MAAOM,EAAY,EAAZA,MAC1B,OACE,kBAAC0F,EAAA,EAAD,CAASnB,SAAoB,aAAVvE,GACjB,kBAACyE,EAAA,EAAD,CACEkB,SAAS,MACT1X,MAAiB,aAAV+R,EAAuB,QAAU,KACxC7E,QAAQ,UAEV,kBAACyK,GAAA,EAAD,CAAOrB,SAAoB,aAAVvE,GACf,kBAAC4F,GAAA,EAAMmD,KAAP,KACGrJ,EAAMjB,KAAI,SAAAgU,GAAI,OAAI,kBAAC7M,GAAA,EAAMwB,IAAP,CAAWlB,MAAO,CAACuM,EAAK9N,KAAN,kBAAuB8N,EAAKC,SAAW3mB,IAAK0mB,EAAKlT,YCgBjFwE,gBARS,SAAAtL,GACtB,MAAO,CACLgH,UAAWhH,EAAMgH,UACjBC,MAAOjH,EAAMiH,MACbM,MAAOvH,EAAMsH,SAASC,SAIc,CAAE2S,ezB1BZ,yDAAM,WAAMvR,GAAN,iBAAAxS,EAAA,sEACXkD,EAAIjH,IAAI,cADG,gBAC1B6C,EAD0B,EAC1BA,KACR0T,EAAS+B,EAAgBzV,IAFS,2CAAN,wDyB0BfqW,EApBM,SAAC,GAAiC,IAA/BtE,EAA8B,EAA9BA,UAAWC,EAAmB,EAAnBA,MAAOM,EAAY,EAAZA,MACxC,OACE,oCACE,kBAAC,GAAD,KACE,kBAAC,GAAD,CAAeA,MAAOA,EAAOP,UAAWA,IACxC,kBAAC,GAAD,CAAWO,MAAOA,EAAON,MAAOA,KAElC,kBAAC,EAAD,UCfOkT,GAAqB,uBACrBC,GAAoB,0BAGpBC,GAAoB,YACpBC,GAAiB,YACjBC,GAAmB,QACnBC,GAAiB,QACjBC,GAAoB,cACpBC,GAA2B,gBAC3BC,GAAyB,iB,UCTvB,YAACC,EAAUC,GAA8B,IAAvBC,EAAsB,uDAAP,GACxCC,EAAcrM,kBAAO,GACrBsM,EAActM,iBAAOkM,GAO3B,OAJA3J,qBAAU,WACR+J,EAAY1L,QAAUsL,IACrB,CAACA,IAEGK,uBAAY,WACbF,EAAYzL,QACd4L,QAAQC,IAAI,cAIdD,QAAQC,IAAI,OACZJ,EAAYzL,SAAU,EACtB0L,EAAY1L,QAAZ,MAAA0L,EAAW,WACXzL,YAAW,WACT2L,QAAQC,IAAI,aACZJ,EAAYzL,SAAU,IACrBuL,MAZa,CAadA,GAbc,mBAaJC,MCbD,eAA+C,IAA5CM,EAA2C,EAA3CA,OAAQ9T,EAAmC,EAAnCA,SAAU+T,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAAe,EAC3B7J,oBAAS,GADkB,mBACpDhK,EADoD,KAC1C8T,EAD0C,KAErDC,EACJJ,EAAOrQ,OAAO0Q,QAAU,GACpB,OACAL,EAAOrQ,OAAO0Q,QAAU,GACxB,iBACAL,EAAOrQ,OAAO0Q,QAAU,GACxB,UACA,QACAC,EAAqB,YACtB,IAAIjgB,MAAM2f,EAAOrQ,OAAO4Q,eAAiB,IAC5C3V,KAAI,SAACjP,EAAGK,GAAJ,MAAW,CAAE9D,IAAK8D,EAAGoc,KAAMpc,EAAGpF,MAAOoF,MAErCwkB,EAAe,SAAAnY,GACnB8X,GAAa9T,GACbhE,EAAMqL,mBAGF+M,EAAsBC,IAC1B,SAAAC,GACET,EAASF,EAAOtU,GAAI,CAAEiV,kBAExB,IACA,IAGIC,EAAoBF,IACxB,WACER,EAASF,EAAOtU,GAAI,CAAEmV,eAAgBb,EAAOrQ,OAAOkR,kBAEtD,IACA,IAgEF,OACE,kBAAC9O,GAAA,EAAD,CACErZ,KAAK,QACLuZ,SAAO,EACPE,YAAU,EACV2O,SAAO,EACPpQ,SAA6B,aAAnBxE,EAASC,OAEnB,kBAAC4F,GAAA,EAAM8C,OAAP,KACE,kBAAC9C,GAAA,EAAMwB,IAAP,KACE,kBAACxB,GAAA,EAAM+C,WAAP,KACE,kBAACC,GAAA,EAAD,CACEjE,KAAI,gBAAWzE,EAAW,OAAS,SACnCjT,MAAO,CAAEuN,OAAQ,WACjBrI,QAASkiB,IAEX,kBAAC5P,EAAA,EAAD,CAAO+G,GAAG,IAAIvd,MAAM,SAAS2mB,OAAK,EAACziB,QAASkiB,GACzCR,EAAOlP,KACR,kBAACF,EAAA,EAAMoQ,OAAP,KACE,kBAACjM,GAAA,EAAD,CAAMjE,KAAI,kBAAasP,QAI7B,kBAACrO,GAAA,EAAM+C,WAAP,CAAkB1b,MAAO,CAAEmD,MAAO,SAGlC,kBAACwV,GAAA,EAAM+C,WAAP,CAAkBG,YAAU,GAC1B,kBAACb,GAAA,EAAD,CACErX,UAAU,iBACVsX,QAAM,EACNhO,MAAO,GACPyN,UAAWkM,EAAOrQ,OAAOoE,UACzBja,QAASkmB,EAAOrQ,OAAO1B,GACvBzR,SAAU,kBAAMyjB,EAASD,SAKjC,kBAACjO,GAAA,EAAMmD,KAAP,KAAa7I,EAlGf,oCACE,kBAAC0F,GAAA,EAAMwB,IAAP,CACElB,MAAO,CACL,CAAEna,IAAK,EAAGoP,QAAS,kBACnB,CAAEpP,IAAK,EAAGoP,QAAS2Z,KAAKjB,EAAOpb,MAAMsc,aAAanF,MAAM,OAAO,IAC/D,CACE7jB,IAAK,EACLoP,QAAS,kBAACyN,GAAA,EAAD,CAAMjE,KAAMkP,EAAOpb,MAAMuc,SAAW,MAAQ,kBAK3D,kBAACpP,GAAA,EAAMwB,IAAP,CACElB,MAAO,CACL,CAAEna,IAAK,EAAGoP,QAAS,iBACnB,CAAEpP,IAAK,EAAGoP,QAAS,MACnB,CAAEpP,IAAK,EAAGoP,QAAS0Y,EAAOrQ,OAAO0Q,YAIrC,kBAACtO,GAAA,EAAMwB,IAAP,CACElB,MAAO,CACL,CAAEna,IAAK,EAAGoP,QAAS,eACnB,CAAEpP,IAAK,EAAGoP,QAAS,MACnB,CACEpP,IAAK,EACLoP,QACE,kBAAC+Q,GAAA,EAAD,CACE3f,KAAK,QACLqE,UAAU,iBACV0b,QAAM,EACN7hB,MAAOopB,EAAOrQ,OAAOgR,YACrBxI,QAASmI,EACT9jB,SAAU,SAACoE,EAAD,OAAMhK,EAAN,EAAMA,MAAN,OAAkB6pB,EAAoB7pB,UAO1D,kBAACmb,GAAA,EAAMwB,IAAP,CACElB,MAAO,CACL,CAAEna,IAAK,EAAGoP,QAAS,iBACnB,CAAEpP,IAAK,EAAGoP,QAAS,MACnB,CACEpP,IAAK,EACLoP,QACE,kBAAC8M,GAAA,EAAD,CACErX,UAAU,iBACVsJ,MAAM,GACNvM,QAASkmB,EAAOrQ,OAAOkR,cACvBrkB,SAAUokB,SA+CmB,QCvI9B,eAAqC,IAAlCZ,EAAiC,EAAjCA,OAAQ9T,EAAyB,EAAzBA,SAAU+T,EAAe,EAAfA,SAAe,EACjB5J,oBAAS,GADQ,mBAC1ChK,EAD0C,KAChC8T,EADgC,KAE3CC,EACJJ,EAAOrQ,OAAO0Q,QAAU,GACpB,OACAL,EAAOrQ,OAAO0Q,QAAU,GACxB,iBACAL,EAAOrQ,OAAO0Q,QAAU,GACxB,UACA,QAEAG,EAAe,SAAAnY,GACnB8X,GAAa9T,GACbhE,EAAMqL,mBAuBR,OACE,kBAAC3B,GAAA,EAAD,CACErZ,KAAK,QACLuZ,SAAO,EACPE,YAAU,EACV2O,SAAO,EACPpQ,SAA6B,aAAnBxE,EAASC,OAEnB,kBAAC4F,GAAA,EAAM8C,OAAP,KACE,kBAAC9C,GAAA,EAAMwB,IAAP,KACE,kBAACxB,GAAA,EAAM+C,WAAP,KACE,kBAACC,GAAA,EAAD,CACEjE,KAAI,gBAAWzE,EAAW,OAAS,SACnCjT,MAAO,CAAEuN,OAAQ,WACjBrI,QAASkiB,IAEX,kBAAC5P,EAAA,EAAD,CAAO+G,GAAG,IAAIvd,MAAM,OAAO2mB,OAAK,EAACziB,QAASkiB,GACvCR,EAAOlP,KACR,kBAACF,EAAA,EAAMoQ,OAAP,KACE,kBAACjM,GAAA,EAAD,CAAMjE,KAAI,kBAAasP,QAI7B,kBAACrO,GAAA,EAAM+C,WAAP,CAAkB1b,MAAO,CAAEmD,MAAO,SAGlC,kBAACwV,GAAA,EAAM+C,WAAP,CAAkBG,YAAU,GAC1B,kBAACb,GAAA,EAAD,CACErX,UAAU,iBACVsX,QAAM,EACNhO,MAAO,GACPyN,UAAWkM,EAAOrQ,OAAOoE,UACzBja,QAASkmB,EAAOrQ,OAAO1B,GACvBzR,SAAU,kBAAMyjB,EAASD,SAKjC,kBAACjO,GAAA,EAAMmD,KAAP,KAAa7I,EAzDf,oCACE,kBAAC0F,GAAA,EAAMwB,IAAP,CACElB,MAAO,CACL,CAAEna,IAAK,EAAGoP,QAAS,kBACnB,CAAEpP,IAAK,EAAGoP,QAAS0Y,EAAOpb,MAAMsc,YAAcD,KAAKjB,EAAOpb,MAAMsc,aAAanF,MAAM,OAAO,GAAK,MAC/F,CAAE7jB,IAAK,EAAGoP,QAAS0Y,EAAOpb,MAAMwc,gBAIpC,kBAACrP,GAAA,EAAMwB,IAAP,CACElB,MAAO,CACL,CAAEna,IAAK,EAAGoP,QAAS,iBACnB,CAAEpP,IAAK,EAAGoP,QAAS,MACnB,CAAEpP,IAAK,EAAGoP,QAAS0Y,EAAOrQ,OAAO0Q,aA4CE,QCjB9BnQ,gBAJS,SAAAtL,GACtB,MAAO,CAAEkH,QAASlH,EAAMkH,QAASI,SAAUtH,EAAMsH,YAGX,CAAEmV,a5BlDd,SAAArB,GAAM,8CAAI,WAAMzS,GAAN,SAAAxS,EAAA,sEAC9BkD,EAAI2P,IAAJ,mBAAoBoS,EAAOtU,GAA3B,WAAwC,CAAEuC,IAAK+R,EAAOrQ,OAAO1B,KAD/B,OAEpCV,EAASiC,KAF2B,2CAAJ,uD4BkDsB8R,gB5B7CzB,SAAC5V,EAAIiE,GAAL,8CAAgB,WAAMpC,GAAN,eAAAxS,EAAA,sEACtBkD,EAAI2P,IAAJ,mBAAoBlC,EAApB,WAAiCiE,GADX,OACvCX,EADuC,OAE7C8Q,QAAQC,IAAI/Q,GACZzB,EAASiC,KAHoC,2CAAhB,wD4B6ChBU,EAxDK,SAAC,GAA0D,IAAxDpE,EAAuD,EAAvDA,QAASI,EAA8C,EAA9CA,SAAUmV,EAAoC,EAApCA,aAAcC,EAAsB,EAAtBA,gBA4CtD,OACE,oCACE,kBAAC,GAAD,KA5CKxV,EACJa,QAAO,SAAA9R,GAAC,OAAuB,OAAnB0mB,EAAO1mB,EAAEyQ,SACrBV,KAAI,SAAA/P,GACH,OAAQA,EAAEyQ,MACR,KAAKiW,GACH,OACE,kBAACC,GAAD,CACExB,OAAQnlB,EACRqR,SAAUA,EACV+T,SAAUoB,EACVnpB,IAAK2C,EAAE6Q,KAGb,KAAK6V,GACL,KAAKA,GACL,KAAKA,GACL,KAAKA,GACH,OACE,kBAACE,GAAD,CACEzB,OAAQnlB,EACRqR,SAAUA,EACVgU,SAAUoB,EACVrB,SAAUoB,EACVnpB,IAAK2C,EAAE6Q,KAGb,KAAK6V,GACL,KAAKA,GACL,QACE,YAgBN,kBAAC,EAAD,UCgBSG,eACbxR,aALsB,SAAAtL,GACtB,MAAO,CAAEsH,SAAUtH,EAAMsH,YAIA,CACvBiC,cACAuB,gBACAE,YAHFM,EAzDU,SAAAlR,GAAU,IACZ0Q,EAA+B1Q,EAA/B0Q,cADW,EChBN,SAACrE,EAAQsW,GACtB,IAAMC,EAActO,iBAAO,MAErBuO,EAAUhC,uBAAY,WACE,OAAxB+B,EAAY1N,UAGhB7I,IACAuW,EAAY1N,QAAU4N,aAAY,WAChChC,QAAQC,IAAI,cACZ1U,MACCsW,MACF,CAACtW,EAAQsW,IAEN/Z,EAASiY,uBAAY,WACG,OAAxB+B,EAAY1N,UAGhB4L,QAAQC,IAAI,sBACZgC,cAAcH,EAAY1N,SAC1B0N,EAAY1N,QAAU,QACrB,CAAC0N,IAYJ,OAVA/L,qBAAU,WAIR,OAHA3U,OAAOC,iBAAiB,QAAS0gB,GACjC3gB,OAAOC,iBAAiB,OAAQyG,GAEzB,WACL1G,OAAOI,oBAAoB,QAASugB,GACpC3gB,OAAOI,oBAAoB,OAAQsG,MAEpC,CAACia,EAASja,IAEN,CAAEia,EAASja,GDdsBoa,CAFDhjB,EAAhBmP,YAEyC,KAH7C,mBAGX8T,EAHW,KAGGC,EAHH,KAYnB,OAPArM,qBAAU,WAIR,OAHAnG,IACAuS,IAEOC,IACN,CAACxS,EAAeuS,EAAcC,IAG/B,yBACE9oB,MAAO,CACL2Q,WAAY,GACZE,YAAa,GACb2R,aAAc,GACdpI,gBApBS,aAoBQxU,EAAMkN,SAASC,MAAqB,UAAY,QACjEvO,OAAQ,UAGV,kBAACmS,EAAA,EAAD,CAAM3W,MAAO,CAAE6W,UAAW,SAAUrS,OAAQ,SAC1C,kBAAC,EAAD,KACE,kBAAC,EAAD,CAAgBwS,SAAUpR,EAAMoR,WAChC,kBAAC,GAAD,MACA,kBAACI,EAAA,EAAD,CAAME,SA5BC,aA4BS1R,EAAMkN,SAASC,MAAoBzT,KAAK,OAAO4hB,MAAI,GACjE,kBAAC9J,EAAA,EAAK+J,KAAN,CACExO,OA9BG,aA8BK/M,EAAMkN,SAASC,MACvBpD,MAAM,mBACNuR,KAAK,SACLhc,QAAS,kBACPU,EAAM4Q,SAlCL,aAmCC5Q,EAAMkN,SAASC,MAAqB,KAnCrC,iBAyCT,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOgW,OAAK,EAAC7R,KAAK,IAAI8R,UAAWC,KACjC,kBAAC,IAAD,CAAOF,OAAK,EAAC7R,KAAK,YAAY8R,UAAWE,KACzC,kBAAC,IAAD,CAAOH,OAAK,EAAC7R,KAAK,WAAW8R,UAAWG,KACxC,kBAAC,IAAD,CAAOJ,OAAK,EAAC7R,KAAK,SAAS8R,UAAWI,KACtC,kBAAC,IAAD,CAAOL,OAAK,EAAC7R,KAAK,YAAY8R,UAAWK,KACzC,kBAAC,IAAD,CAAU9R,GAAK3R,EAAMkN,SAASyD,OAAuB,IAAd,qBEpDjD+S,IAAS5e,OACP,kBAAC,IAAD,CAAU+I,MAAOA,GACb,kBAAC,IAAD,KACE,kBAAC,GAAD,QAGN3I,SAASye,cAAc,Y","file":"static/js/main.baba8dd1.chunk.js","sourcesContent":["Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _Alpha = require('./Alpha');\r\n\r\nObject.defineProperty(exports, 'Alpha', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Alpha).default;\r\n  }\r\n});\r\n\r\nvar _Checkboard = require('./Checkboard');\r\n\r\nObject.defineProperty(exports, 'Checkboard', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Checkboard).default;\r\n  }\r\n});\r\n\r\nvar _EditableInput = require('./EditableInput');\r\n\r\nObject.defineProperty(exports, 'EditableInput', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_EditableInput).default;\r\n  }\r\n});\r\n\r\nvar _Hue = require('./Hue');\r\n\r\nObject.defineProperty(exports, 'Hue', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Hue).default;\r\n  }\r\n});\r\n\r\nvar _Raised = require('./Raised');\r\n\r\nObject.defineProperty(exports, 'Raised', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Raised).default;\r\n  }\r\n});\r\n\r\nvar _Saturation = require('./Saturation');\r\n\r\nObject.defineProperty(exports, 'Saturation', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Saturation).default;\r\n  }\r\n});\r\n\r\nvar _ColorWrap = require('./ColorWrap');\r\n\r\nObject.defineProperty(exports, 'ColorWrap', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_ColorWrap).default;\r\n  }\r\n});\r\n\r\nvar _Swatch = require('./Swatch');\r\n\r\nObject.defineProperty(exports, 'Swatch', {\r\n  enumerable: true,\r\n  get: function get() {\r\n    return _interopRequireDefault(_Swatch).default;\r\n  }\r\n});\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Checkboard = undefined;\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _checkboard = require('../../helpers/checkboard');\r\n\r\nvar checkboard = _interopRequireWildcard(_checkboard);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar Checkboard = exports.Checkboard = function Checkboard(_ref) {\r\n  var white = _ref.white,\r\n      grey = _ref.grey,\r\n      size = _ref.size,\r\n      renderers = _ref.renderers,\r\n      borderRadius = _ref.borderRadius,\r\n      boxShadow = _ref.boxShadow;\r\n\r\n  var styles = (0, _reactcss2.default)({\r\n    'default': {\r\n      grid: {\r\n        borderRadius: borderRadius,\r\n        boxShadow: boxShadow,\r\n        absolute: '0px 0px 0px 0px',\r\n        background: 'url(' + checkboard.get(white, grey, size, renderers.canvas) + ') center left'\r\n      }\r\n    }\r\n  });\r\n\r\n  return _react2.default.createElement('div', { style: styles.grid });\r\n};\r\n\r\nCheckboard.defaultProps = {\r\n  size: 8,\r\n  white: 'transparent',\r\n  grey: 'rgba(0,0,0,.08)',\r\n  renderers: {}\r\n};\r\n\r\nexports.default = Checkboard;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.red = exports.getContrastingColor = exports.isValidHex = exports.toState = exports.simpleCheckForValidColor = undefined;\r\n\r\nvar _each = require('lodash/each');\r\n\r\nvar _each2 = _interopRequireDefault(_each);\r\n\r\nvar _tinycolor = require('tinycolor2');\r\n\r\nvar _tinycolor2 = _interopRequireDefault(_tinycolor);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar simpleCheckForValidColor = exports.simpleCheckForValidColor = function simpleCheckForValidColor(data) {\r\n  var keysToCheck = ['r', 'g', 'b', 'a', 'h', 's', 'l', 'v'];\r\n  var checked = 0;\r\n  var passed = 0;\r\n  (0, _each2.default)(keysToCheck, function (letter) {\r\n    if (data[letter]) {\r\n      checked += 1;\r\n      if (!isNaN(data[letter])) {\r\n        passed += 1;\r\n      }\r\n      if (letter === 's' || letter === 'l') {\r\n        var percentPatt = /^\\d+%$/;\r\n        if (percentPatt.test(data[letter])) {\r\n          passed += 1;\r\n        }\r\n      }\r\n    }\r\n  });\r\n  return checked === passed ? data : false;\r\n};\r\n\r\nvar toState = exports.toState = function toState(data, oldHue) {\r\n  var color = data.hex ? (0, _tinycolor2.default)(data.hex) : (0, _tinycolor2.default)(data);\r\n  var hsl = color.toHsl();\r\n  var hsv = color.toHsv();\r\n  var rgb = color.toRgb();\r\n  var hex = color.toHex();\r\n  if (hsl.s === 0) {\r\n    hsl.h = oldHue || 0;\r\n    hsv.h = oldHue || 0;\r\n  }\r\n  var transparent = hex === '000000' && rgb.a === 0;\r\n\r\n  return {\r\n    hsl: hsl,\r\n    hex: transparent ? 'transparent' : '#' + hex,\r\n    rgb: rgb,\r\n    hsv: hsv,\r\n    oldHue: data.h || oldHue || hsl.h,\r\n    source: data.source\r\n  };\r\n};\r\n\r\nvar isValidHex = exports.isValidHex = function isValidHex(hex) {\r\n  // disable hex4 and hex8\r\n  var lh = String(hex).charAt(0) === '#' ? 1 : 0;\r\n  return hex.length !== 4 + lh && hex.length < 7 + lh && (0, _tinycolor2.default)(hex).isValid();\r\n};\r\n\r\nvar getContrastingColor = exports.getContrastingColor = function getContrastingColor(data) {\r\n  if (!data) {\r\n    return '#fff';\r\n  }\r\n  var col = toState(data);\r\n  if (col.hex === 'transparent') {\r\n    return 'rgba(0,0,0,0.4)';\r\n  }\r\n  var yiq = (col.rgb.r * 299 + col.rgb.g * 587 + col.rgb.b * 114) / 1000;\r\n  return yiq >= 128 ? '#000' : '#fff';\r\n};\r\n\r\nvar red = exports.red = {\r\n  hsl: { a: 1, h: 0, l: 0.5, s: 1 },\r\n  hex: '#ff0000',\r\n  rgb: { r: 255, g: 0, b: 0, a: 1 },\r\n  hsv: { h: 0, s: 1, v: 1, a: 1 }\r\n};\r\n\r\nexports.default = exports;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Sketch = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _merge = require('lodash/merge');\r\n\r\nvar _merge2 = _interopRequireDefault(_merge);\r\n\r\nvar _common = require('../common');\r\n\r\nvar _SketchFields = require('./SketchFields');\r\n\r\nvar _SketchFields2 = _interopRequireDefault(_SketchFields);\r\n\r\nvar _SketchPresetColors = require('./SketchPresetColors');\r\n\r\nvar _SketchPresetColors2 = _interopRequireDefault(_SketchPresetColors);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar Sketch = exports.Sketch = function Sketch(_ref) {\r\n  var width = _ref.width,\r\n      rgb = _ref.rgb,\r\n      hex = _ref.hex,\r\n      hsv = _ref.hsv,\r\n      hsl = _ref.hsl,\r\n      onChange = _ref.onChange,\r\n      onSwatchHover = _ref.onSwatchHover,\r\n      disableAlpha = _ref.disableAlpha,\r\n      presetColors = _ref.presetColors,\r\n      renderers = _ref.renderers,\r\n      _ref$styles = _ref.styles,\r\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles,\r\n      _ref$className = _ref.className,\r\n      className = _ref$className === undefined ? '' : _ref$className;\r\n\r\n  var styles = (0, _reactcss2.default)((0, _merge2.default)({\r\n    'default': _extends({\r\n      // picker: {\r\n      //   width: width,\r\n      //   padding: '10px 10px 0',\r\n      //   boxSizing: 'initial',\r\n      //   background: '#fff',\r\n      //   borderRadius: '4px',\r\n      //   boxShadow: '0 0 0 1px rgba(0,0,0,.15)'\r\n      // },\r\n      saturation: {\r\n        width: '100%',\r\n        paddingBottom: '75%',\r\n        position: 'relative',\r\n        overflow: 'hidden'\r\n      },\r\n      Saturation: {\r\n        radius: '3px',\r\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      },\r\n      controls: {\r\n        display: 'flex',\r\n      },\r\n      sliders: {\r\n        padding: '4px 0',\r\n        flex: '1'\r\n      },\r\n      color: {\r\n        width: '24px',\r\n        height: '24px',\r\n        position: 'relative',\r\n        marginTop: '4px',\r\n        marginLeft: '4px',\r\n        borderRadius: '3px'\r\n      },\r\n      activeColor: {\r\n        absolute: '0px 0px 0px 0px',\r\n        borderRadius: '2px',\r\n        background: 'rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ',' + rgb.a + ')',\r\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      },\r\n      hue: {\r\n        position: 'relative',\r\n        height: '10px',\r\n        overflow: 'hidden',\r\n      },\r\n      Hue: {\r\n        radius: '2px',\r\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      },\r\n\r\n      alpha: {\r\n        position: 'relative',\r\n        height: '10px',\r\n        marginTop: '4px',\r\n        overflow: 'hidden'\r\n      },\r\n      Alpha: {\r\n        radius: '2px',\r\n        shadow: 'inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)'\r\n      }\r\n    }, passedStyles),\r\n    'disableAlpha': {\r\n      color: {\r\n        height: '10px'\r\n      },\r\n      hue: {\r\n        height: '10px'\r\n      },\r\n      alpha: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }, passedStyles), { disableAlpha: disableAlpha });\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.picker, className: 'sketch-picker ' + className },\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.saturation },\r\n      _react2.default.createElement(_common.Saturation, {\r\n        style: styles.Saturation,\r\n        hsl: hsl,\r\n        hsv: hsv,\r\n        onChange: onChange\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.controls, className: 'flexbox-fix' },\r\n      _react2.default.createElement(\r\n        'div',\r\n        { style: styles.sliders },\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.hue },\r\n          _react2.default.createElement(_common.Hue, {\r\n            style: styles.Hue,\r\n            hsl: hsl,\r\n            onChange: onChange\r\n          })\r\n        ),\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.alpha },\r\n          _react2.default.createElement(_common.Alpha, {\r\n            style: styles.Alpha,\r\n            rgb: rgb,\r\n            hsl: hsl,\r\n            renderers: renderers,\r\n            onChange: onChange\r\n          })\r\n        )\r\n      ),\r\n      _react2.default.createElement(\r\n        'div',\r\n        { style: styles.color },\r\n        _react2.default.createElement(_common.Checkboard, null),\r\n        _react2.default.createElement('div', { style: styles.activeColor })\r\n      )\r\n    ),\r\n    _react2.default.createElement(_SketchFields2.default, {\r\n      rgb: rgb,\r\n      hsl: hsl,\r\n      hex: hex,\r\n      onChange: onChange,\r\n      disableAlpha: disableAlpha\r\n    }),\r\n    _react2.default.createElement(_SketchPresetColors2.default, {\r\n      colors: presetColors,\r\n      onClick: onChange,\r\n      onSwatchHover: onSwatchHover\r\n    })\r\n  );\r\n};\r\n\r\nSketch.propTypes = {\r\n  disableAlpha: _propTypes2.default.bool,\r\n  width: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number]),\r\n  styles: _propTypes2.default.object\r\n};\r\n\r\nSketch.defaultProps = {\r\n  disableAlpha: false,\r\n  width: 200,\r\n  styles: {},\r\n  presetColors: ['#D0021B', '#F5A623', '#F8E71C', '#8B572A', '#7ED321', '#417505', '#BD10E0', '#9013FE', '#4A90E2', '#50E3C2', '#B8E986', '#000000', '#4A4A4A', '#9B9B9B', '#FFFFFF']\r\n};\r\n\r\nexports.default = (0, _common.ColorWrap)(Sketch);","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Alpha = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _alpha = require('../../helpers/alpha');\r\n\r\nvar alpha = _interopRequireWildcard(_alpha);\r\n\r\nvar _Checkboard = require('./Checkboard');\r\n\r\nvar _Checkboard2 = _interopRequireDefault(_Checkboard);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Alpha = exports.Alpha = function (_ref) {\r\n  _inherits(Alpha, _ref);\r\n\r\n  function Alpha() {\r\n    var _ref2;\r\n\r\n    var _temp, _this, _ret;\r\n\r\n    _classCallCheck(this, Alpha);\r\n\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = Alpha.__proto__ || Object.getPrototypeOf(Alpha)).call.apply(_ref2, [this].concat(args))), _this), _this.handleChange = function (e) {\r\n      var change = alpha.calculateChange(e, _this.props.hsl, _this.props.direction, _this.props.a, _this.container);\r\n      change && typeof _this.props.onChange === 'function' && _this.props.onChange(change, e);\r\n    }, _this.handleMouseDown = function (e) {\r\n      _this.handleChange(e);\r\n      window.addEventListener('mousemove', _this.handleChange);\r\n      window.addEventListener('mouseup', _this.handleMouseUp);\r\n    }, _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    }, _this.unbindEventListeners = function () {\r\n      window.removeEventListener('mousemove', _this.handleChange);\r\n      window.removeEventListener('mouseup', _this.handleMouseUp);\r\n    }, _temp), _possibleConstructorReturn(_this, _ret);\r\n  }\r\n\r\n  _createClass(Alpha, [{\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var rgb = this.props.rgb;\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          alpha: {\r\n            absolute: '0px 0px 0px 0px',\r\n            borderRadius: this.props.radius\r\n          },\r\n          checkboard: {\r\n            absolute: '0px 0px 0px 0px',\r\n            overflow: 'hidden',\r\n            borderRadius: this.props.radius\r\n          },\r\n          gradient: {\r\n            absolute: '0px 0px 0px 0px',\r\n            background: 'linear-gradient(to right, rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 0) 0%,\\n           rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 1) 100%)',\r\n            boxShadow: this.props.shadow,\r\n            borderRadius: this.props.radius\r\n          },\r\n          container: {\r\n            position: 'relative',\r\n            height: '100%',\r\n            margin: '0 3px'\r\n          },\r\n          pointer: {\r\n            position: 'absolute',\r\n            left: rgb.a * 100 + '%'\r\n          },\r\n          slider: {\r\n            width: '4px',\r\n            borderRadius: '1px',\r\n            height: '8px',\r\n            boxShadow: '0 0 2px rgba(0, 0, 0, .6)',\r\n            background: '#fff',\r\n            marginTop: '1px',\r\n            transform: 'translateX(-2px)'\r\n          }\r\n        },\r\n        'vertical': {\r\n          gradient: {\r\n            background: 'linear-gradient(to bottom, rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 0) 0%,\\n           rgba(' + rgb.r + ',' + rgb.g + ',' + rgb.b + ', 1) 100%)'\r\n          },\r\n          pointer: {\r\n            left: 0,\r\n            top: rgb.a * 100 + '%'\r\n          }\r\n        },\r\n        'overwrite': _extends({}, this.props.style)\r\n      }, {\r\n        vertical: this.props.direction === 'vertical',\r\n        overwrite: true\r\n      });\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: styles.alpha },\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.checkboard },\r\n          _react2.default.createElement(_Checkboard2.default, { renderers: this.props.renderers })\r\n        ),\r\n        _react2.default.createElement('div', { style: styles.gradient }),\r\n        _react2.default.createElement(\r\n          'div',\r\n          {\r\n            style: styles.container,\r\n            ref: function ref(container) {\r\n              return _this2.container = container;\r\n            },\r\n            onMouseDown: this.handleMouseDown,\r\n            onTouchMove: this.handleChange,\r\n            onTouchStart: this.handleChange\r\n          },\r\n          _react2.default.createElement(\r\n            'div',\r\n            { style: styles.pointer },\r\n            this.props.pointer ? _react2.default.createElement(this.props.pointer, this.props) : _react2.default.createElement('div', { style: styles.slider })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Alpha;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = Alpha;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar calculateChange = exports.calculateChange = function calculateChange(e, hsl, direction, initialA, container) {\r\n  var containerWidth = container.clientWidth;\r\n  var containerHeight = container.clientHeight;\r\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\r\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\r\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\r\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\r\n\r\n  if (direction === 'vertical') {\r\n    var a = void 0;\r\n    if (top < 0) {\r\n      a = 0;\r\n    } else if (top > containerHeight) {\r\n      a = 1;\r\n    } else {\r\n      a = Math.round(top * 100 / containerHeight) / 100;\r\n    }\r\n\r\n    if (hsl.a !== a) {\r\n      return {\r\n        h: hsl.h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  } else {\r\n    var _a = void 0;\r\n    if (left < 0) {\r\n      _a = 0;\r\n    } else if (left > containerWidth) {\r\n      _a = 1;\r\n    } else {\r\n      _a = Math.round(left * 100 / containerWidth) / 100;\r\n    }\r\n\r\n    if (initialA !== _a) {\r\n      return {\r\n        h: hsl.h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: _a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar checkboardCache = {};\r\n\r\nvar render = exports.render = function render(c1, c2, size, serverCanvas) {\r\n  if (typeof document === 'undefined' && !serverCanvas) {\r\n    return null;\r\n  }\r\n  var canvas = serverCanvas ? new serverCanvas() : document.createElement('canvas');\r\n  canvas.width = size * 2;\r\n  canvas.height = size * 2;\r\n  var ctx = canvas.getContext('2d');\r\n  if (!ctx) {\r\n    return null;\r\n  } // If no context can be found, return early.\r\n  ctx.fillStyle = c1;\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n  ctx.fillStyle = c2;\r\n  ctx.fillRect(0, 0, size, size);\r\n  ctx.translate(size, size);\r\n  ctx.fillRect(0, 0, size, size);\r\n  return canvas.toDataURL();\r\n};\r\n\r\nvar get = exports.get = function get(c1, c2, size, serverCanvas) {\r\n  var key = c1 + '-' + c2 + '-' + size + (serverCanvas ? '-server' : '');\r\n\r\n  if (checkboardCache[key]) {\r\n    return checkboardCache[key];\r\n  }\r\n\r\n  var checkboard = render(c1, c2, size, serverCanvas);\r\n  checkboardCache[key] = checkboard;\r\n  return checkboard;\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.EditableInput = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar DEFAULT_ARROW_OFFSET = 1;\r\n\r\nvar UP_KEY_CODE = 38;\r\nvar DOWN_KEY_CODE = 40;\r\nvar VALID_KEY_CODES = [UP_KEY_CODE, DOWN_KEY_CODE];\r\nvar isValidKeyCode = function isValidKeyCode(keyCode) {\r\n  return VALID_KEY_CODES.indexOf(keyCode) > -1;\r\n};\r\n\r\nvar getFormattedPercentage = function getFormattedPercentage(number) {\r\n  return number + '%';\r\n};\r\nvar getNumberValue = function getNumberValue(value) {\r\n  return Number(String(value).replace(/%/g, ''));\r\n};\r\nvar getIsPercentage = function getIsPercentage(value) {\r\n  return String(value).indexOf('%') > -1;\r\n};\r\n\r\nvar EditableInput = exports.EditableInput = function (_ref) {\r\n  _inherits(EditableInput, _ref);\r\n\r\n  function EditableInput(props) {\r\n    _classCallCheck(this, EditableInput);\r\n\r\n    var _this = _possibleConstructorReturn(this, (EditableInput.__proto__ || Object.getPrototypeOf(EditableInput)).call(this));\r\n\r\n    _this.handleBlur = function () {\r\n      if (_this.state.blurValue) {\r\n        _this.setState({ value: _this.state.blurValue, blurValue: null });\r\n      }\r\n    };\r\n\r\n    _this.handleChange = function (e) {\r\n      _this.setUpdatedValue(e.target.value, e);\r\n    };\r\n\r\n    _this.handleKeyDown = function (e) {\r\n      // In case `e.target.value` is a percentage remove the `%` character\r\n      // and update accordingly with a percentage\r\n      // https://github.com/casesandberg/react-color/issues/383\r\n      var value = getNumberValue(e.target.value);\r\n      if (!isNaN(value) && isValidKeyCode(e.keyCode)) {\r\n        var offset = _this.getArrowOffset();\r\n        var updatedValue = e.keyCode === UP_KEY_CODE ? value + offset : value - offset;\r\n\r\n        _this.setUpdatedValue(updatedValue, e);\r\n      }\r\n    };\r\n\r\n    _this.handleDrag = function (e) {\r\n      if (_this.props.dragLabel) {\r\n        var newValue = Math.round(_this.props.value + e.movementX);\r\n        if (newValue >= 0 && newValue <= _this.props.dragMax) {\r\n          _this.props.onChange && _this.props.onChange(_this.getValueObjectWithLabel(newValue), e);\r\n        }\r\n      }\r\n    };\r\n\r\n    _this.handleMouseDown = function (e) {\r\n      if (_this.props.dragLabel) {\r\n        e.preventDefault();\r\n        _this.handleDrag(e);\r\n        window.addEventListener('mousemove', _this.handleDrag);\r\n        window.addEventListener('mouseup', _this.handleMouseUp);\r\n      }\r\n    };\r\n\r\n    _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    };\r\n\r\n    _this.unbindEventListeners = function () {\r\n      window.removeEventListener('mousemove', _this.handleDrag);\r\n      window.removeEventListener('mouseup', _this.handleMouseUp);\r\n    };\r\n\r\n    _this.state = {\r\n      value: String(props.value).toUpperCase(),\r\n      blurValue: String(props.value).toUpperCase()\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  _createClass(EditableInput, [{\r\n    key: 'componentWillReceiveProps',\r\n    value: function componentWillReceiveProps(nextProps) {\r\n      var input = this.input;\r\n      if (nextProps.value !== this.state.value) {\r\n        if (input === document.activeElement) {\r\n          this.setState({ blurValue: String(nextProps.value).toUpperCase() });\r\n        } else {\r\n          this.setState({ value: String(nextProps.value).toUpperCase(), blurValue: !this.state.blurValue && String(nextProps.value).toUpperCase() });\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'getValueObjectWithLabel',\r\n    value: function getValueObjectWithLabel(value) {\r\n      return _defineProperty({}, this.props.label, value);\r\n    }\r\n  }, {\r\n    key: 'getArrowOffset',\r\n    value: function getArrowOffset() {\r\n      return this.props.arrowOffset || DEFAULT_ARROW_OFFSET;\r\n    }\r\n  }, {\r\n    key: 'setUpdatedValue',\r\n    value: function setUpdatedValue(value, e) {\r\n      var onChangeValue = this.props.label !== null ? this.getValueObjectWithLabel(value) : value;\r\n      this.props.onChange && this.props.onChange(onChangeValue, e);\r\n\r\n      var isPercentage = getIsPercentage(e.target.value);\r\n      this.setState({\r\n        value: isPercentage ? getFormattedPercentage(value) : value\r\n      });\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          wrap: {\r\n            position: 'relative'\r\n          }\r\n        },\r\n        'user-override': {\r\n          wrap: this.props.style && this.props.style.wrap ? this.props.style.wrap : {},\r\n          input: this.props.style && this.props.style.input ? this.props.style.input : {},\r\n          label: this.props.style && this.props.style.label ? this.props.style.label : {}\r\n        },\r\n        'dragLabel-true': {\r\n          label: {\r\n            cursor: 'ew-resize'\r\n          }\r\n        }\r\n      }, {\r\n        'user-override': true\r\n      }, this.props);\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: styles.wrap },\r\n        _react2.default.createElement('input', {\r\n          style: styles.input,\r\n          ref: function ref(input) {\r\n            return _this2.input = input;\r\n          },\r\n          value: this.state.value,\r\n          onKeyDown: this.handleKeyDown,\r\n          onChange: this.handleChange,\r\n          onBlur: this.handleBlur,\r\n          placeholder: this.props.placeholder,\r\n          spellCheck: 'false'\r\n        }),\r\n        this.props.label && !this.props.hideLabel ? _react2.default.createElement(\r\n          'span',\r\n          { style: styles.label, onMouseDown: this.handleMouseDown },\r\n          this.props.label\r\n        ) : null\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return EditableInput;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = EditableInput;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Hue = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _hue = require('../../helpers/hue');\r\n\r\nvar hue = _interopRequireWildcard(_hue);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Hue = exports.Hue = function (_ref) {\r\n  _inherits(Hue, _ref);\r\n\r\n  function Hue() {\r\n    var _ref2;\r\n\r\n    var _temp, _this, _ret;\r\n\r\n    _classCallCheck(this, Hue);\r\n\r\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n      args[_key] = arguments[_key];\r\n    }\r\n\r\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref2 = Hue.__proto__ || Object.getPrototypeOf(Hue)).call.apply(_ref2, [this].concat(args))), _this), _this.handleChange = function (e) {\r\n      var change = hue.calculateChange(e, _this.props.direction, _this.props.hsl, _this.container);\r\n      change && typeof _this.props.onChange === 'function' && _this.props.onChange(change, e);\r\n    }, _this.handleMouseDown = function (e) {\r\n      _this.handleChange(e);\r\n      window.addEventListener('mousemove', _this.handleChange);\r\n      window.addEventListener('mouseup', _this.handleMouseUp);\r\n    }, _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    }, _temp), _possibleConstructorReturn(_this, _ret);\r\n  }\r\n\r\n  _createClass(Hue, [{\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'unbindEventListeners',\r\n    value: function unbindEventListeners() {\r\n      window.removeEventListener('mousemove', this.handleChange);\r\n      window.removeEventListener('mouseup', this.handleMouseUp);\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var _props$direction = this.props.direction,\r\n          direction = _props$direction === undefined ? 'horizontal' : _props$direction;\r\n\r\n\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          hue: {\r\n            absolute: '0px 0px 0px 0px',\r\n            borderRadius: this.props.radius,\r\n            boxShadow: this.props.shadow\r\n          },\r\n          container: {\r\n            padding: '0 2px',\r\n            position: 'relative',\r\n            height: '100%',\r\n            borderRadius: this.props.radius\r\n          },\r\n          pointer: {\r\n            position: 'absolute',\r\n            left: this.props.hsl.h * 100 / 360 + '%'\r\n          },\r\n          slider: {\r\n            marginTop: '1px',\r\n            width: '4px',\r\n            borderRadius: '1px',\r\n            height: '8px',\r\n            boxShadow: '0 0 2px rgba(0, 0, 0, .6)',\r\n            background: '#fff',\r\n            transform: 'translateX(-2px)'\r\n          }\r\n        },\r\n        'vertical': {\r\n          pointer: {\r\n            left: '0px',\r\n            top: -(this.props.hsl.h * 100 / 360) + 100 + '%'\r\n          }\r\n        }\r\n      }, { vertical: direction === 'vertical' });\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { style: styles.hue },\r\n        _react2.default.createElement(\r\n          'div',\r\n          {\r\n            className: 'hue-' + direction,\r\n            style: styles.container,\r\n            ref: function ref(container) {\r\n              return _this2.container = container;\r\n            },\r\n            onMouseDown: this.handleMouseDown,\r\n            onTouchMove: this.handleChange,\r\n            onTouchStart: this.handleChange\r\n          },\r\n          _react2.default.createElement(\r\n            'style',\r\n            null,\r\n            '\\n            .hue-horizontal {\\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n\\n            .hue-vertical {\\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\\n            }\\n          '\r\n          ),\r\n          _react2.default.createElement(\r\n            'div',\r\n            { style: styles.pointer },\r\n            this.props.pointer ? _react2.default.createElement(this.props.pointer, this.props) : _react2.default.createElement('div', { style: styles.slider })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Hue;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = Hue;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar calculateChange = exports.calculateChange = function calculateChange(e, direction, hsl, container) {\r\n  var containerWidth = container.clientWidth;\r\n  var containerHeight = container.clientHeight;\r\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\r\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\r\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\r\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\r\n\r\n  if (direction === 'vertical') {\r\n    var h = void 0;\r\n    if (top < 0) {\r\n      h = 359;\r\n    } else if (top > containerHeight) {\r\n      h = 0;\r\n    } else {\r\n      var percent = -(top * 100 / containerHeight) + 100;\r\n      h = 360 * percent / 100;\r\n    }\r\n\r\n    if (hsl.h !== h) {\r\n      return {\r\n        h: h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: hsl.a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  } else {\r\n    var _h = void 0;\r\n    if (left < 0) {\r\n      _h = 0;\r\n    } else if (left > containerWidth) {\r\n      _h = 359;\r\n    } else {\r\n      var _percent = left * 100 / containerWidth;\r\n      _h = 360 * _percent / 100;\r\n    }\r\n\r\n    if (hsl.h !== _h) {\r\n      return {\r\n        h: _h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: hsl.a,\r\n        source: 'rgb'\r\n      };\r\n    }\r\n  }\r\n  return null;\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Raised = undefined;\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _merge = require('lodash/merge');\r\n\r\nvar _merge2 = _interopRequireDefault(_merge);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar Raised = exports.Raised = function Raised(_ref) {\r\n  var zDepth = _ref.zDepth,\r\n      radius = _ref.radius,\r\n      background = _ref.background,\r\n      children = _ref.children,\r\n      _ref$styles = _ref.styles,\r\n      passedStyles = _ref$styles === undefined ? {} : _ref$styles;\r\n\r\n  var styles = (0, _reactcss2.default)((0, _merge2.default)({\r\n    'default': {\r\n      wrap: {\r\n        position: 'relative',\r\n        display: 'inline-block'\r\n      },\r\n      content: {\r\n        position: 'relative'\r\n      },\r\n      bg: {\r\n        absolute: '0px 0px 0px 0px',\r\n        boxShadow: '0 ' + zDepth + 'px ' + zDepth * 4 + 'px rgba(0,0,0,.24)',\r\n        borderRadius: radius,\r\n        background: background\r\n      }\r\n    },\r\n    'zDepth-0': {\r\n      bg: {\r\n        boxShadow: 'none'\r\n      }\r\n    },\r\n\r\n    'zDepth-1': {\r\n      bg: {\r\n        boxShadow: '0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)'\r\n      }\r\n    },\r\n    'zDepth-2': {\r\n      bg: {\r\n        boxShadow: '0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)'\r\n      }\r\n    },\r\n    'zDepth-3': {\r\n      bg: {\r\n        boxShadow: '0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)'\r\n      }\r\n    },\r\n    'zDepth-4': {\r\n      bg: {\r\n        boxShadow: '0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)'\r\n      }\r\n    },\r\n    'zDepth-5': {\r\n      bg: {\r\n        boxShadow: '0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)'\r\n      }\r\n    },\r\n    'square': {\r\n      bg: {\r\n        borderRadius: '0'\r\n      }\r\n    },\r\n    'circle': {\r\n      bg: {\r\n        borderRadius: '50%'\r\n      }\r\n    }\r\n  }, passedStyles), { 'zDepth-1': zDepth === 1 });\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.wrap },\r\n    _react2.default.createElement('div', { style: styles.bg }),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.content },\r\n      children\r\n    )\r\n  );\r\n};\r\n\r\nRaised.propTypes = {\r\n  background: _propTypes2.default.string,\r\n  zDepth: _propTypes2.default.oneOf([0, 1, 2, 3, 4, 5]),\r\n  radius: _propTypes2.default.number,\r\n  styles: _propTypes2.default.object\r\n};\r\n\r\nRaised.defaultProps = {\r\n  background: '#fff',\r\n  zDepth: 1,\r\n  radius: 2,\r\n  styles: {}\r\n};\r\n\r\nexports.default = Raised;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Saturation = undefined;\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _throttle = require('lodash/throttle');\r\n\r\nvar _throttle2 = _interopRequireDefault(_throttle);\r\n\r\nvar _saturation = require('../../helpers/saturation');\r\n\r\nvar saturation = _interopRequireWildcard(_saturation);\r\n\r\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar Saturation = exports.Saturation = function (_ref) {\r\n  _inherits(Saturation, _ref);\r\n\r\n  function Saturation(props) {\r\n    _classCallCheck(this, Saturation);\r\n\r\n    var _this = _possibleConstructorReturn(this, (Saturation.__proto__ || Object.getPrototypeOf(Saturation)).call(this, props));\r\n\r\n    _this.handleChange = function (e) {\r\n      typeof _this.props.onChange === 'function' && _this.throttle(_this.props.onChange, saturation.calculateChange(e, _this.props.hsl, _this.container), e);\r\n    };\r\n\r\n    _this.handleMouseDown = function (e) {\r\n      _this.handleChange(e);\r\n      window.addEventListener('mousemove', _this.handleChange);\r\n      window.addEventListener('mouseup', _this.handleMouseUp);\r\n    };\r\n\r\n    _this.handleMouseUp = function () {\r\n      _this.unbindEventListeners();\r\n    };\r\n\r\n    _this.throttle = (0, _throttle2.default)(function (fn, data, e) {\r\n      fn(data, e);\r\n    }, 50);\r\n    return _this;\r\n  }\r\n\r\n  _createClass(Saturation, [{\r\n    key: 'componentWillUnmount',\r\n    value: function componentWillUnmount() {\r\n      this.throttle.cancel();\r\n      this.unbindEventListeners();\r\n    }\r\n  }, {\r\n    key: 'unbindEventListeners',\r\n    value: function unbindEventListeners() {\r\n      window.removeEventListener('mousemove', this.handleChange);\r\n      window.removeEventListener('mouseup', this.handleMouseUp);\r\n    }\r\n  }, {\r\n    key: 'render',\r\n    value: function render() {\r\n      var _this2 = this;\r\n\r\n      var _ref2 = this.props.style || {},\r\n          color = _ref2.color,\r\n          white = _ref2.white,\r\n          black = _ref2.black,\r\n          pointer = _ref2.pointer,\r\n          circle = _ref2.circle;\r\n\r\n      var styles = (0, _reactcss2.default)({\r\n        'default': {\r\n          color: {\r\n            absolute: '0px 0px 0px 0px',\r\n            background: 'hsl(' + this.props.hsl.h + ',100%, 50%)',\r\n            borderRadius: this.props.radius\r\n          },\r\n          white: {\r\n            absolute: '0px 0px 0px 0px',\r\n            borderRadius: this.props.radius\r\n          },\r\n          black: {\r\n            absolute: '0px 0px 0px 0px',\r\n            boxShadow: this.props.shadow,\r\n            borderRadius: this.props.radius\r\n          },\r\n          pointer: {\r\n            position: 'absolute',\r\n            top: -(this.props.hsv.v * 100) + 100 + '%',\r\n            left: this.props.hsv.s * 100 + '%',\r\n            cursor: 'grab'\r\n          },\r\n          circle: {\r\n            width: '5px',\r\n            height: '5px',\r\n            boxShadow: '0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\\n            0 0 1px 2px rgba(0,0,0,.4)',\r\n            borderRadius: '50%',\r\n            cursor: 'grab',\r\n            transform: 'translate(-2px, -2px)'\r\n          }\r\n        },\r\n        'custom': {\r\n          color: color,\r\n          white: white,\r\n          black: black,\r\n          pointer: pointer,\r\n          circle: circle\r\n        }\r\n      }, { 'custom': !!this.props.style });\r\n\r\n      return _react2.default.createElement(\r\n        'div',\r\n        {\r\n          style: styles.color,\r\n          ref: function ref(container) {\r\n            return _this2.container = container;\r\n          },\r\n          onMouseDown: this.handleMouseDown,\r\n          onTouchMove: this.handleChange,\r\n          onTouchStart: this.handleChange\r\n        },\r\n        _react2.default.createElement(\r\n          'style',\r\n          null,\r\n          '\\n          .saturation-white {\\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\\n          }\\n          .saturation-black {\\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\\n          }\\n        '\r\n        ),\r\n        _react2.default.createElement(\r\n          'div',\r\n          { style: styles.white, className: 'saturation-white' },\r\n          _react2.default.createElement('div', { style: styles.black, className: 'saturation-black' }),\r\n          _react2.default.createElement(\r\n            'div',\r\n            { style: styles.pointer },\r\n            this.props.pointer ? _react2.default.createElement(this.props.pointer, this.props) : _react2.default.createElement('div', { style: styles.circle })\r\n          )\r\n        )\r\n      );\r\n    }\r\n  }]);\r\n\r\n  return Saturation;\r\n}(_react.PureComponent || _react.Component);\r\n\r\nexports.default = Saturation;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nvar calculateChange = exports.calculateChange = function calculateChange(e, hsl, container) {\r\n  var _container$getBoundin = container.getBoundingClientRect(),\r\n      containerWidth = _container$getBoundin.width,\r\n      containerHeight = _container$getBoundin.height;\r\n\r\n  var x = typeof e.pageX === 'number' ? e.pageX : e.touches[0].pageX;\r\n  var y = typeof e.pageY === 'number' ? e.pageY : e.touches[0].pageY;\r\n  var left = x - (container.getBoundingClientRect().left + window.pageXOffset);\r\n  var top = y - (container.getBoundingClientRect().top + window.pageYOffset);\r\n\r\n  if (left < 0) {\r\n    left = 0;\r\n  } else if (left > containerWidth) {\r\n    left = containerWidth;\r\n  } else if (top < 0) {\r\n    top = 0;\r\n  } else if (top > containerHeight) {\r\n    top = containerHeight;\r\n  }\r\n\r\n  var saturation = left * 100 / containerWidth;\r\n  var bright = -(top * 100 / containerHeight) + 100;\r\n\r\n  return {\r\n    h: hsl.h,\r\n    s: saturation,\r\n    v: bright,\r\n    a: hsl.a,\r\n    source: 'rgb'\r\n  };\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.ColorWrap = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _debounce = require('lodash/debounce');\r\n\r\nvar _debounce2 = _interopRequireDefault(_debounce);\r\n\r\nvar _color = require('../../helpers/color');\r\n\r\nvar _color2 = _interopRequireDefault(_color);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\r\n\r\nvar ColorWrap = exports.ColorWrap = function ColorWrap(Picker) {\r\n  var ColorPicker = function (_ref) {\r\n    _inherits(ColorPicker, _ref);\r\n\r\n    function ColorPicker(props) {\r\n      _classCallCheck(this, ColorPicker);\r\n\r\n      var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this));\r\n\r\n      _this.handleChange = function (data, event) {\r\n        var isValidColor = _color2.default.simpleCheckForValidColor(data);\r\n        if (isValidColor) {\r\n          var colors = _color2.default.toState(data, data.h || _this.state.oldHue);\r\n          _this.setState(colors);\r\n          _this.props.onChangeComplete && _this.debounce(_this.props.onChangeComplete, colors, event);\r\n          _this.props.onChange && _this.props.onChange(colors, event);\r\n        }\r\n      };\r\n\r\n      _this.handleSwatchHover = function (data, event) {\r\n        var isValidColor = _color2.default.simpleCheckForValidColor(data);\r\n        if (isValidColor) {\r\n          var colors = _color2.default.toState(data, data.h || _this.state.oldHue);\r\n          _this.props.onSwatchHover && _this.props.onSwatchHover(colors, event);\r\n        }\r\n      };\r\n\r\n      _this.state = _extends({}, _color2.default.toState(props.color, 0));\r\n\r\n      _this.debounce = (0, _debounce2.default)(function (fn, data, event) {\r\n        fn(data, event);\r\n      }, 100);\r\n      return _this;\r\n    }\r\n\r\n    _createClass(ColorPicker, [{\r\n      key: 'componentWillReceiveProps',\r\n      value: function componentWillReceiveProps(nextProps) {\r\n        this.setState(_extends({}, _color2.default.toState(nextProps.color, this.state.oldHue)));\r\n      }\r\n    }, {\r\n      key: 'render',\r\n      value: function render() {\r\n        var optionalEvents = {};\r\n        if (this.props.onSwatchHover) {\r\n          optionalEvents.onSwatchHover = this.handleSwatchHover;\r\n        }\r\n\r\n        return _react2.default.createElement(Picker, _extends({}, this.props, this.state, {\r\n          onChange: this.handleChange\r\n        }, optionalEvents));\r\n      }\r\n    }]);\r\n\r\n    return ColorPicker;\r\n  }(_react.PureComponent || _react.Component);\r\n\r\n  ColorPicker.propTypes = _extends({}, Picker.propTypes);\r\n\r\n  ColorPicker.defaultProps = _extends({}, Picker.defaultProps, {\r\n    color: {\r\n      h: 250,\r\n      s: 0.50,\r\n      l: 0.20,\r\n      a: 1\r\n    }\r\n  });\r\n\r\n  return ColorPicker;\r\n};\r\n\r\nexports.default = ColorWrap;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Swatch = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _interaction = require('../../helpers/interaction');\r\n\r\nvar _Checkboard = require('./Checkboard');\r\n\r\nvar _Checkboard2 = _interopRequireDefault(_Checkboard);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar ENTER = 13;\r\n\r\nvar Swatch = exports.Swatch = function Swatch(_ref) {\r\n  var color = _ref.color,\r\n      style = _ref.style,\r\n      _ref$onClick = _ref.onClick,\r\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\r\n      onHover = _ref.onHover,\r\n      _ref$title = _ref.title,\r\n      title = _ref$title === undefined ? color : _ref$title,\r\n      children = _ref.children,\r\n      focus = _ref.focus,\r\n      _ref$focusStyle = _ref.focusStyle,\r\n      focusStyle = _ref$focusStyle === undefined ? {} : _ref$focusStyle;\r\n\r\n  var transparent = color === 'transparent';\r\n  var styles = (0, _reactcss2.default)({\r\n    default: {\r\n      swatch: _extends({\r\n        background: color,\r\n        height: '100%',\r\n        width: '100%',\r\n        cursor: 'pointer',\r\n        position: 'relative',\r\n        outline: 'none'\r\n      }, style, focus ? focusStyle : {})\r\n    }\r\n  });\r\n\r\n  var handleClick = function handleClick(e) {\r\n    return onClick(color, e);\r\n  };\r\n  var handleKeyDown = function handleKeyDown(e) {\r\n    return e.keyCode === ENTER && onClick(color, e);\r\n  };\r\n  var handleHover = function handleHover(e) {\r\n    return onHover(color, e);\r\n  };\r\n\r\n  var optionalEvents = {};\r\n  if (onHover) {\r\n    optionalEvents.onMouseOver = handleHover;\r\n  }\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    _extends({\r\n      style: styles.swatch,\r\n      onClick: handleClick,\r\n      title: title,\r\n      tabIndex: 0,\r\n      onKeyDown: handleKeyDown\r\n    }, optionalEvents),\r\n    children,\r\n    transparent && _react2.default.createElement(_Checkboard2.default, {\r\n      borderRadius: styles.swatch.borderRadius,\r\n      boxShadow: 'inset 0 0 0 1px rgba(0,0,0,0.1)'\r\n    })\r\n  );\r\n};\r\n\r\nexports.default = (0, _interaction.handleFocus)(Swatch);","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.handleFocus = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\r\n\r\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /* eslint-disable no-invalid-this */\r\n\r\n\r\nvar handleFocus = exports.handleFocus = function handleFocus(Component) {\r\n  var Span = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'span';\r\n  return function (_React$Component) {\r\n    _inherits(Focus, _React$Component);\r\n\r\n    function Focus() {\r\n      var _ref;\r\n\r\n      var _temp, _this, _ret;\r\n\r\n      _classCallCheck(this, Focus);\r\n\r\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\r\n        args[_key] = arguments[_key];\r\n      }\r\n\r\n      return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Focus.__proto__ || Object.getPrototypeOf(Focus)).call.apply(_ref, [this].concat(args))), _this), _this.state = { focus: false }, _this.handleFocus = function () {\r\n        return _this.setState({ focus: true });\r\n      }, _this.handleBlur = function () {\r\n        return _this.setState({ focus: false });\r\n      }, _temp), _possibleConstructorReturn(_this, _ret);\r\n    }\r\n\r\n    _createClass(Focus, [{\r\n      key: 'render',\r\n      value: function render() {\r\n        return _react2.default.createElement(\r\n          Span,\r\n          { onFocus: this.handleFocus, onBlur: this.handleBlur },\r\n          _react2.default.createElement(Component, _extends({}, this.props, this.state))\r\n        );\r\n      }\r\n    }]);\r\n\r\n    return Focus;\r\n  }(_react2.default.Component);\r\n};","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SketchFields = undefined;\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _color = require('../../helpers/color');\r\n\r\nvar _color2 = _interopRequireDefault(_color);\r\n\r\nvar _common = require('../common');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\n/* eslint-disable no-param-reassign */\r\n\r\nvar SketchFields = exports.SketchFields = function SketchFields(_ref) {\r\n  var onChange = _ref.onChange,\r\n      rgb = _ref.rgb,\r\n      hsl = _ref.hsl,\r\n      hex = _ref.hex,\r\n      disableAlpha = _ref.disableAlpha;\r\n\r\n  var styles = (0, _reactcss2.default)({\r\n    'default': {\r\n      fields: {\r\n        display: 'flex',\r\n        paddingTop: '4px'\r\n      },\r\n      single: {\r\n        flex: '1',\r\n        paddingLeft: '6px'\r\n      },\r\n      alpha: {\r\n        flex: '1',\r\n        paddingLeft: '6px'\r\n      },\r\n      double: {\r\n        flex: '2'\r\n      },\r\n      input: {\r\n        width: '80%',\r\n        padding: '4px 10% 3px',\r\n        border: 'none',\r\n        boxShadow: 'inset 0 0 0 1px #ccc',\r\n        fontSize: '11px'\r\n      },\r\n      label: {\r\n        display: 'block',\r\n        textAlign: 'center',\r\n        fontSize: '11px',\r\n        paddingTop: '3px',\r\n        paddingBottom: '4px',\r\n        textTransform: 'capitalize'\r\n      }\r\n    },\r\n    'disableAlpha': {\r\n      alpha: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }, { disableAlpha: disableAlpha });\r\n\r\n  var handleChange = function handleChange(data, e) {\r\n    if (data.hex) {\r\n      _color2.default.isValidHex(data.hex) && onChange({\r\n        hex: data.hex,\r\n        source: 'hex'\r\n      }, e);\r\n    } else if (data.r || data.g || data.b) {\r\n      onChange({\r\n        r: data.r || rgb.r,\r\n        g: data.g || rgb.g,\r\n        b: data.b || rgb.b,\r\n        a: rgb.a,\r\n        source: 'rgb'\r\n      }, e);\r\n    } else if (data.a) {\r\n      if (data.a < 0) {\r\n        data.a = 0;\r\n      } else if (data.a > 100) {\r\n        data.a = 100;\r\n      }\r\n\r\n      data.a /= 100;\r\n      onChange({\r\n        h: hsl.h,\r\n        s: hsl.s,\r\n        l: hsl.l,\r\n        a: data.a,\r\n        source: 'rgb'\r\n      }, e);\r\n    }\r\n  };\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.fields, className: 'flexbox-fix' },\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.double },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'hex',\r\n        value: hex.replace('#', ''),\r\n        onChange: handleChange\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.single },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'r',\r\n        value: rgb.r,\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '255'\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.single },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'g',\r\n        value: rgb.g,\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '255'\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.single },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'b',\r\n        value: rgb.b,\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '255'\r\n      })\r\n    ),\r\n    _react2.default.createElement(\r\n      'div',\r\n      { style: styles.alpha },\r\n      _react2.default.createElement(_common.EditableInput, {\r\n        style: { input: styles.input, label: styles.label },\r\n        label: 'a',\r\n        value: Math.round(rgb.a * 100),\r\n        onChange: handleChange,\r\n        dragLabel: 'true',\r\n        dragMax: '100'\r\n      })\r\n    )\r\n  );\r\n};\r\n\r\nexports.default = SketchFields;","Object.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.SketchPresetColors = undefined;\r\n\r\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\r\n\r\nvar _react = require('react');\r\n\r\nvar _react2 = _interopRequireDefault(_react);\r\n\r\nvar _propTypes = require('prop-types');\r\n\r\nvar _propTypes2 = _interopRequireDefault(_propTypes);\r\n\r\nvar _reactcss = require('reactcss');\r\n\r\nvar _reactcss2 = _interopRequireDefault(_reactcss);\r\n\r\nvar _common = require('../common');\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nvar SketchPresetColors = exports.SketchPresetColors = function SketchPresetColors(_ref) {\r\n  var colors = _ref.colors,\r\n      _ref$onClick = _ref.onClick,\r\n      onClick = _ref$onClick === undefined ? function () {} : _ref$onClick,\r\n      onSwatchHover = _ref.onSwatchHover;\r\n\r\n  var styles = (0, _reactcss2.default)({\r\n    'default': {\r\n      colors: {\r\n        margin: '0 -10px',\r\n        padding: '10px 0 0 10px',\r\n        borderTop: '1px solid #80808040',\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        position: 'relative'\r\n      },\r\n      swatchWrap: {\r\n        width: '16px',\r\n        height: '16px',\r\n        margin: '0 10px 10px 0'\r\n      },\r\n      swatch: {\r\n        borderRadius: '3px',\r\n        boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15)'\r\n      }\r\n    },\r\n    'no-presets': {\r\n      colors: {\r\n        display: 'none'\r\n      }\r\n    }\r\n  }, {\r\n    'no-presets': !colors || !colors.length\r\n  });\r\n\r\n  var handleClick = function handleClick(hex, e) {\r\n    onClick({\r\n      hex: hex,\r\n      source: 'hex'\r\n    }, e);\r\n  };\r\n\r\n  return _react2.default.createElement(\r\n    'div',\r\n    { style: styles.colors, className: 'flexbox-fix' },\r\n    colors.map(function (colorObjOrString) {\r\n      var c = typeof colorObjOrString === 'string' ? { color: colorObjOrString } : colorObjOrString;\r\n      var key = '' + c.color + (c.title || '');\r\n      return _react2.default.createElement(\r\n        'div',\r\n        { key: key, style: styles.swatchWrap },\r\n        _react2.default.createElement(_common.Swatch, _extends({}, c, {\r\n          style: styles.swatch,\r\n          onClick: handleClick,\r\n          onHover: onSwatchHover,\r\n          focusStyle: {\r\n            boxShadow: 'inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px ' + c.color\r\n          }\r\n        }))\r\n      );\r\n    })\r\n  );\r\n};\r\n\r\nSketchPresetColors.propTypes = {\r\n  colors: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.shape({\r\n    color: _propTypes2.default.string,\r\n    title: _propTypes2.default.string\r\n  })])).isRequired\r\n};\r\n\r\nexports.default = SketchPresetColors;","import { combineReducers, createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\n\r\nimport lightsReducer from './lightsReducer';\r\nimport groupsReducer from './groupsReducer';\r\nimport scenesReducer from './scenesReducer';\r\nimport schedulesReducer from './schedulesReducer';\r\nimport rulesReducer from './rulesReducer';\r\nimport sensorsReducer from './sensorsReducer';\r\nimport activeReducer from './activeReducer';\r\nimport settingsReducer from './settingsReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  lights: lightsReducer,\r\n  groups: groupsReducer,\r\n  scenes: scenesReducer,\r\n  schedules: schedulesReducer,\r\n  rules: rulesReducer,\r\n  sensors: sensorsReducer,\r\n  active: activeReducer,\r\n  settings: settingsReducer\r\n});\r\n\r\nconst store = createStore(rootReducer, {}, applyMiddleware(thunk));\r\n\r\nexport default store;\r\n","import { FETCH_LIGHTS } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_LIGHTS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","export const FETCH_GROUPS = \"fetch_groups\";\r\nexport const SET_GROUP = \"set_group\";\r\nexport const SET_ACTIVE_GROUP = \"set_active_group\";\r\n\r\nexport const FETCH_LIGHTS = \"fetch_lights\";\r\nexport const SET_LIGHT = \"set_light\";\r\nexport const SET_ACTIVE_LIGHT = \"set_active_light\";\r\n\r\nexport const FETCH_SCENES = \"fetch_scenes\";\r\nexport const SET_ACTIVE_SCENE = \"set_active_scene\";\r\n\r\nexport const FETCH_SCHEDULES = \"fetch_schedules\";\r\n\r\nexport const FETCH_RULES = \"fetch_rules\";\r\n\r\nexport const FETCH_SENSORS = \"fetch_sensors\";\r\n\r\nexport const INITIALIZE_APP = \"initialize_app\";\r\nexport const INITIALIZE_ERROR = \"initialize_error\";\r\nexport const CREATE_USER = \"create_user\";\r\nexport const SET_THEME = \"set_theme\";\r\nexport const SET_VIEW = \"set_view\";\r\nexport const SET_EXPANDED = \"set_expanded\";\r\nexport const TOGGLE_EXPANDED = \"toggle_expanded\";\r\n","import { FETCH_GROUPS, SET_GROUP } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_GROUPS:\r\n      return action.payload;\r\n    case SET_GROUP:\r\n      return state.map(group => {\r\n        if (group.id === action.payload.id) {\r\n          return action.payload;\r\n        }\r\n        return group;\r\n      });\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_SCENES } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_SCENES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_SCHEDULES } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_SCHEDULES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_RULES } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_RULES:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { FETCH_SENSORS } from \"../actions/types\";\r\n\r\nexport default (state = [], action) => {\r\n  switch (action.type) {\r\n    case FETCH_SENSORS:\r\n      return action.payload;\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { SET_ACTIVE_LIGHT, SET_ACTIVE_GROUP, SET_ACTIVE_SCENE } from \"../actions/types\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case SET_ACTIVE_LIGHT:\r\n      if (state.light && state.light.id === action.payload.id) {\r\n        return { ...state, light: null };\r\n      }\r\n      return { ...state, light: action.payload, group: null };\r\n    case SET_ACTIVE_GROUP:\r\n      if (state.group === action.payload) {\r\n        return { ...state, group: null, light: null };\r\n      }\r\n      return { ...state, group: action.payload, light: null };\r\n    case SET_ACTIVE_SCENE:\r\n      return { ...state, scene: action.payload }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  INITIALIZE_APP,\r\n  INITIALIZE_ERROR,\r\n  CREATE_USER,\r\n  SET_THEME,\r\n  SET_VIEW,\r\n  SET_EXPANDED,\r\n  TOGGLE_EXPANDED\r\n} from \"../actions/types\";\r\n\r\nexport default (\r\n  state = { theme: \"inverted\", expandAll: false, expanded: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case INITIALIZE_APP:\r\n      return { ...state, ...action.payload, error: null };\r\n    case CREATE_USER:\r\n      return {\r\n        ...state,\r\n        ip: action.payload.ip,\r\n        username: action.payload.username,\r\n        error: null\r\n      };\r\n    case INITIALIZE_ERROR:\r\n      return { ...state, error: action.payload };\r\n    case SET_THEME:\r\n      return { ...state, theme: action.payload };\r\n    case SET_VIEW:\r\n      return { ...state, view: action.payload };\r\n    case TOGGLE_EXPANDED:\r\n      return state.expandAll\r\n        ? { ...state, expandAll: !state.expandAll, expanded: [] }\r\n        : { ...state, expandAll: !state.expandAll, expanded: action.payload };\r\n    case SET_EXPANDED:\r\n      return state.expanded.includes(action.payload)\r\n        ? { ...state, expanded: state.expanded.filter(it => it !== action.payload) }\r\n        : { ...state, expanded: [...state.expanded, action.payload] };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import axios from \"axios\";\r\n\r\nconst deviceAddress = localStorage.getItem(\"ip\");\r\nconst username = localStorage.getItem(\"username\");\r\n\r\nexport default axios.create({\r\n  baseURL: `https://${deviceAddress}/api/${username}`\r\n});\r\n","import Hue from \"../api/Hue\";\r\nimport * as Mock from \"../__mock__\";\r\nimport {\r\n  FETCH_LIGHTS,\r\n  SET_ACTIVE_LIGHT\r\n} from \"./types\";\r\nimport { setActiveScene } from \".\";\r\n\r\nexport const fetchLights = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/lights\");\r\n  dispatch(updateLights(data));\r\n};\r\n\r\nexport const updateLights = data => dispatch => {\r\n  const lights = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_LIGHTS,\r\n    payload: lights\r\n  });\r\n}\r\n\r\nexport const setLight = (light, clearActiveScene = true) => async dispatch => {\r\n  await Hue.put(`/lights/${light.id}/state`, light.state);\r\n  // If malformed request, return early\r\n  // if(response.data.filter(it => it.error)) {\r\n  //   return;\r\n  // }\r\n  dispatch(fetchLights());\r\n\r\n  if (clearActiveScene) {\r\n    dispatch(setActiveScene(null));\r\n  }\r\n};\r\n\r\nexport const alertLight = light => async () => {\r\n  await Hue.put(`/lights/${light.id}/state`, { alert: \"select\" });\r\n  await Hue.put(`/lights/${light.id}/state`, { alert: \"none\" });\r\n};\r\n\r\nexport const toggleLight = light => async dispatch => {\r\n  await Hue.put(`/lights/${light.id}/state`, { on: !light.state.on });\r\n  dispatch(fetchLights());\r\n};\r\n\r\nexport const setActiveLight = (light, group) => dispatch => {\r\n  dispatch({\r\n    type: SET_ACTIVE_LIGHT,\r\n    payload: { ...light, group }\r\n  });\r\n};","import Hue from \"../api/Hue\";\r\nimport * as Mock from \"../__mock__\";\r\nimport {\r\n  FETCH_GROUPS,\r\n  FETCH_LIGHTS,\r\n  SET_GROUP,\r\n  SET_ACTIVE_GROUP\r\n} from \"./types\";\r\nimport { setActiveScene } from \".\";\r\n\r\nexport const fetchGroups = () => async dispatch => {\r\n  const groupsResponse = await Hue.get(\"/groups\");\r\n  const lightsResponse = await Hue.get(\"/lights\");\r\n\r\n  if (\r\n    Array.isArray(groupsResponse.data) ||\r\n    Array.isArray(lightsResponse.data)\r\n  ) {\r\n    // dispatch({\r\n    //   type: INITIALIZE_APP,\r\n    //   payload: { error: groupsData.data[0].error.description }\r\n    // });\r\n    return;\r\n  }\r\n\r\n  dispatch(updateGroups(lightsResponse.data, groupsResponse.data));\r\n};\r\n\r\nexport const updateGroups = (lightsData, groupsData) => dispatch => {\r\n  // Apply IDs to lights\r\n  const lights = Object.keys(lightsData).map(key => ({\r\n    ...lightsData[key],\r\n    id: key\r\n  }));\r\n\r\n  // Apply light colors to group\r\n  const groups = Object.keys(groupsData).map(key => ({\r\n    ...groupsData[key],\r\n    id: key,\r\n    colors: lights\r\n      .filter(light => groupsData[key].lights.includes(light.id))\r\n      .map(light => light.state)\r\n  }));\r\n\r\n  // // Apply light colors to group\r\n  // const groups = Object.values(groupsData.data).map(group => {\r\n  //   const colors = lights\r\n  //     .filter(light => group.lights.includes(light.id))\r\n  //     .map(light => light.state);\r\n  //   return { ...group, colors };\r\n  // });\r\n\r\n  dispatch({\r\n    type: FETCH_GROUPS,\r\n    payload: groups\r\n  });\r\n\r\n  dispatch({\r\n    type: FETCH_LIGHTS,\r\n    payload: lights\r\n  });\r\n};\r\n\r\nexport const setGroup = (group, clearActiveScene = true) => async dispatch => {\r\n  await Hue.put(`/groups/${group.id}/action`, group.action);\r\n  dispatch(fetchGroups());\r\n\r\n  // TODO: keep scene active when changing the group's state??\r\n  // if (clearActiveScene) {\r\n  //   dispatch(setActiveScene(null));\r\n  // }\r\n};\r\n\r\nexport const alertGroup = group => async () => {\r\n  await Hue.put(`/groups/${group.id}/action`, { alert: \"select\" });\r\n  await Hue.put(`/groups/${group.id}/action`, { alert: \"none\" });\r\n};\r\n\r\nexport const toggleGroup = group => async dispatch => {\r\n  await Hue.put(`/groups/${group.id}/action`, {\r\n    on: !group.state.any_on\r\n  });\r\n  // TODO: FIX\r\n  dispatch({\r\n    type: SET_GROUP,\r\n    payload: {\r\n      ...group,\r\n      state: { ...group.state, any_on: !group.state.any_on }\r\n    }\r\n  });\r\n};\r\n\r\nexport const setActiveGroup = group => dispatch => {\r\n  dispatch({\r\n    type: SET_ACTIVE_GROUP,\r\n    payload: group\r\n  });\r\n};\r\n\r\nexport const createGroup = group => async dispatch => {\r\n  const response = await Hue.post(\"/groups\", group);\r\n  if (response.data[0].error) {\r\n    return { error: response.data[0].error.description };\r\n  } else {\r\n    dispatch(fetchGroups());\r\n    return { success: response.data };\r\n  }\r\n};\r\n\r\nexport const deleteGroup = id => async dispatch => {\r\n  const response = await Hue.delete(`/groups/${id}`);\r\n  if (response.data[0].error) {\r\n    // TODO: handle like create\r\n    window.alert(`Error: ${response.data[0].error.description}`);\r\n  }\r\n\r\n  dispatch(fetchGroups());\r\n};\r\n\r\nexport const addLight = (group, light) => async dispatch => {\r\n  await Hue.put(`/groups/${group.id}/lights`, [...group.lights, light.id]);\r\n  dispatch(fetchGroups());\r\n};\r\n\r\nexport const removeLight = light => async dispatch => {\r\n  const response = await Hue.put(`/groups/${light.group.id}`, {\r\n    lights: light.group.lights.filter(id => id !== light.id)\r\n  });\r\n  // console.log(response);\r\n  // TODO: check for errors and display relevant popup\r\n  dispatch(fetchGroups());\r\n};\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_SCENES, SET_ACTIVE_SCENE } from \"./types\";\r\n\r\nexport const fetchScenes = () => async dispatch => {\r\n  const response = await Hue.get(\"/scenes\");\r\n\r\n  dispatch(updateScenes(response.data));\r\n\r\n  // dispatch(storeSceneInfo(response.data));\r\n  // localStorage.setItem(\"scenes\", JSON.stringify(response.data));\r\n};\r\n\r\nexport const updateScenes = data => dispatch => {\r\n  const scenes = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_SCENES,\r\n    payload: scenes\r\n  });\r\n};\r\n\r\nexport const createScene = scene => async dispatch => {\r\n  const response = await Hue.post(\"/scenes\", scene);\r\n  if (response.data[0].error) {\r\n    return { error: response.data[0].error.description };\r\n  } else {\r\n    dispatch(fetchScenes());\r\n    dispatch(setActiveScene({ id: response.data[0].success.id }));\r\n    return { success: response.data[0].success }\r\n  }\r\n};\r\n\r\nexport const deleteScene = id => async dispatch => {\r\n  await Hue.delete(`/scenes/${id}`);\r\n  dispatch(fetchScenes());\r\n  dispatch(setActiveScene(null));\r\n};\r\n\r\nexport const modifyScene = scene => async dispatch => {\r\n  const response = await Hue.put(`/scenes/${scene.id}`, { lightstates: scene.lightstates });\r\n  \r\n  if (response.data[0].error) {\r\n    return { error: response.data[0].error.description };\r\n  } else {\r\n    dispatch(fetchScenes());\r\n    // dispatch(setActiveScene({ id: response.data[0].success.id }));\r\n    return { success: true }\r\n  }\r\n};\r\n\r\nexport const setActiveScene = scene => dispatch => {\r\n  dispatch({\r\n    type: SET_ACTIVE_SCENE,\r\n    payload: scene\r\n  });\r\n};\r\n\r\n// export const storeSceneInfo = scenes => async dispatch => {\r\n//   const promises = Object.keys(scenes).map(id => {\r\n//     console.log(\"promised\");\r\n//     return Hue.get(`/scenes/${id}`);\r\n//   });\r\n//   const sceneInfo = await Promise.all(promises);\r\n\r\n//   console.log(sceneInfo);\r\n//   scenes.forEach()\r\n// }\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_SCHEDULES } from \"./types\";\r\n\r\nexport const fetchSchedules = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/schedules\");\r\n  dispatch(updateSchedules(data));\r\n};\r\n\r\nexport const updateSchedules = data => dispatch => {\r\n  const schedules = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_SCHEDULES,\r\n    payload: schedules\r\n  });\r\n};\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_RULES } from \"./types\";\r\n\r\nexport const fetchRules = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/rules\");\r\n  dispatch(updateRules(data));\r\n};\r\n\r\nexport const updateRules = data => dispatch => {\r\n  const rules = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_RULES,\r\n    payload: rules\r\n  });\r\n};\r\n","import Hue from \"../api/Hue\";\r\nimport { FETCH_SENSORS } from \"./types\";\r\n\r\nexport const fetchSensors = () => async dispatch => {\r\n  const { data } = await Hue.get(\"/sensors\");\r\n  dispatch(updateSensors(data));\r\n};\r\n\r\nexport const updateSensors = data => dispatch => {\r\n  const sensors = Object.keys(data).map(key => ({ ...data[key], id: key }));\r\n\r\n  dispatch({\r\n    type: FETCH_SENSORS,\r\n    payload: sensors\r\n  });\r\n};\r\n\r\nexport const toggleSensor = sensor => async dispatch => {\r\n  await Hue.put(`/sensors/${sensor.id}/config`, { on: !sensor.config.on });\r\n  dispatch(fetchSensors());\r\n};\r\n\r\nexport const configureSensor = (id, config) => async dispatch => {\r\n  const response = await Hue.put(`/sensors/${id}/config`, config);\r\n  console.log(response);\r\n  dispatch(fetchSensors());\r\n};\r\n","import axios from \"axios\";\r\nimport {\r\n  updateLights,\r\n  updateGroups,\r\n  updateScenes,\r\n  updateRules,\r\n  updateSchedules,\r\n  updateSensors\r\n} from \".\";\r\nimport {\r\n  INITIALIZE_APP,\r\n  INITIALIZE_ERROR,\r\n  CREATE_USER,\r\n  SET_THEME,\r\n  SET_VIEW,\r\n  TOGGLE_EXPANDED,\r\n  SET_EXPANDED\r\n} from \"./types\";\r\n\r\nexport const initializeApp = () => async dispatch => {\r\n  const ip = localStorage.getItem(\"ip\");\r\n  const username = localStorage.getItem(\"username\");\r\n  const theme = localStorage.getItem(\"theme\");\r\n  const view = localStorage.getItem(\"view\");\r\n\r\n  const settings = { ip, username, theme, view };\r\n  // dispatch({\r\n  //   type: INITIALIZE_APP,\r\n  //   payload: { ip, username }\r\n  // });\r\n\r\n  if (ip && username) {\r\n    const response = await axios.get(`https://${ip}/api/${username}`);\r\n\r\n    if (response.data.config) {\r\n      settings.config = response.data.config;\r\n\r\n      dispatch(updateLights(response.data.lights));\r\n      dispatch(updateGroups(response.data.lights, response.data.groups));\r\n      dispatch(updateScenes(response.data.scenes));\r\n      dispatch(updateRules(response.data.rules));\r\n      dispatch(updateSchedules(response.data.schedules));\r\n      dispatch(updateSensors(response.data.sensors));\r\n    }\r\n\r\n    dispatch({\r\n      type: INITIALIZE_APP,\r\n      payload: settings\r\n    });\r\n  }\r\n};\r\n\r\nexport const resetApp = () => async dispatch => {\r\n  localStorage.clear();\r\n  dispatch({\r\n    type: INITIALIZE_APP\r\n  });\r\n};\r\n\r\nexport const createUser = ip => async dispatch => {\r\n  const response = await axios.post(`https://${ip}/api/`, {\r\n    devicetype: \"Huebert\"\r\n  });\r\n\r\n  if (response.data[0].success) {\r\n    localStorage.setItem(\"ip\", ip);\r\n    localStorage.setItem(\"username\", response.data[0].success.username);\r\n    dispatch({\r\n      type: CREATE_USER,\r\n      payload: { ip, username: response.data[0].success.username }\r\n    });\r\n    dispatch(initializeApp());\r\n  } else {\r\n    dispatch({\r\n      type: INITIALIZE_ERROR,\r\n      payload: response.data[0].error.description\r\n    });\r\n  }\r\n};\r\n\r\nexport const setTheme = theme => dispatch => {\r\n  localStorage.setItem(\"theme\", theme);\r\n  dispatch({\r\n    type: SET_THEME,\r\n    payload: theme\r\n  });\r\n};\r\n\r\nexport const setView = view => dispatch => {\r\n  localStorage.setItem(\"view\", view);\r\n  dispatch({\r\n    type: SET_VIEW,\r\n    payload: view\r\n  });\r\n};\r\n\r\nexport const expand = id => (dispatch, getState) => {\r\n  let { expanded, expandAll } = getState().settings;\r\n  let groupIds = getState().groups.map(group => group.id);\r\n\r\n  expanded = expanded.includes(id)\r\n    ? expanded.filter(it => it !== id)\r\n    : [...expanded, id];\r\n\r\n  dispatch({\r\n    type: SET_EXPANDED,\r\n    payload: id\r\n  });\r\n\r\n  if (expanded.length === groupIds.length || (expanded.length === 0 && expandAll)) {\r\n    dispatch({ type: TOGGLE_EXPANDED, payload: groupIds });\r\n  }\r\n};\r\n\r\nexport const toggleExpanded = () => (dispatch, getState) => {\r\n  let groupIds = getState().groups.map(group => group.id);\r\n  dispatch({ type: TOGGLE_EXPANDED, payload: groupIds });\r\n};\r\n","import React from \"react\";\r\nimport { Grid } from \"semantic-ui-react\";\r\n\r\nconst ToolPanel = ({ onClick, children }) => {\r\n  return (\r\n    <Grid.Column\r\n      width={4}\r\n      style={{ overflowY: \"auto\", height: \"100%\" }}\r\n      onClick={onClick}\r\n      children={children}\r\n    />\r\n  );\r\n};\r\n\r\nexport default ToolPanel;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { Menu, Label } from 'semantic-ui-react';\r\n\r\nconst NavigationMenu = ({ lights, rooms, schedules, rules, sensors, location, theme }) => {\r\n  const isActive = path => {\r\n    return path === location.pathname ? \"active\" : \"\";\r\n  };\r\n\r\n  return (\r\n    <Menu \r\n      fluid\r\n      vertical\r\n      inverted={theme === \"inverted\"}\r\n    >\r\n      <Link className={`item ${isActive(\"/\")}`} to=\"/\">\r\n        Home\r\n        <Label color=\"blue\">{lights.length}</Label>\r\n      </Link>\r\n      <Link className={`item ${isActive(\"/routines\")}`} to=\"/routines\">\r\n        Routines\r\n        <Label color=\"blue\">{schedules.length}</Label>\r\n      </Link>\r\n      <Link className={`item ${isActive(\"/sensors\")}`} to=\"/sensors\">\r\n        Sensors\r\n        <Label color=\"blue\">{sensors.length}</Label>\r\n      </Link>\r\n      <Link className={`disabled item ${isActive(\"/rules\")}`} to=\"/rules\">\r\n        Rules\r\n        <Label color=\"blue\">{rules.length}</Label>\r\n      </Link>\r\n      <Link className={`item ${isActive(\"/settings\")}`} to=\"/settings\">\r\n        Settings\r\n      </Link>\r\n    </Menu>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    rooms: state.rooms,\r\n    lights: state.lights,\r\n    schedules: state.schedules,\r\n    rules: state.rules,\r\n    sensors: state.sensors,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(NavigationMenu);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Segment, Table, Label } from \"semantic-ui-react\";\r\n\r\nconst Info = ({ config, theme }) => {\r\n  const tableData = config\r\n    ? [\r\n        { name: \"Name\", value: config.name },\r\n        { name: \"Bridge ID\", value: config.bridgeid },\r\n        { name: \"Model ID\", value: config.modelid },\r\n        { name: \"DHCP\", value: config.dhcp.toString() },\r\n        { name: \"MAC\", value: config.mac },\r\n        { name: \"IP\", value: config.ipaddress },\r\n        { name: \"Netmask\", value: config.netmask },\r\n        { name: \"Gateway\", value: config.gateway },\r\n        { name: \"Proxy Address\", value: config.proxyaddress },\r\n        { name: \"Proxy Port\", value: config.proxyport },\r\n        { name: \"Zigbee Channel\", value: config.zigbeechannel },\r\n        { name: \"Software Version\", value: config.swversion },\r\n        { name: \"Portal Services\", value: config.portalservices.toString() },\r\n        { name: \"Portal Connection\", value: config.portalconnection }\r\n      ]\r\n    : [];\r\n\r\n  const renderBodyRow = ({ name, value }, i) => ({\r\n    key: i,\r\n    cells: [name, value]\r\n  });\r\n\r\n  if (config && config.name) {\r\n    return (\r\n      <Segment inverted={theme === \"inverted\"}>\r\n        <Label\r\n          attached=\"top\"\r\n          color={theme === \"inverted\" ? \"black\" : null}\r\n          content=\"DEVICE INFO\"\r\n        />\r\n        <Table\r\n          size=\"small\"\r\n          basic=\"very\"\r\n          compact\r\n          fixed\r\n          singleLine\r\n          inverted={theme === \"inverted\"}\r\n          renderBodyRow={renderBodyRow}\r\n          tableData={tableData}\r\n        />\r\n      </Segment>\r\n    );\r\n  } else return null;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { config: state.settings.config, theme: state.settings.theme };\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Info);\r\n","import { colorTemperature2rgb, rgb2colorTemperature } from \"color-temperature\";\r\nimport tinycolor from 'tinycolor2';\r\nimport { textContrast } from 'text-contrast';\r\n\r\nexport const convertHSBToColor = state => {\r\n  // Lamp supports HSL\r\n  if (state.hue) {\r\n    const h = Math.round(state.hue / 182.041667);\r\n    const s = Math.round(state.sat / 2.54);\r\n    const v = Math.round(state.bri / 2.54);\r\n\r\n    const color = tinycolor({ h, s, v});\r\n    return color.toHexString();\r\n  }\r\n\r\n  // Lamp supports CT\r\n  if (state.ct) {\r\n    const rgb = colorTemperature2rgb(1e6/state.ct);\r\n    const color = tinycolor({r: rgb.red, g: rgb.green, b: rgb.blue });\r\n    // color.darken(100 - Math.round(state.bri / 2.54));\r\n    return color.lighten(15).toHexString();\r\n  }\r\n\r\n  return \"#FFFFFF\"\r\n};\r\n\r\n\r\nexport const convertHSVToHSB = color => {\r\n  const hue = Math.round(color.hsv.h * 182.041667);\r\n  const sat = Math.round(color.hsv.s * 254);\r\n  const bri = Math.round(color.hsv.v * 253) + 1;\r\n\r\n  return { hue, sat, bri };\r\n}\r\n\r\nexport const convertHSVToCT = color => {\r\n  const { r, g, b } = color.rgb;\r\n  return { \r\n    ct: Math.round(803.7 - (rgb2colorTemperature({ red: r, green: g, blue: b }) / 10)),\r\n    bri: Math.round(color.hsv.v * 253) + 1\r\n  };\r\n}\r\n\r\nexport const compatibleText = color => {\r\n  if (!color) {\r\n    return \"black\";\r\n  }\r\n  return textContrast.isDark(color) ? \"white\" : \"black\"\r\n}\r\n\r\nexport const isAdjustable = state => {\r\n  if (state.hue || state.ct) return true;\r\n  return false;\r\n}","import React, { useRef } from \"react\";\r\nimport { Table, Label, Icon, Form, Checkbox } from \"semantic-ui-react\";\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\nimport \"./LightRow.css\"\r\n\r\nconst LightRow = ({\r\n  light,\r\n  group,\r\n  active,\r\n  setLight,\r\n  setActiveLight,\r\n  alertLight,\r\n  toggleLight\r\n}) => {\r\n  const color = convertHSBToColor(light.state);\r\n  const textColor = compatibleText(color);\r\n\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    setLight({ ...light, state: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 100);\r\n  };\r\n\r\n  const handleClick = event => {\r\n    event.ctrlKey ? alertLight(light) : setActiveLight(light, group);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const renderCheckbox = () => (\r\n      <Checkbox className=\"middle aligned\" fitted />\r\n  );\r\n\r\n  return (\r\n    <Table.Row\r\n      style={active ? { backgroundColor: \"#AAAAAA24\" } : null}\r\n      // className={active ? \"left marked secondary\" : null}\r\n      onClick={handleClick}\r\n    >\r\n      <Table.Cell>\r\n        {false ? renderCheckbox() : null}\r\n        <Label\r\n          style={{\r\n            color: textColor,\r\n            marginLeft: 32,\r\n            backgroundColor: `${convertHSBToColor(light.state)}`\r\n          }}\r\n          content={light.name}\r\n        />\r\n      </Table.Cell>\r\n      <Table.Cell>\r\n        <Form>\r\n          <Form.Field disabled={!light.state.reachable}>\r\n            <div className=\"slidecontainer\">\r\n              <input\r\n                className=\"middle aligned slide\"\r\n                type=\"range\"\r\n                min={1}\r\n                max={254}\r\n                value={light.state.bri}\r\n                onChange={event => onChangeBrightness(Number(event.target.value))}\r\n              />\r\n            </div>\r\n          </Form.Field>\r\n        </Form>\r\n      </Table.Cell>\r\n      <Table.Cell>\r\n        <Checkbox\r\n          className=\"middle aligned\"\r\n          toggle\r\n          checked={light.state.on && light.state.reachable}\r\n          onChange={() => toggleLight(light)}\r\n          disabled={!light.state.reachable}\r\n        />\r\n      </Table.Cell>\r\n    </Table.Row>\r\n  );\r\n};\r\n\r\nexport default LightRow;\r\n","import React, { useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Table, Checkbox, Icon, Label } from \"semantic-ui-react\";\r\n\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\nimport LightRow from \"./LightRow\";\r\nimport {\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  alertGroup,\r\n  toggleGroup,\r\n  setGroup,\r\n  setActiveGroup,\r\n  expand\r\n} from \"../../actions\";\r\n\r\nconst LightsTable = ({\r\n  group,\r\n  lights,\r\n  active,\r\n  expanded,\r\n  setGroup,\r\n  alertGroup,\r\n  toggleGroup,\r\n  setActiveGroup,\r\n  setLight,\r\n  alertLight,\r\n  toggleLight,\r\n  setActiveLight,\r\n  expand,\r\n  theme\r\n}) => {\r\n  const colors = [\r\n    ...new Set(\r\n      group.colors\r\n        .filter(light => light.hue)\r\n        .map(light => convertHSBToColor(light))\r\n        .sort()\r\n    )\r\n  ];\r\n\r\n  if (colors.length === 0) {\r\n    colors.push(\r\n      ...new Set(group.colors.map(light => convertHSBToColor(light)).sort())\r\n    );\r\n  }\r\n\r\n  const textColor = compatibleText(colors[0] || \"#FFFFFF\");\r\n  // const iconColor = compatibleText(colors[colors.length - 1] || \"#FFFFFF\");\r\n\r\n  // Throttle calls to onChangeBrightness()\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    setGroup({ ...group, action: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 400);\r\n  };\r\n\r\n  const handleClick = event => {\r\n    event.ctrlKey ? alertGroup(group) : setActiveGroup(group);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const handleExpand = event => {\r\n    expand(group.id);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const renderRows = () => {\r\n    return lights.map(light => {\r\n      return (\r\n        <LightRow\r\n          light={light}\r\n          group={group}\r\n          active={active.light && active.light.id === light.id}\r\n          setLight={setLight}\r\n          setActiveLight={setActiveLight}\r\n          alertLight={alertLight}\r\n          toggleLight={toggleLight}\r\n          key={light.id}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Table size=\"large\" selectable singleLine inverted={theme === \"inverted\"}>\r\n      <Table.Header onClick={handleClick}>\r\n        <Table.Row\r\n          style={\r\n            active.group && active.group.id === group.id\r\n              ? { backgroundColor: \"#AAAAAA24\" }\r\n              : null\r\n          }\r\n        >\r\n          <Table.HeaderCell>\r\n            <Icon\r\n              name={`caret ${expanded ? \"down\" : \"right\"}`}\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={handleExpand}\r\n            />\r\n            <Label\r\n              fluid=\"true\"\r\n              style={{\r\n                color: textColor,\r\n                width: \"90%\",\r\n                cursor: \"pointer\",\r\n                backgroundImage: `linear-gradient(to right, ${\r\n                  colors.length > 1 ? colors : [colors[0], colors[0]]\r\n                })`\r\n              }}\r\n              content={group.name}\r\n              // detail={group.lights.length}\r\n            />\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell style={{ width: \"40%\" }}>\r\n            <div className=\"slidecontainer\">\r\n              <input\r\n                className=\"middle aligned slide\"\r\n                type=\"range\"\r\n                min={0}\r\n                max={254}\r\n                value={group.action.bri}\r\n                onChange={event =>\r\n                  onChangeBrightness(Number(event.target.value))\r\n                }\r\n              />\r\n            </div>\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell collapsing>\r\n            <Checkbox\r\n              className=\"middle aligned\"\r\n              toggle\r\n              label={\"\"}\r\n              checked={group.state.any_on}\r\n              onChange={() => toggleGroup(group)}\r\n            />\r\n          </Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n      <Table.Body>{expanded ? renderRows() : null}</Table.Body>\r\n    </Table>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    active: state.active,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  alertGroup,\r\n  toggleGroup,\r\n  setGroup,\r\n  setActiveGroup,\r\n  expand\r\n})(LightsTable);\r\n","import React, { useRef } from \"react\";\r\nimport { Card, Icon, Checkbox } from \"semantic-ui-react\";\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\n\r\nconst LightItem = ({\r\n  light,\r\n  group,\r\n  toggle,\r\n  alert,\r\n  active,\r\n  onSelect,\r\n  onDim\r\n}) => {\r\n  const color = convertHSBToColor(light.state);\r\n  const textColor = compatibleText(color);\r\n\r\n  // Throttle calls to onChangeBrightness()\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    onDim({ ...light, state: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 100);\r\n  };\r\n\r\n  const handleSelect = event => {\r\n    onSelect(light, group);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const handleAlert = event => {\r\n    if (event.ctrlKey) {\r\n      alert(light);\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card style={{ backgroundColor: color }} onClick={handleSelect}>\r\n      <Card.Content>\r\n        <div\r\n          style={{ color: textColor, opacity: 0.7, userSelect: \"none\" }}\r\n          onClick={handleAlert}\r\n        >\r\n          {light.name}\r\n          <Icon\r\n            className=\"right floated\"\r\n            name={active ? \"check\" : null}\r\n            style={{ color: textColor, opacity: 0.7 }}\r\n          />\r\n        </div>\r\n      </Card.Content>\r\n      <Card.Content style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            className=\"slide\"\r\n            type=\"range\"\r\n            min={1}\r\n            max={254}\r\n            value={light.state.bri}\r\n            onChange={event => onChangeBrightness(Number(event.target.value))}\r\n          />\r\n        </div>\r\n      </Card.Content>\r\n      <Card.Content style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <Checkbox\r\n          className=\"right floated\"\r\n          fitted\r\n          toggle\r\n          checked={light.state.on}\r\n          onChange={() => toggle(light)}\r\n          disabled={!light.state.reachable}\r\n        />\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default LightItem;\r\n","import React, { useRef } from \"react\";\r\nimport { Card, Icon, Checkbox } from \"semantic-ui-react\";\r\nimport { convertHSBToColor, compatibleText } from \"../../utils\";\r\n\r\nconst RoomItem = ({ group, toggle, alert, active, onSelect, onDim }) => {\r\n  const colors = [\r\n    ...new Set(\r\n      group.colors\r\n        .filter(light => light.hue)\r\n        .map(light => convertHSBToColor(light))\r\n        .sort()\r\n    )\r\n  ];\r\n  \r\n  if (colors.length === 0) {\r\n    colors.push(\r\n      ...new Set(group.colors.map(light => convertHSBToColor(light)).sort())\r\n    );\r\n  }\r\n\r\n  const textColor = compatibleText(colors[0] || \"#FFFFFF\");\r\n  // const iconColor = compatibleText(colors[colors.length - 1] || \"#FFFFFF\");\r\n\r\n  // Throttle calls to onChangeBrightness()\r\n  const throttle = useRef(null);\r\n  const onChangeBrightness = bri => {\r\n    if (throttle.current !== null) {\r\n      return;\r\n    }\r\n\r\n    throttle.current = bri;\r\n    onDim({ ...group, action: { bri } });\r\n    setTimeout(() => {\r\n      throttle.current = null;\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelect = event => {\r\n    onSelect(group);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const handleAlert = event => {\r\n    if (event.ctrlKey) {\r\n      alert(group);\r\n      event.stopPropagation();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Card\r\n      style={{\r\n        backgroundImage: `linear-gradient(to right, ${\r\n          colors.length > 1 ? colors : [colors[0], colors[0]]\r\n        })`,\r\n        width: \"100%\"\r\n      }}\r\n      onClick={handleSelect}\r\n    >\r\n      <Card.Content>\r\n        <div\r\n          style={{ color: textColor, opacity: 0.7, userSelect: \"none\" }}\r\n          onClick={handleAlert}\r\n        >\r\n          {group.name}\r\n          <Icon\r\n            className=\"right floated\"\r\n            name={active ? \"check\" : null}\r\n            style={{ color: textColor, opacity: 0.7 }}\r\n          />\r\n        </div>\r\n      </Card.Content>\r\n      <Card.Content extra style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <div className=\"slidecontainer\">\r\n          <input\r\n            className=\"slide\"\r\n            type=\"range\"\r\n            min={0}\r\n            max={254}\r\n            value={group.action.bri}\r\n            onChange={event => onChangeBrightness(Number(event.target.value))}\r\n          />\r\n        </div>\r\n      </Card.Content>\r\n      <Card.Content extra style={{ backgroundColor: \"#FFFFFF48\" }}>\r\n        <Checkbox\r\n          className=\"right floated\"\r\n          fitted\r\n          toggle\r\n          checked={group.state.any_on}\r\n          onChange={() => toggle(group)}\r\n        />\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default RoomItem;\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Card, Segment } from \"semantic-ui-react\";\r\n\r\nimport {\r\n  fetchLights,\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  setGroup,\r\n  alertGroup,\r\n  toggleGroup,\r\n  setActiveGroup\r\n} from \"../../actions\";\r\nimport LightItem from \"./LightItem\";\r\nimport RoomItem from \"./RoomItem\";\r\n\r\nconst LightsList = ({\r\n  lights,\r\n  groups,\r\n  active,\r\n  fetchLights,\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  setGroup,\r\n  alertGroup,\r\n  toggleGroup,\r\n  setActiveGroup,\r\n  theme\r\n}) => {\r\n  useEffect(() => {\r\n    fetchLights();\r\n  }, [fetchLights]);\r\n\r\n  const handleSelect = (event, group) => {\r\n    setActiveGroup(group);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const renderGroups = () => {\r\n    return groups.map(group => {\r\n      return (\r\n        <div\r\n          className={`ui ${theme} segment`}\r\n          key={group.id}\r\n          onClick={event => handleSelect(event, group)}\r\n        >\r\n          <RoomItem\r\n            group={group}\r\n            alert={alertGroup}\r\n            toggle={toggleGroup}\r\n            active={active.group ? group.id === active.group.id : false}\r\n            onSelect={setActiveGroup}\r\n            onDim={setGroup}\r\n          />\r\n          <Card.Group doubling stackable itemsPerRow={3}>\r\n            {renderItems(\r\n              lights.filter(light => group.lights.includes(light.id)),\r\n              group\r\n            )}\r\n          </Card.Group>\r\n        </div>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderItems = (lights, group) => {\r\n    return lights.map(light => {\r\n      return (\r\n        <LightItem\r\n          key={light.id}\r\n          light={light}\r\n          group={group}\r\n          toggle={toggleLight}\r\n          alert={alertLight}\r\n          active={active.light ? light.id === active.light.id : false}\r\n          onSelect={setActiveLight}\r\n          onDim={setLight}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return <Segment.Group>{lights ? renderGroups() : null}</Segment.Group>;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    active: state.active,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchLights,\r\n  alertLight,\r\n  toggleLight,\r\n  setLight,\r\n  setActiveLight,\r\n  setGroup,\r\n  alertGroup,\r\n  toggleGroup,\r\n  setActiveGroup\r\n})(LightsList);\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Modal, Form, Divider, Message } from \"semantic-ui-react\";\r\nimport { createScene } from \"../../actions\";\r\n\r\nconst CreateSceneModal = ({ trigger, lights, group, theme, createScene }) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(null);\r\n  const [recycle, setRecycle] = useState(true);\r\n  const [selected, setSelected] = useState([]);\r\n  const [transition, setTransition] = useState(false);\r\n  const [tenths, setTenths] = useState(4);\r\n  const [seconds, setSeconds] = useState(0);\r\n  const [minutes, setMinutes] = useState(0);\r\n\r\n  const handleCreateScene = async () => {\r\n    const newScene = { name, recycle, type };\r\n\r\n    if (type === \"GroupScene\") newScene[\"group\"] = group.id;\r\n    if (type === \"LightScene\") newScene[\"lights\"] = selected;\r\n\r\n    if (transition)\r\n      newScene[\"transitiontime\"] = tenths + seconds * 10 + minutes * 600;\r\n\r\n    const response = await createScene(newScene);\r\n    if (response.success) {\r\n      cleanup();\r\n    } else {\r\n      setError(response.error);\r\n    }\r\n  };\r\n\r\n  const cleanup = () => {\r\n    setName(\"\");\r\n    setType(null);\r\n    setRecycle(true);\r\n    setSelected([]);\r\n    setTransition(false);\r\n    setTenths(4);\r\n    setSeconds(0);\r\n    setMinutes(0);\r\n    setError(null);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      size=\"small\"\r\n      as={Form}\r\n      dimmer={theme === \"inverted\" ? true : \"inverted\"}\r\n      trigger={\r\n        <trigger.type {...trigger.props} onClick={() => setOpen(true)} />\r\n      }\r\n      open={open}\r\n      header={`Create Scene for ${group.name}`}\r\n      content={\r\n        <Modal.Content>\r\n          <Modal.Description>\r\n            <b>Note</b>: The scene will be created using the current light\r\n            states.{\" \"}\r\n            <i>\r\n              <code>GroupScenes</code>\r\n            </i>{\" \"}\r\n            are only available to the group in which they are created. A{\" \"}\r\n            <i>\r\n              <code>LightScene</code>\r\n            </i>{\" \"}\r\n            can contain any non-zero number of lights from any group.\r\n          </Modal.Description>\r\n          <Divider />\r\n          <Form.Group>\r\n            <Form.Input\r\n              name=\"scene\"\r\n              label=\"Scene Name\"\r\n              placeholder=\"Enter name\"\r\n              width=\"7\"\r\n              required\r\n              value={name}\r\n              onChange={(e, { value }) => setName(value)}\r\n            />\r\n            <Form.Select\r\n              name=\"type\"\r\n              label=\"Type\"\r\n              placeholder=\"Select type\"\r\n              width=\"7\"\r\n              required\r\n              options={[\r\n                {\r\n                  key: \"g\",\r\n                  text: \"GroupScene\",\r\n                  value: \"GroupScene\"\r\n                  // disabled: version < 111\r\n                },\r\n                {\r\n                  key: \"l\",\r\n                  text: \"LightScene\",\r\n                  value: \"LightScene\"\r\n                  // disabled: version < 130\r\n                }\r\n              ]}\r\n              value={type}\r\n              onChange={(e, { value }) => setType(value)}\r\n            />\r\n            <Form.Checkbox\r\n              name=\"recycle\"\r\n              label=\"Recycle\"\r\n              width=\"2\"\r\n              checked={recycle}\r\n              onChange={(e, { checked }) => setRecycle(checked)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Dropdown\r\n            name=\"lights\"\r\n            label=\"Lights\"\r\n            placeholder=\"Select lights\"\r\n            search\r\n            multiple\r\n            selection\r\n            required={type === \"LightScene\"}\r\n            disabled={type === \"GroupScene\"}\r\n            options={lights.map(light => {\r\n              return { text: light.name, value: light.id };\r\n            })}\r\n            onChange={(e, { value }) => setSelected(value)}\r\n          />\r\n          {/* <Divider /> */}\r\n          <Form.Field inline label=\"Transition Time\" width=\"10\" />\r\n          <Form.Checkbox\r\n            name=\"transition\"\r\n            label=\"Transition\"\r\n            width=\"2\"\r\n            checked={transition}\r\n            onChange={(e, { checked }) => setTransition(checked)}\r\n          />\r\n          <Form.Group widths=\"equal\">\r\n            <Form.Field inline disabled={!transition}>\r\n              <label>Milliseconds:</label> {tenths * 100}\r\n              <div className=\"slidecontainer\">\r\n                <input\r\n                  className=\"middle aligned slide\"\r\n                  type=\"range\"\r\n                  min={0}\r\n                  max={10}\r\n                  value={tenths}\r\n                  onChange={event => setTenths(Number(event.target.value))}\r\n                />\r\n              </div>\r\n            </Form.Field>\r\n            <Form.Field inline disabled={!transition}>\r\n              <label>Seconds:</label> {seconds}\r\n              <div className=\"slidecontainer\">\r\n                <input\r\n                  className=\"middle aligned slide\"\r\n                  type=\"range\"\r\n                  min={0}\r\n                  max={60}\r\n                  value={seconds}\r\n                  onChange={event => setSeconds(Number(event.target.value))}\r\n                />\r\n              </div>\r\n            </Form.Field>\r\n            <Form.Field inline disabled={!transition}>\r\n              <label>Minutes:</label> {minutes}\r\n              <div className=\"slidecontainer\">\r\n                <input\r\n                  className=\"middle aligned slide\"\r\n                  type=\"range\"\r\n                  min={0}\r\n                  max={60}\r\n                  value={minutes}\r\n                  onChange={event => setMinutes(Number(event.target.value))}\r\n                />\r\n              </div>\r\n            </Form.Field>\r\n          </Form.Group>\r\n          <Message\r\n            size=\"tiny\"\r\n            negative\r\n            hidden={error == null}\r\n            content={error}\r\n          />\r\n        </Modal.Content>\r\n      }\r\n      actions={[\r\n        {\r\n          key: \"cancel\",\r\n          content: \"Cancel\",\r\n          onClick: cleanup\r\n        },\r\n        {\r\n          key: \"done\",\r\n          content: \"Create\",\r\n          positive: true,\r\n          disabled:\r\n            !name || !type || (type === \"LightScene\" && selected.length === 0),\r\n          onClick: handleCreateScene\r\n        }\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { lights: state.lights };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createScene })(CreateSceneModal);\r\n","import React from \"react\";\r\nimport { Modal } from \"semantic-ui-react\";\r\n\r\nconst DeleteItemModal = ({ header, trigger, itemName, groupName, theme, onSubmit }) => {\r\n  return (\r\n    <Modal\r\n      size=\"small\"\r\n      dimmer={theme === \"inverted\" ? true : \"inverted\"}\r\n      trigger={trigger}\r\n      header={header}\r\n      content={`Are you sure you want to delete ${itemName}${\r\n        groupName ? \" from \" + groupName : \"\"\r\n      }? This action cannot be undone.`}\r\n      actions={[\r\n        \"Cancel\",\r\n        {\r\n          key: \"done\",\r\n          content: \"Delete\",\r\n          negative: true,\r\n          onClick: onSubmit\r\n        }\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nexport default DeleteItemModal;\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Segment, Label, List, Menu, Dimmer, Confirm } from \"semantic-ui-react\";\r\nimport {\r\n  fetchScenes,\r\n  fetchGroups,\r\n  setGroup,\r\n  createScene,\r\n  deleteScene,\r\n  modifyScene,\r\n  setActiveScene\r\n} from \"../actions\";\r\nimport CreateSceneModal from \"./modals/CreateSceneModal\";\r\nimport DeleteItemModal from \"./modals/DeleteItemModal\";\r\n\r\nconst ScenesList = ({\r\n  scenes,\r\n  lights,\r\n  active,\r\n  setGroup,\r\n  theme,\r\n  deleteScene,\r\n  modifyScene,\r\n  setActiveScene\r\n}) => {\r\n  const [confirmState, setConfirmState] = useState(false);\r\n\r\n  const availableScenes = scenes.filter(scene =>\r\n    active.group\r\n      ? // ? active.group.type === \"Room\"\r\n        scene.group === active.group.id\r\n      : scene.type === \"LightScene\"\r\n  );\r\n\r\n  const handleApplyScene = scene => {\r\n    if (active.group) {\r\n      setGroup({ id: active.group.id, action: { scene: scene.id } }, false);\r\n      setActiveScene(scene);\r\n    }\r\n  };\r\n\r\n  const handleModifyScene = async () => {\r\n    const lightStates = lights\r\n      .filter(light => active.scene.lights.includes(light.id))\r\n      .reduce((acc, curr) => {\r\n        const state = getModifiableKeys(curr);\r\n        removeEmptyKeys(state);\r\n        acc[curr.id] = state;\r\n        return acc;\r\n      }, {});\r\n\r\n    const response = await modifyScene({\r\n      id: active.scene.id,\r\n      lightstates: lightStates\r\n    });\r\n    if (response.error) {\r\n      // TODO: reflect error in UI not alert\r\n      window.alert(response.error);\r\n    } else {\r\n      setConfirmState(false);\r\n    }\r\n  };\r\n\r\n  const getModifiableKeys = light => {\r\n    const { on, bri, hue, sat, effect, xy, ct } = light.state;\r\n    return { on, bri, hue, sat, effect, xy, ct };\r\n  };\r\n\r\n  const removeEmptyKeys = obj => {\r\n    Object.keys(obj).forEach(key => obj[key] == null && delete obj[key]);\r\n  };\r\n\r\n  const handleDeleteScene = () => {\r\n    if (active.scene) deleteScene(active.scene.id);\r\n  };\r\n\r\n  const renderToolbar = () => (\r\n    <Menu\r\n      inverted={theme === \"inverted\"}\r\n      size=\"mini\"\r\n      icon\r\n      onClick={e => e.stopPropagation()}\r\n    >\r\n      {active.group ? (\r\n        <CreateSceneModal\r\n          group={active.group}\r\n          theme={theme}\r\n          trigger={\r\n            <Menu.Item link title=\"Save Current as New Scene\" icon=\"plus\" />\r\n          }\r\n        />\r\n      ) : (\r\n        <Menu.Item\r\n          disabled\r\n          link\r\n          title=\"Save Current as New Scene\"\r\n          icon=\"plus\"\r\n        />\r\n      )}\r\n\r\n      <Menu.Item\r\n        link\r\n        title=\"Update Active Scene\"\r\n        disabled={!active.scene || active.scene?.group !== active.group?.id}\r\n        icon=\"save\"\r\n        onClick={() => setConfirmState(true)}\r\n      />\r\n      <Confirm\r\n        open={confirmState}\r\n        header=\"Overwrite Scene\"\r\n        content={`Are you sure you want to overwrite ${active.scene?.name ??\r\n          \"\"} with current settings?`}\r\n        onConfirm={handleModifyScene}\r\n        onCancel={() => setConfirmState(false)}\r\n        closeOnDimmerClick\r\n        closeOnEscape\r\n      />\r\n      <Menu.Menu position=\"right\">\r\n        <DeleteItemModal\r\n          header=\"Delete Scene\"\r\n          itemName={active.scene?.name ?? \"\"}\r\n          groupName={active.group?.name ?? \"\"}\r\n          theme={theme}\r\n          onSubmit={handleDeleteScene}\r\n          trigger={\r\n            <Menu.Item\r\n              link\r\n              disabled={!active.scene || active.scene.locked}\r\n              title=\"Delete Scene\"\r\n              icon=\"trash\"\r\n            />\r\n          }\r\n        />\r\n      </Menu.Menu>\r\n    </Menu>\r\n  );\r\n\r\n  const renderScenes = () => {\r\n    return availableScenes.map(scene => {\r\n      return (\r\n        <List.Item\r\n          key={scene.id}\r\n          content={scene.name}\r\n          // TODO: Implement active scene\r\n          active={active.scene && active.scene.id === scene.id}\r\n          onClick={() => handleApplyScene(scene)}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  // if (!active.group) return null;\r\n\r\n  return (\r\n    <>\r\n      {renderToolbar()}\r\n      {/* <Segment */}\r\n      <Dimmer.Dimmable\r\n        as={Segment}\r\n        dimmed={true}\r\n        inverted={theme === \"inverted\"}\r\n        style={{ overflowY: \"hidden\", height: \"48vh\" }}\r\n      >\r\n        <Label\r\n          attached=\"top\"\r\n          color={theme === \"inverted\" ? \"black\" : null}\r\n          content=\"SCENES\"\r\n        />\r\n        <List\r\n          className=\"middle aligned\"\r\n          selection\r\n          inverted={theme === \"inverted\"}\r\n          style={{ overflowY: \"auto\", height: \"90%\" }}\r\n          items={renderScenes()}\r\n        />\r\n        <Dimmer\r\n          active={!active?.group ?? true}\r\n          inverted={theme !== \"inverted\"}\r\n        />\r\n      </Dimmer.Dimmable>\r\n      {/* </Segment> */}\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    scenes: state.scenes,\r\n    lights: state.lights,\r\n    active: state.active,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchScenes,\r\n  fetchGroups,\r\n  setGroup,\r\n  createScene,\r\n  deleteScene,\r\n  modifyScene,\r\n  setActiveScene\r\n})(ScenesList);\r\n","import React, { useRef } from \"react\";\r\nimport SketchPicker from \"./picker/components/sketch/Sketch\";\r\nimport { connect } from \"react-redux\";\r\nimport { Segment, Label, Dimmer } from \"semantic-ui-react\";\r\n\r\nimport { setLight, setGroup } from \"../actions\";\r\nimport {\r\n  convertHSBToColor,\r\n  convertHSVToHSB,\r\n  convertHSVToCT,\r\n  isAdjustable\r\n} from \"../utils\";\r\n\r\nconst LIGHT_ELEMENT = 100;\r\nconst GROUP_ELEMENT = 500;\r\n\r\nconst ColorPicker = ({ active, setLight, setGroup, theme }) => {\r\n  // Throttle calls to handleChange()\r\n  let bufferedColor = useRef(null);\r\n\r\n  // if (!isAdjustable(active?.action || active?.state)) {\r\n  //   return null;\r\n  // }\r\n\r\n  const type = active ? (active.action ? GROUP_ELEMENT : LIGHT_ELEMENT) : null;\r\n\r\n  const extractColor = () => {\r\n    switch (type) {\r\n      case LIGHT_ELEMENT:\r\n        return convertHSBToColor(active.state);\r\n      case GROUP_ELEMENT:\r\n        return convertHSBToColor(active.action);\r\n      default:\r\n        return \"#2185D0\";\r\n    }\r\n  };\r\n\r\n  const handleChange = (color, event) => {\r\n    if (bufferedColor.current !== null) {\r\n      return;\r\n    }\r\n    bufferedColor.current = color;\r\n\r\n    switch (type) {\r\n      case LIGHT_ELEMENT:\r\n        if (active.state.hue) {\r\n          const { hue, sat, bri } = convertHSVToHSB(color);\r\n          setLight({ id: active.id, state: { hue, sat, bri } });\r\n        } else {\r\n          const { ct, bri } = convertHSVToCT(color);\r\n          setLight({ id: active.id, state: { ct, bri } });\r\n        }\r\n        break;\r\n      case GROUP_ELEMENT:\r\n        const { hue, sat, bri } = convertHSVToHSB(color);\r\n        const newGroup = { id: active.id, action: { hue, sat, bri } };\r\n        setGroup(newGroup);\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    setTimeout(() => {\r\n      bufferedColor.current = null;\r\n    }, type);\r\n  };\r\n\r\n  return (\r\n    <Dimmer.Dimmable\r\n      as={Segment}\r\n      dimmed={true}\r\n      inverted={theme === \"inverted\"}\r\n    >\r\n      {/* <Segment inverted={theme === \"inverted\"}> */}\r\n      <Label\r\n        attached=\"top\"\r\n        color={theme === \"inverted\" ? \"black\" : null}\r\n        content={active?.name.toUpperCase() ?? \"COLOR\"}\r\n      />\r\n      <SketchPicker\r\n        width={null}\r\n        color={extractColor()}\r\n        onChange={handleChange}\r\n        disableAlpha\r\n      />\r\n      <Dimmer\r\n        active={!active}\r\n        inverted={theme !== \"inverted\"}\r\n      />\r\n      {/* </Segment> */}\r\n    </Dimmer.Dimmable>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    active: state.active?.light ?? state.active.group,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { setLight, setGroup })(ColorPicker);\r\n","import React from \"react\";\r\nimport {Grid } from 'semantic-ui-react'\r\n\r\nconst CenterPanel = ({ onClick, children }) => {\r\n  return (\r\n    <Grid.Column \r\n      width={8}\r\n      style={{ overflowY: \"auto\", height: \"100%\", paddingLeft: 0, paddingRight: 0 }}\r\n      children={children}\r\n      onClick={onClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default CenterPanel;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Modal, Form, Divider, Message } from \"semantic-ui-react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createGroup } from \"../../actions\";\r\n\r\nconst CreateGroupModal = ({\r\n  trigger,\r\n  lights,\r\n  groups,\r\n  theme,\r\n  createGroup,\r\n  version\r\n}) => {\r\n  const [open, setOpen] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [assigned, setAssigned] = useState([]);\r\n\r\n  const [name, setName] = useState(\"\");\r\n  const [type, setType] = useState(null);\r\n  const [clazz, setClazz] = useState(null);\r\n  const [selected, setSelected] = useState([]);\r\n\r\n  const roomClasses = [\r\n    { key: 1, text: \"Living room\", value: \"Living room\" },\r\n    { key: 2, text: \"Kitchen\", value: \"Kitchen\" },\r\n    { key: 3, text: \"Dining\", value: \"Dining\" },\r\n    { key: 4, text: \"Bedroom\", value: \"Bedroom\" },\r\n    { key: 5, text: \"Kids bedroom\", value: \"Kids bedroom\" },\r\n    { key: 6, text: \"Bathroom\", value: \"Bathroom\" },\r\n    { key: 7, text: \"Nursery\", value: \"Nursery\" },\r\n    { key: 8, text: \"Recreation\", value: \"Recreation\" },\r\n    { key: 9, text: \"Office\", value: \"Office\" },\r\n    { key: 10, text: \"Gym\", value: \"Gym\" },\r\n    { key: 11, text: \"Hallway\", value: \"Hallway\" },\r\n    { key: 12, text: \"Toilet\", value: \"Toilet\" },\r\n    { key: 13, text: \"Front door\", value: \"Front door\" },\r\n    { key: 14, text: \"Garage\", value: \"Garage\" },\r\n    { key: 15, text: \"Terrace\", value: \"Terrace\" },\r\n    { key: 16, text: \"Garden\", value: \"Garden\" },\r\n    { key: 17, text: \"Driveway\", value: \"Driveway\" },\r\n    { key: 18, text: \"Carport\", value: \"Carport\" },\r\n    { key: 19, text: \"Other\", value: \"Other\" }\r\n  ];\r\n\r\n  if (version >= 130)\r\n    roomClasses.push(\r\n      { key: 20, text: \"Home\", value: \"Home\" },\r\n      { key: 22, text: \"Downstairs\", value: \"Downstairs\" },\r\n      { key: 21, text: \"Upstairs\", value: \"Upstairs\" },\r\n      { key: 23, text: \"Top floor\", value: \"Top floor\" },\r\n      { key: 24, text: \"Attic\", value: \"Attic\" },\r\n      { key: 25, text: \"Guest room\", value: \"Guest room\" },\r\n      { key: 26, text: \"Staircase\", value: \"Staircase\" },\r\n      { key: 27, text: \"Lounge\", value: \"Lounge\" },\r\n      { key: 28, text: \"Man cave\", value: \"Man cave\" },\r\n      { key: 29, text: \"Computer\", value: \"Computer\" },\r\n      { key: 30, text: \"Studio\", value: \"Studio\" },\r\n      { key: 31, text: \"Music\", value: \"Music\" },\r\n      { key: 32, text: \"TV\", value: \"TV\" },\r\n      { key: 33, text: \"Reading\", value: \"Reading\" },\r\n      { key: 34, text: \"Closet\", value: \"Closet\" },\r\n      { key: 35, text: \"Storage\", value: \"Storage\" },\r\n      { key: 36, text: \"Laundry room\", value: \"Laundry room\" },\r\n      { key: 37, text: \"Balcony\", value: \"Balcony\" },\r\n      { key: 38, text: \"Porch\", value: \"Porch\" },\r\n      { key: 39, text: \"Barbecue\", value: \"Barbecue\" },\r\n      { key: 40, text: \"Pool\", value: \"Pool\" }\r\n    );\r\n\r\n  // Lights already assigned to a Room cannot be assigned to another\r\n  useEffect(() => {\r\n    setAssigned([...new Set(groups.map(group => group.lights).flat())]);\r\n  }, [groups]);\r\n\r\n  const handleCreate = async event => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    const newGroup = {\r\n      name,\r\n      type,\r\n      lights: selected\r\n    };\r\n\r\n    if (type === \"Room\") {\r\n      newGroup.class = clazz;\r\n    }\r\n\r\n    const response = await createGroup(newGroup);\r\n    if (response.success) {\r\n      cleanup();\r\n    } else {\r\n      setError(response.error);\r\n    }\r\n  };\r\n\r\n  const cleanup = () => {\r\n    setName(\"\");\r\n    setType(null);\r\n    setClazz(null);\r\n    setSelected([]);\r\n    setError(null);\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      size=\"small\"\r\n      as={Form}\r\n      dimmer={theme === \"inverted\" ? true : \"inverted\"}\r\n      trigger={\r\n        <trigger.type {...trigger.props} onClick={() => setOpen(true)} />\r\n      }\r\n      open={open}\r\n      // closeOnDimmerClick={true}\r\n      // closeOnEscape={true}\r\n      onActionClick={(_, data) => {\r\n        if (data.key === \"cancel\") cleanup();\r\n      }}\r\n      header=\"Create Group\"\r\n      content={\r\n        <Modal.Content>\r\n          <Modal.Description>\r\n            <b>Note</b>: Lights can only belong to a single{\" \"}\r\n            <i>\r\n              <code>Room</code>\r\n            </i>{\" \"}\r\n            at a time. A{\" \"}\r\n            <i>\r\n              <code>Zone</code>\r\n            </i>{\" \"}\r\n            can group lights from multiple rooms, or within a certain area of a\r\n            room. A{\" \"}\r\n            <i>\r\n              <code>LightGroup</code>\r\n            </i>{\" \"}\r\n            is similar to a Zone, but will not appear in other Hue applications.\r\n          </Modal.Description>\r\n          <Divider />\r\n          <Form.Group widths=\"equal\">\r\n            <Form.Input\r\n              name=\"group\"\r\n              label=\"Group Name\"\r\n              placeholder=\"Enter name\"\r\n              required\r\n              value={name}\r\n              onChange={(e, { value }) => setName(value)}\r\n            />\r\n            <Form.Select\r\n              name=\"type\"\r\n              label=\"Type\"\r\n              placeholder=\"Select type\"\r\n              required\r\n              options={[\r\n                { key: \"l\", text: \"LightGroup\", value: \"LightGroup\" },\r\n                {\r\n                  key: \"r\",\r\n                  text: \"Room\",\r\n                  value: \"Room\",\r\n                  disabled: version < 111\r\n                },\r\n                {\r\n                  key: \"z\",\r\n                  text: \"Zone\",\r\n                  value: \"Zone\",\r\n                  disabled: version < 130\r\n                },\r\n                {\r\n                  key: \"e\",\r\n                  text: \"Entertainment\",\r\n                  value: \"Entertainment\",\r\n                  disabled: true || version < 122\r\n                }\r\n              ]}\r\n              value={type}\r\n              onChange={(e, { value }) => setType(value)}\r\n            />\r\n            <Form.Select\r\n              name=\"class\"\r\n              label=\"Class\"\r\n              search\r\n              disabled={type !== \"Room\"}\r\n              required={type === \"Room\"}\r\n              placeholder=\"Select class\"\r\n              options={roomClasses}\r\n              value={clazz}\r\n              onChange={(e, { value }) => setClazz(value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Dropdown\r\n            name=\"lights\"\r\n            label=\"Lights\"\r\n            placeholder=\"Select lights\"\r\n            search\r\n            multiple\r\n            selection\r\n            required={type === \"Room\"}\r\n            options={lights\r\n              .filter(it =>\r\n                type === \"Room\" ? !assigned.includes(it.id) : true\r\n              )\r\n              .map(light => {\r\n                return { text: light.name, value: light.id };\r\n              })}\r\n            onChange={(e, { value }) => setSelected(value)}\r\n          />\r\n          <Message\r\n            size=\"tiny\"\r\n            negative\r\n            hidden={error == null}\r\n            content={error}\r\n          />\r\n        </Modal.Content>\r\n      }\r\n      actions={[\r\n        {\r\n          key: \"cancel\",\r\n          content: \"Cancel\",\r\n          onClick: cleanup\r\n        },\r\n        {\r\n          key: \"done\",\r\n          content: \"Save\",\r\n          positive: true,\r\n          disabled:\r\n            name.length === 0 ||\r\n            !type ||\r\n            (type !== \"Zone\" && selected.length === 0),\r\n          onClick: handleCreate\r\n        }\r\n      ]}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    version:\r\n      state.settings.config?.apiversion\r\n        .split(\".\")\r\n        .slice(0, 2)\r\n        .join(\"\") ?? \"0\",\r\n    lights: state.lights,\r\n    groups: state.groups,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createGroup })(CreateGroupModal);\r\n","import React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Menu, Sticky, Ref, Transition, List } from \"semantic-ui-react\";\r\n\r\nimport {\r\n  fetchGroups,\r\n  deleteGroup,\r\n  addLight,\r\n  removeLight,\r\n  setActiveGroup,\r\n  setView,\r\n  setTheme,\r\n  toggleExpanded\r\n} from \"../../actions\";\r\nimport LightsTable from \"./LightsTable\";\r\nimport LightsList from \"./LightsList\";\r\nimport ScenesList from \"../ScenesList\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport CenterPanel from \"../CenterPanel\";\r\nimport ToolPanel from \"../ToolPanel\";\r\nimport CreateGroupModal from \"../modals/CreateGroupModal\";\r\nimport DeleteItemModal from \"../modals/DeleteItemModal\";\r\n\r\nconst CARD = \"card\";\r\nconst LIST = \"list\";\r\n\r\nconst HomeView = ({\r\n  lights,\r\n  groups,\r\n  active,\r\n  settings,\r\n  fetchGroups,\r\n  deleteGroup,\r\n  addLight,\r\n  removeLight,\r\n  setActiveGroup,\r\n  setView,\r\n  toggleExpanded\r\n}) => {\r\n  const contextRef = useRef();\r\n\r\n  useEffect(() => {\r\n    fetchGroups();\r\n  }, [fetchGroups]);\r\n\r\n  const handleDelete = () => {\r\n    if (active.group) {\r\n      deleteGroup(active.group.id, active.group.name);\r\n      setActiveGroup(null);\r\n    } else if (active.light) {\r\n      removeLight(active.light);\r\n    }\r\n  };\r\n\r\n  const renderToolbar = () => {\r\n    return (\r\n      <Menu\r\n        inverted={settings.theme === \"inverted\"}\r\n        size=\"mini\"\r\n        icon\r\n        onClick={e => e.stopPropagation()}\r\n      >\r\n        <Menu.Item\r\n          link\r\n          active={settings.view !== CARD}\r\n          title=\"List View\"\r\n          icon=\"list\"\r\n          onClick={() => setView(LIST)}\r\n        />\r\n        <Menu.Item\r\n          link\r\n          active={settings.view === CARD}\r\n          icon=\"th\"\r\n          title=\"Card View\"\r\n          onClick={() => setView(CARD)}\r\n        />\r\n        <Menu.Item\r\n          link\r\n          title={`${settings.expandAll ? \"Collapse\" : \"Expand\"} All`}\r\n          icon={`angle double ${settings.expandAll ? \"up\" : \"down\"}`}\r\n          onClick={toggleExpanded}\r\n        />\r\n        <Menu.Menu position=\"right\">\r\n          <CreateGroupModal\r\n            trigger={<Menu.Item link title=\"Create Group\" icon=\"plus\" />}\r\n          />\r\n          <DeleteItemModal\r\n            header={`Delete ${active.group ? \"Group\" : \"Light\"}`}\r\n            itemName={active.light?.name ?? active.group?.name}\r\n            groupName={active.light?.group.name}\r\n            theme={settings.theme}\r\n            onSubmit={handleDelete}\r\n            trigger={\r\n              <Menu.Item\r\n                link\r\n                disabled={!(active.light || active.group)}\r\n                title=\"Delete\"\r\n                icon=\"trash\"\r\n              />\r\n            }\r\n          />\r\n        </Menu.Menu>\r\n      </Menu>\r\n    );\r\n  };\r\n\r\n  const renderTables = () => {\r\n    return groups.map(group => {\r\n      return (\r\n        // <List.Item key={group.id}>\r\n        <LightsTable\r\n          group={group}\r\n          lights={lights.filter(light => group.lights.includes(light.id))}\r\n          expanded={settings.expanded.includes(group.id)}\r\n          key={group.id}\r\n        />\r\n        // </List.Item>\r\n      );\r\n    });\r\n  };\r\n\r\n  const renderCards = () => {\r\n    return (\r\n      <LightsList groups={groups} lights={settings.expandAll ? lights : []} />\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Ref innerRef={contextRef}>\r\n        <CenterPanel onClick={() => setActiveGroup(null)}>\r\n          <Sticky context={contextRef} offset={16}>\r\n            {renderToolbar()}\r\n          </Sticky>\r\n          {/* <Transition.Group animation=\"fade right\" duration={500} as={List}> */}\r\n          {settings.view === CARD ? renderCards() : renderTables()}\r\n          {/* </Transition.Group> */}\r\n        </CenterPanel>\r\n      </Ref>\r\n      <ToolPanel>\r\n        <ColorPicker />\r\n        <ScenesList />\r\n      </ToolPanel>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    lights: state.lights,\r\n    groups: state.groups,\r\n    active: state.active,\r\n    settings: state.settings\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n  fetchGroups,\r\n  deleteGroup,\r\n  addLight,\r\n  removeLight,\r\n  setActiveGroup,\r\n  setView,\r\n  setTheme,\r\n  toggleExpanded\r\n})(HomeView);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchRules } from \"../actions\";\r\n\r\nconst RulesView = ({ rules }) => {\r\n  return <div>RulesList</div>;\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { rules: state.rules };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchRules })(RulesView);\r\n","import React from \"react\";\r\nimport {Grid } from 'semantic-ui-react'\r\n\r\nconst FullPanel = ({ onClick, children }) => {\r\n  return (\r\n    <Grid.Column \r\n      width={12}\r\n      style={{ overflowY: \"auto\", height: \"100%\", paddingLeft: 0 }}\r\n      children={children}\r\n      onClick={onClick}\r\n    />\r\n  );\r\n};\r\n\r\nexport default FullPanel;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport {\r\n  Segment,\r\n  Accordion,\r\n  Label,\r\n  Header,\r\n  Icon,\r\n  Form,\r\n  Divider,\r\n  List,\r\n  Input,\r\n  Button\r\n} from \"semantic-ui-react\";\r\n\r\nimport { initializeApp, resetApp, createUser } from \"../actions\";\r\nimport FullPanel from \"./FullPanel\";\r\n\r\nconst SettingsView = ({ settings, createUser }) => {\r\n  const [deviceAddress, setDeviceAddress] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const discoverDevices = async () => {\r\n      if (settings.ip) {\r\n        setDeviceAddress(settings.ip);\r\n      } else {\r\n        const response = await axios.get(\"https://discovery.meethue.com\");\r\n        if (response.data[0]) {\r\n          setDeviceAddress(response.data[0].internalipaddress || \"\");\r\n        }\r\n      }\r\n    };\r\n\r\n    discoverDevices();\r\n  }, [settings]);\r\n\r\n  const handleSubmit = () => {\r\n    createUser(deviceAddress);\r\n  };\r\n\r\n  const renderMessage = () => {\r\n    if (settings.error) {\r\n      return (\r\n        <div\r\n          className={`ui tiny ${\r\n            settings.theme === \"inverted\" ? \"inverted red\" : \"error\"\r\n          } message`}\r\n        >\r\n          <div className=\"header\">Error: {settings.error}</div>\r\n        </div>\r\n      );\r\n    }\r\n    if (settings.ip && settings.username && settings.config) {\r\n      return (\r\n        <div\r\n          className={`ui tiny ${\r\n            settings.theme === \"inverted\" ? \"inverted green\" : \"success\"\r\n          } message`}\r\n        >\r\n          <div className=\"header\">Device connected</div>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        className={`ui tiny ${\r\n          settings.theme === \"inverted\" ? \"inverted\" : null\r\n        } message`}\r\n      >\r\n        <div className=\"header\">Device not connected</div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const helpPanels = [\r\n    {\r\n      key: \"finding-ip\",\r\n      title: \"Finding your Device IP\",\r\n      content: {\r\n        content: (\r\n          <div>\r\n            <div>\r\n              If your device is not automatically discovered, you must manually\r\n              enter the device IP address above.\r\n            </div>\r\n            <div>\r\n              Your IP address can be found by using one of the following\r\n              methods:\r\n            </div>\r\n            <Divider />\r\n            <div>\r\n              Use the{\" \"}\r\n              <a\r\n                href=\"https://discovery.meethue.com\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Hue Discovery Tool\r\n              </a>\r\n              <List\r\n                ordered\r\n                inverted={settings.theme === \"inverted\"}\r\n                items={[\r\n                  \"In a browser, visit the Discovery Tool, making sure you are on the same network as your device\",\r\n                  {\r\n                    key: \"ip-2\",\r\n                    content: (\r\n                      <>\r\n                        If a device is found, the IP address will appear next to{\" \"}\r\n                        <code>\"internalipaddress\":</code>\r\n                      </>\r\n                    )\r\n                  }\r\n                ]}\r\n              ></List>\r\n            </div>\r\n            <Divider />\r\n            <div>\r\n              Log into your wireless router and look Philips Hue up in the DHCP\r\n              table\r\n            </div>\r\n            <Divider />\r\n            <div>\r\n              Use the official{\" \"}\r\n              <a\r\n                href=\"https://www2.meethue.com/en-us/app/bridge#download-hue-app\"\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                Hue App\r\n              </a>\r\n              <List\r\n                ordered\r\n                inverted={settings.theme === \"inverted\"}\r\n                items={[\r\n                  \"Download the official Philips Hue app\",\r\n                  \"Connect your phone to the network the hue bridge is on\",\r\n                  \"Start the hue app\",\r\n                  \"Push link connect to the bridge\",\r\n                  {\r\n                    key: \"setup-5\",\r\n                    content: (\r\n                      <>\r\n                        Go to <b> Settings > My Bridge > Network </b> and switch\r\n                        off the DHCP toggle\r\n                      </>\r\n                    )\r\n                  },\r\n                  \"Note the IP address, then switch DHCP back on\"\r\n                ]}\r\n              />\r\n            </div>\r\n            <Divider />\r\n            <div>\r\n              Use a UPnP discovery app to find Philips Hue in your network\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      key: \"connecting-to-bridge\",\r\n      title: \"Connecting to your Philips Hue Bridge\",\r\n      content: {\r\n        content: (\r\n          <div>\r\n            Your device should be automatically detected if it is on the same\r\n            network as your computer. If you are on the same network and still\r\n            do not see a Device IP, try obtaining it using one of the methods\r\n            above.\r\n            <Divider />\r\n            <List\r\n              ordered\r\n              inverted={settings.theme === \"inverted\"}\r\n              items={[\r\n                \"Enter your Device IP into the field above\",\r\n                {\r\n                  key: 2,\r\n                  content: (\r\n                    <>\r\n                      Press the <b> Pair </b> button on your Hue Bridge device\r\n                    </>\r\n                  )\r\n                },\r\n                {\r\n                  key: 3,\r\n                  content: (\r\n                    <>\r\n                      Press the <b> Connect </b> button\r\n                    </>\r\n                  )\r\n                }\r\n              ]}\r\n            />\r\n          </div>\r\n        )\r\n      }\r\n    },\r\n    {\r\n      key: \"connection-error\",\r\n      title: \"Clicking the Connect button does nothing\",\r\n      content: {\r\n        content: (\r\n          <div>\r\n            If clicking the <b> Connect </b> button has no apparent effect and\r\n            no errors are present, you may have to allow your browser to make\r\n            CORS requests:\r\n            <Divider />\r\n            <List\r\n              ordered\r\n              inverted={settings.theme === \"inverted\"}\r\n              items={[\r\n                \"Make sure your Device was discovered and your computer is on the same network\",\r\n                {\r\n                  key: 2,\r\n                  content: (\r\n                    <>\r\n                      Follow{\" \"}\r\n                      <u>\r\n                        <a\r\n                          href={`https://${deviceAddress}`}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                        >\r\n                          this link\r\n                        </a>\r\n                      </u>{\" \"}\r\n                      to attempt to communicate with your Hue Bridge\r\n                    </>\r\n                  )\r\n                },\r\n                {\r\n                  key: 3,\r\n                  content: (\r\n                    <>\r\n                      You may see a warning message about continuing to the next\r\n                      page. Accept and proceed by clicking\r\n                      <b> Details </b> or <b> Advanced </b>, depending on your\r\n                      browser, and clicking the link to continue to the\r\n                      requested page.\r\n                    </>\r\n                  )\r\n                },\r\n                \"If you see a webpage with the Philips Hue logo and information about software licensing, CORS is now enabled\",\r\n                \"Close the window and refresh the Huebert app\",\r\n                \"Proceed with normal setup\"\r\n              ]}\r\n            />\r\n          </div>\r\n        )\r\n      }\r\n    }\r\n  ];\r\n\r\n  const renderHelp = () => {\r\n    return (\r\n      <Segment inverted={settings.theme === \"inverted\"}>\r\n        <Label\r\n          attached=\"top\"\r\n          color={settings.theme === \"inverted\" ? \"black\" : null}\r\n          content=\"HELP\"\r\n        />\r\n        <Accordion\r\n          fluid\r\n          inverted={settings.theme === \"inverted\"}\r\n          panels={helpPanels}\r\n        />\r\n      </Segment>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <FullPanel>\r\n      {renderMessage()}\r\n      <Segment placeholder inverted={settings.theme === \"inverted\"}>\r\n        <Label\r\n          attached=\"top\"\r\n          color={settings.theme === \"inverted\" ? \"black\" : null}\r\n          content=\"DEVICE SETUP\"\r\n        />\r\n        <Header icon>\r\n          <Icon name={deviceAddress ? \"wifi\" : \"exclamation\"} />\r\n          Connect to Philips Hue\r\n        </Header>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Field>\r\n            <Input\r\n              action={<Button type=\"submit\" color=\"blue\" content=\"Connect\" />}\r\n              label=\"http://\"\r\n              placeholder={deviceAddress || \"Device IP Address\"}\r\n              value={deviceAddress}\r\n              onChange={event => setDeviceAddress(event.target.value)}\r\n            />\r\n          </Form.Field>\r\n        </Form>\r\n      </Segment>\r\n      {renderHelp()}\r\n    </FullPanel>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { settings: state.settings };\r\n};\r\n\r\nexport default connect(mapStateToProps, { createUser, resetApp })(SettingsView);\r\n","import React from \"react\";\r\nimport { Segment, Label, Table, Tab } from \"semantic-ui-react\";\r\n\r\nconst SchedulesList = ({ schedules, theme }) => {\r\n  return (\r\n    <Segment inverted={theme === \"inverted\"}>\r\n      <Label\r\n        attached=\"top\"\r\n        color={theme === \"inverted\" ? \"black\" : null}\r\n        content=\"SCHEDULES\"\r\n      />\r\n      <Table inverted={theme === \"inverted\"}>\r\n        <Table.Body>\r\n          {schedules.map(sched => <Table.Row cells={[sched.name, sched.localtime]} key={sched.id}/>)}\r\n        </Table.Body>\r\n      </Table>\r\n    </Segment>\r\n  );\r\n};\r\n\r\nexport default SchedulesList;\r\n","import React from \"react\";\r\nimport { Segment, Label, Table, Tab } from \"semantic-ui-react\";\r\n\r\nconst RulesList = ({ rules, theme }) => {\r\n  return (\r\n    <Segment inverted={theme === \"inverted\"}>\r\n      <Label\r\n        attached=\"top\"\r\n        color={theme === \"inverted\" ? \"black\" : null}\r\n        content=\"RULES\"\r\n      />\r\n      <Table inverted={theme === \"inverted\"}>\r\n        <Table.Body>\r\n          {rules.map(rule => <Table.Row cells={[rule.name, `Status: ${rule.status}`]} key={rule.id}/>)}\r\n        </Table.Body>\r\n      </Table>\r\n    </Segment>\r\n  );\r\n};\r\n\r\nexport default RulesList;\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport CenterPanel from \"../CenterPanel\";\r\nimport ToolPanel from \"../ToolPanel\";\r\nimport SchedulesList from './SchedulesList';\r\nimport { fetchSchedules } from \"../../actions\";\r\nimport RulesList from \"./RulesList\";\r\n\r\nconst RoutinesView = ({ schedules, rules, theme }) => {\r\n  return (\r\n    <>\r\n      <CenterPanel>\r\n        <SchedulesList theme={theme} schedules={schedules} />\r\n        <RulesList theme={theme} rules={rules} />\r\n      </CenterPanel>\r\n      <ToolPanel></ToolPanel>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    schedules: state.schedules,\r\n    rules: state.rules,\r\n    theme: state.settings.theme\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, { fetchSchedules })(RoutinesView);\r\n","// Light Types\r\nexport const HUE_COLOR_AMBIANCE = \"Extended color light\";\r\nexport const HUE_AMBIANCE_SPOT = \"Color temperature light\";\r\n\r\n// Sensor Types\r\nexport const HUE_DIMMER_SWITCH = \"ZLLSwitch\";\r\nexport const HUE_TAP_SWITCH = \"ZGPSwitch\";\r\nexport const HUE_SMART_BUTTON = \"FIXME\";\r\nexport const HUE_SMART_PLUG = \"FIXME\";\r\nexport const HUE_MOTION_SENSOR = \"ZLLPresence\";\r\nexport const HUE_AMBIENT_LIGHT_SENSOR = \"ZLLLightLevel\";\r\nexport const HUE_TEMPERATURE_SENSOR = \"ZLLTemperature\";\r\n","import { useRef, useEffect, useCallback } from \"react\";\r\n\r\nexport default (callback, delay, dependencies = []) => {\r\n  const throttleRef = useRef(false);\r\n  const callbackRef = useRef(callback);\r\n\r\n  // Update the callback to be used, if it ever changes\r\n  useEffect(() => {\r\n    callbackRef.current = callback;\r\n  }, [callback]);\r\n\r\n  return useCallback((...args) => {\r\n    if (throttleRef.current) {\r\n      console.log(\"too soon!\")\r\n      return;\r\n    }\r\n\r\n    console.log(\"OK!\")\r\n    throttleRef.current = true;\r\n    callbackRef.current(...args);\r\n    setTimeout(() => {\r\n      console.log(\"resetting\");\r\n      throttleRef.current = false;\r\n    }, delay);\r\n  }, [delay, ...dependencies]);\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Table,\r\n  Checkbox,\r\n  Icon,\r\n  Label,\r\n  Form,\r\n  Dropdown\r\n} from \"semantic-ui-react\";\r\nimport useThrottled from \"../../hooks/useThrottled\";\r\n\r\nexport default ({ sensor, settings, onToggle, onAdjust }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const batteryLevel =\r\n    sensor.config.battery > 75\r\n      ? \"full\"\r\n      : sensor.config.battery > 50\r\n      ? \"three quarters\"\r\n      : sensor.config.battery > 25\r\n      ? \"quarter\"\r\n      : \"empty\";\r\n  const sensitivityOptions = [\r\n    ...new Array(sensor.config.sensitivitymax + 1)\r\n  ].map((v, i) => ({ key: i, text: i, value: i }));\r\n\r\n  const handleExpand = event => {\r\n    setExpanded(!expanded);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const onChangeSensitivity = useThrottled(\r\n    sensitivity => {\r\n      onAdjust(sensor.id, { sensitivity });\r\n    },\r\n    1000,\r\n    []\r\n  );\r\n\r\n  const onToggleIndicator = useThrottled(\r\n    () => {\r\n      onAdjust(sensor.id, { ledindication: !sensor.config.ledindication });\r\n    },\r\n    1000,\r\n    []\r\n  );\r\n\r\n  const renderRows = () => (\r\n    <>\r\n      <Table.Row\r\n        cells={[\r\n          { key: 0, content: \"Last Triggered\" },\r\n          { key: 1, content: Date(sensor.state.lastupdated).split(\"GMT\")[0] },\r\n          {\r\n            key: 2,\r\n            content: <Icon name={sensor.state.presence ? \"eye\" : \"eye slash\"} />\r\n          }\r\n        ]}\r\n      />\r\n\r\n      <Table.Row\r\n        cells={[\r\n          { key: 0, content: \"Battery Level\" },\r\n          { key: 1, content: null },\r\n          { key: 2, content: sensor.config.battery }\r\n        ]}\r\n      />\r\n\r\n      <Table.Row\r\n        cells={[\r\n          { key: 0, content: \"Sensitivity\" },\r\n          { key: 1, content: null },\r\n          {\r\n            key: 2,\r\n            content: (\r\n              <Dropdown\r\n                size=\"small\"\r\n                className=\"middle aligned\"\r\n                inline\r\n                value={sensor.config.sensitivity}\r\n                options={sensitivityOptions}\r\n                onChange={(e, { value }) => onChangeSensitivity(value)}\r\n              />\r\n            )\r\n          }\r\n        ]}\r\n      />\r\n\r\n      <Table.Row\r\n        cells={[\r\n          { key: 0, content: \"LED Indicator\" },\r\n          { key: 1, content: null },\r\n          {\r\n            key: 2,\r\n            content: (\r\n              <Checkbox\r\n                className=\"middle aligned\"\r\n                label=\"\"\r\n                checked={sensor.config.ledindication}\r\n                onChange={onToggleIndicator}\r\n              />\r\n            )\r\n          }\r\n        ]}\r\n      />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Table\r\n      size=\"small\"\r\n      compact\r\n      singleLine\r\n      striped\r\n      inverted={settings.theme === \"inverted\"}\r\n    >\r\n      <Table.Header>\r\n        <Table.Row>\r\n          <Table.HeaderCell>\r\n            <Icon\r\n              name={`caret ${expanded ? \"down\" : \"right\"}`}\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={handleExpand}\r\n            />\r\n            <Label as=\"a\" color=\"purple\" image onClick={handleExpand}>\r\n              {sensor.name}\r\n              <Label.Detail>\r\n                <Icon name={`battery ${batteryLevel}`} />\r\n              </Label.Detail>\r\n            </Label>\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell style={{ width: \"40%\" }}>\r\n            {/* <Icon name={`battery ${batteryLevel}`} /> */}\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell collapsing>\r\n            <Checkbox\r\n              className=\"middle aligned\"\r\n              toggle\r\n              label={\"\"}\r\n              disabled={!sensor.config.reachable}\r\n              checked={sensor.config.on}\r\n              onChange={() => onToggle(sensor)}\r\n            />\r\n          </Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n      <Table.Body>{expanded ? renderRows() : null}</Table.Body>\r\n    </Table>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Table,\r\n  Checkbox,\r\n  Icon,\r\n  Label,\r\n  Form,\r\n  Dropdown\r\n} from \"semantic-ui-react\";\r\n\r\nexport default ({ sensor, settings, onToggle }) => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const batteryLevel =\r\n    sensor.config.battery > 75\r\n      ? \"full\"\r\n      : sensor.config.battery > 50\r\n      ? \"three quarters\"\r\n      : sensor.config.battery > 25\r\n      ? \"quarter\"\r\n      : \"empty\";\r\n\r\n  const handleExpand = event => {\r\n    setExpanded(!expanded);\r\n    event.stopPropagation();\r\n  };\r\n\r\n  const renderRows = () => (\r\n    <>\r\n      <Table.Row\r\n        cells={[\r\n          { key: 0, content: \"Last Triggered\" },\r\n          { key: 1, content: sensor.state.lastupdated ? Date(sensor.state.lastupdated).split(\"GMT\")[0] : null },\r\n          { key: 2, content: sensor.state.buttonevent }\r\n        ]}\r\n      />\r\n\r\n      <Table.Row\r\n        cells={[\r\n          { key: 0, content: \"Battery Level\" },\r\n          { key: 1, content: null },\r\n          { key: 2, content: sensor.config.battery }\r\n        ]}\r\n      />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Table\r\n      size=\"small\"\r\n      compact\r\n      singleLine\r\n      striped\r\n      inverted={settings.theme === \"inverted\"}\r\n    >\r\n      <Table.Header>\r\n        <Table.Row>\r\n          <Table.HeaderCell>\r\n            <Icon\r\n              name={`caret ${expanded ? \"down\" : \"right\"}`}\r\n              style={{ cursor: \"pointer\" }}\r\n              onClick={handleExpand}\r\n            />\r\n            <Label as=\"a\" color=\"teal\" image onClick={handleExpand}>\r\n              {sensor.name}\r\n              <Label.Detail>\r\n                <Icon name={`battery ${batteryLevel}`} />\r\n              </Label.Detail>\r\n            </Label>\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell style={{ width: \"40%\" }}>\r\n            {/* <Icon name={`battery ${batteryLevel}`} /> */}\r\n          </Table.HeaderCell>\r\n          <Table.HeaderCell collapsing>\r\n            <Checkbox\r\n              className=\"middle aligned\"\r\n              toggle\r\n              label={\"\"}\r\n              disabled={!sensor.config.reachable}\r\n              checked={sensor.config.on}\r\n              onChange={() => onToggle(sensor)}\r\n            />\r\n          </Table.HeaderCell>\r\n        </Table.Row>\r\n      </Table.Header>\r\n      <Table.Body>{expanded ? renderRows() : null}</Table.Body>\r\n    </Table>\r\n  );\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { toggleSensor, configureSensor } from \"../../actions\";\r\nimport * as Device from \"../../devices\";\r\nimport CenterPanel from \"../CenterPanel\";\r\nimport ToolPanel from \"../ToolPanel\";\r\nimport GenericSensorItem from \"./GenericSensorItem\";\r\nimport MotionSensorItem from \"./MotionSensorItem\";\r\nimport DimmerSwitchItem from \"./DimmerSwitchItem\";\r\n\r\nconst SensorsView = ({ sensors, settings, toggleSensor, configureSensor }) => {\r\n  const renderTables = () => {\r\n    return sensors\r\n      .filter(s => Device[s.type] !== null)\r\n      .map(s => {\r\n        switch (s.type) {\r\n          case Device.HUE_DIMMER_SWITCH:\r\n            return (\r\n              <DimmerSwitchItem\r\n                sensor={s}\r\n                settings={settings}\r\n                onToggle={toggleSensor}\r\n                key={s.id}\r\n              />\r\n            );\r\n          case Device.HUE_TAP_SWITCH:\r\n          case Device.HUE_SMART_BUTTON:\r\n          case Device.HUE_SMART_PLUG:\r\n          case Device.HUE_MOTION_SENSOR:\r\n            return (\r\n              <MotionSensorItem\r\n                sensor={s}\r\n                settings={settings}\r\n                onAdjust={configureSensor}\r\n                onToggle={toggleSensor}\r\n                key={s.id}\r\n              />\r\n            );\r\n          case Device.HUE_AMBIENT_LIGHT_SENSOR:\r\n          case Device.HUE_TEMPERATURE_SENSOR:\r\n          default:\r\n            return;\r\n            // return (\r\n            //   <GenericSensorItem\r\n            //     sensor={s}\r\n            //     settings={settings}\r\n            //     onToggle={toggleSensor}\r\n            //     key={s.id}\r\n            //   />\r\n            // );\r\n        }\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <CenterPanel>{renderTables()}</CenterPanel>\r\n      <ToolPanel></ToolPanel>\r\n    </>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { sensors: state.sensors, settings: state.settings };\r\n};\r\n\r\nexport default connect(mapStateToProps, { toggleSensor, configureSensor })(\r\n  SensorsView\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter, Switch, Route, Redirect } from \"react-router-dom\";\r\nimport { Grid, Menu } from \"semantic-ui-react\";\r\n\r\nimport { fetchGroups, initializeApp, setTheme } from \"../actions\";\r\nimport useRefresh from \"../hooks/useRefresh\";\r\nimport ToolPanel from \"./ToolPanel\";\r\nimport NavigationMenu from \"./NavigationMenu\";\r\nimport Info from \"./Info\";\r\nimport HomeView from \"./home/HomeView\";\r\nimport RulesView from \"./RulesView\";\r\nimport SettingsView from \"./SettingsView\";\r\nimport RoutinesView from \"./routines/RoutinesView\";\r\nimport SensorsView from \"./sensors/SensorsView\";\r\n\r\nconst INVERTED = \"inverted\";\r\n\r\nconst App = props => {\r\n  const { initializeApp, fetchGroups } = props;\r\n  // FIXME: Should use the fetchAll() function, once I make it\r\n  const [ beginRefresh, cancelRefresh ] = useRefresh(fetchGroups, 5000);\r\n\r\n  useEffect(() => {\r\n    initializeApp();\r\n    beginRefresh();\r\n\r\n    return cancelRefresh;\r\n  }, [initializeApp, beginRefresh, cancelRefresh]);\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        paddingTop: 16,\r\n        paddingLeft: 16,\r\n        paddingRight: 16,\r\n        backgroundColor: props.settings.theme === INVERTED ? \"#080808\" : \"white\",\r\n        height: \"100vh\"\r\n      }}\r\n    >\r\n      <Grid style={{ overflowY: \"hidden\", height: \"100%\" }}>\r\n        <ToolPanel>\r\n          <NavigationMenu location={props.location} />\r\n          <Info />\r\n          <Menu inverted={props.settings.theme === INVERTED} size=\"mini\" icon>\r\n            <Menu.Item\r\n              active={props.settings.theme === INVERTED}\r\n              title=\"Toggle Dark Mode\"\r\n              icon=\"adjust\"\r\n              onClick={() =>\r\n                props.setTheme(\r\n                  props.settings.theme === INVERTED ? null : INVERTED\r\n                )\r\n              }\r\n            />\r\n          </Menu>\r\n        </ToolPanel>\r\n        <Switch>\r\n          <Route exact path=\"/\" component={HomeView} />\r\n          <Route exact path=\"/routines\" component={RoutinesView}/>\r\n          <Route exact path=\"/sensors\" component={SensorsView}/>\r\n          <Route exact path=\"/rules\" component={RulesView} />\r\n          <Route exact path=\"/settings\" component={SettingsView} />\r\n          <Redirect to={!props.settings.config ? \"/settings\" : \"/\"} />\r\n        </Switch>\r\n      </Grid>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return { settings: state.settings };\r\n};\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, {\r\n    fetchGroups,\r\n    initializeApp,\r\n    setTheme\r\n  })(App)\r\n);\r\n","import { useEffect, useRef, useCallback } from \"react\";\r\n\r\nexport default (action, interval) => {\r\n  const intervalRef = useRef(null);\r\n\r\n  const refresh = useCallback(() => {\r\n    if (intervalRef.current !== null) \r\n      return;\r\n\r\n    action();\r\n    intervalRef.current = setInterval(() => {\r\n      console.log(\"refreshing\");\r\n      action();\r\n    }, interval);\r\n  }, [action, interval]);\r\n\r\n  const cancel = useCallback(() => {\r\n    if (intervalRef.current === null)\r\n      return;\r\n\r\n    console.log(\"cancelling refresh\");\r\n    clearInterval(intervalRef.current);\r\n    intervalRef.current = null;\r\n  }, [intervalRef]);\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"focus\", refresh);\r\n    window.addEventListener(\"blur\", cancel);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"focus\", refresh);\r\n      window.removeEventListener(\"blur\", cancel);\r\n    };\r\n  }, [refresh, cancel]);\r\n\r\n  return [ refresh, cancel ];\r\n};\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter as Router } from 'react-router-dom';\r\nimport { Provider } from \"react-redux\";\r\n// import {createBrowserHistory } from 'history';\r\n\r\nimport store from \"./reducers\";\r\nimport App from \"./components/App\";\r\n\r\n// const history = createBrowserHistory();\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}